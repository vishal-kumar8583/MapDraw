(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function i(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=i(r);fetch(r.href,a)}})();var Y_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fd={exports:{}},vs={},Hd={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jr=Symbol.for("react.element"),K_=Symbol.for("react.portal"),Q_=Symbol.for("react.fragment"),X_=Symbol.for("react.strict_mode"),q_=Symbol.for("react.profiler"),J_=Symbol.for("react.provider"),eg=Symbol.for("react.context"),tg=Symbol.for("react.forward_ref"),ng=Symbol.for("react.suspense"),ig=Symbol.for("react.memo"),rg=Symbol.for("react.lazy"),lh=Symbol.iterator;function og(e){return e===null||typeof e!="object"?null:(e=lh&&e[lh]||e["@@iterator"],typeof e=="function"?e:null)}var Zd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ud=Object.assign,Wd={};function zi(e,t,i){this.props=e,this.context=t,this.refs=Wd,this.updater=i||Zd}zi.prototype.isReactComponent={};zi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gd(){}Gd.prototype=zi.prototype;function ql(e,t,i){this.props=e,this.context=t,this.refs=Wd,this.updater=i||Zd}var Jl=ql.prototype=new Gd;Jl.constructor=ql;Ud(Jl,zi.prototype);Jl.isPureReactComponent=!0;var uh=Array.isArray,Vd=Object.prototype.hasOwnProperty,eu={current:null},$d={key:!0,ref:!0,__self:!0,__source:!0};function Yd(e,t,i){var o,r={},a=null,u=null;if(t!=null)for(o in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(a=""+t.key),t)Vd.call(t,o)&&!$d.hasOwnProperty(o)&&(r[o]=t[o]);var h=arguments.length-2;if(h===1)r.children=i;else if(1<h){for(var d=Array(h),p=0;p<h;p++)d[p]=arguments[p+2];r.children=d}if(e&&e.defaultProps)for(o in h=e.defaultProps,h)r[o]===void 0&&(r[o]=h[o]);return{$$typeof:jr,type:e,key:a,ref:u,props:r,_owner:eu.current}}function sg(e,t){return{$$typeof:jr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function tu(e){return typeof e=="object"&&e!==null&&e.$$typeof===jr}function ag(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var ch=/\/+/g;function ma(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ag(""+e.key):t.toString(36)}function bo(e,t,i,o,r){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case jr:case K_:u=!0}}if(u)return u=e,r=r(u),e=o===""?"."+ma(u,0):o,uh(r)?(i="",e!=null&&(i=e.replace(ch,"$&/")+"/"),bo(r,t,i,"",function(p){return p})):r!=null&&(tu(r)&&(r=sg(r,i+(!r.key||u&&u.key===r.key?"":(""+r.key).replace(ch,"$&/")+"/")+e)),t.push(r)),1;if(u=0,o=o===""?".":o+":",uh(e))for(var h=0;h<e.length;h++){a=e[h];var d=o+ma(a,h);u+=bo(a,t,i,d,r)}else if(d=og(e),typeof d=="function")for(e=d.call(e),h=0;!(a=e.next()).done;)a=a.value,d=o+ma(a,h++),u+=bo(a,t,i,d,r);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function co(e,t,i){if(e==null)return e;var o=[],r=0;return bo(e,o,"","",function(a){return t.call(i,a,r++)}),o}function lg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ke={current:null},Do={transition:null},ug={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:Do,ReactCurrentOwner:eu};function Kd(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:co,forEach:function(e,t,i){co(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return co(e,function(){t++}),t},toArray:function(e){return co(e,function(t){return t})||[]},only:function(e){if(!tu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=zi;te.Fragment=Q_;te.Profiler=q_;te.PureComponent=ql;te.StrictMode=X_;te.Suspense=ng;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ug;te.act=Kd;te.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=Ud({},e.props),r=e.key,a=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,u=eu.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var h=e.type.defaultProps;for(d in t)Vd.call(t,d)&&!$d.hasOwnProperty(d)&&(o[d]=t[d]===void 0&&h!==void 0?h[d]:t[d])}var d=arguments.length-2;if(d===1)o.children=i;else if(1<d){h=Array(d);for(var p=0;p<d;p++)h[p]=arguments[p+2];o.children=h}return{$$typeof:jr,type:e.type,key:r,ref:a,props:o,_owner:u}};te.createContext=function(e){return e={$$typeof:eg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:J_,_context:e},e.Consumer=e};te.createElement=Yd;te.createFactory=function(e){var t=Yd.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:tg,render:e}};te.isValidElement=tu;te.lazy=function(e){return{$$typeof:rg,_payload:{_status:-1,_result:e},_init:lg}};te.memo=function(e,t){return{$$typeof:ig,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=Do.transition;Do.transition={};try{e()}finally{Do.transition=t}};te.unstable_act=Kd;te.useCallback=function(e,t){return Ke.current.useCallback(e,t)};te.useContext=function(e){return Ke.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return Ke.current.useDeferredValue(e)};te.useEffect=function(e,t){return Ke.current.useEffect(e,t)};te.useId=function(){return Ke.current.useId()};te.useImperativeHandle=function(e,t,i){return Ke.current.useImperativeHandle(e,t,i)};te.useInsertionEffect=function(e,t){return Ke.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return Ke.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return Ke.current.useMemo(e,t)};te.useReducer=function(e,t,i){return Ke.current.useReducer(e,t,i)};te.useRef=function(e){return Ke.current.useRef(e)};te.useState=function(e){return Ke.current.useState(e)};te.useSyncExternalStore=function(e,t,i){return Ke.current.useSyncExternalStore(e,t,i)};te.useTransition=function(){return Ke.current.useTransition()};te.version="18.3.1";Hd.exports=te;var F=Hd.exports;const ki=Xl(F);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cg=F,hg=Symbol.for("react.element"),dg=Symbol.for("react.fragment"),fg=Object.prototype.hasOwnProperty,pg=cg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mg={key:!0,ref:!0,__self:!0,__source:!0};function Qd(e,t,i){var o,r={},a=null,u=null;i!==void 0&&(a=""+i),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(u=t.ref);for(o in t)fg.call(t,o)&&!mg.hasOwnProperty(o)&&(r[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)r[o]===void 0&&(r[o]=t[o]);return{$$typeof:hg,type:e,key:a,ref:u,props:r,_owner:pg.current}}vs.Fragment=dg;vs.jsx=Qd;vs.jsxs=Qd;Fd.exports=vs;var v=Fd.exports,$a={},Xd={exports:{}},ut={},qd={exports:{}},Jd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,Y){var B=z.length;z.push(Y);e:for(;0<B;){var K=B-1>>>1,oe=z[K];if(0<r(oe,Y))z[K]=Y,z[B]=oe,B=K;else break e}}function i(z){return z.length===0?null:z[0]}function o(z){if(z.length===0)return null;var Y=z[0],B=z.pop();if(B!==Y){z[0]=B;e:for(var K=0,oe=z.length,Me=oe>>>1;K<Me;){var he=2*(K+1)-1,le=z[he],X=he+1,Xe=z[X];if(0>r(le,B))X<oe&&0>r(Xe,le)?(z[K]=Xe,z[X]=B,K=X):(z[K]=le,z[he]=B,K=he);else if(X<oe&&0>r(Xe,B))z[K]=Xe,z[X]=B,K=X;else break e}}return Y}function r(z,Y){var B=z.sortIndex-Y.sortIndex;return B!==0?B:z.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();e.unstable_now=function(){return u.now()-h}}var d=[],p=[],y=1,m=null,g=3,S=!1,C=!1,P=!1,D=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(z){for(var Y=i(p);Y!==null;){if(Y.callback===null)o(p);else if(Y.startTime<=z)o(p),Y.sortIndex=Y.expirationTime,t(d,Y);else break;Y=i(p)}}function T(z){if(P=!1,k(z),!C)if(i(d)!==null)C=!0,re(N);else{var Y=i(p);Y!==null&&je(T,Y.startTime-z)}}function N(z,Y){C=!1,P&&(P=!1,w(j),j=-1),S=!0;var B=g;try{for(k(Y),m=i(d);m!==null&&(!(m.expirationTime>Y)||z&&!Q());){var K=m.callback;if(typeof K=="function"){m.callback=null,g=m.priorityLevel;var oe=K(m.expirationTime<=Y);Y=e.unstable_now(),typeof oe=="function"?m.callback=oe:m===i(d)&&o(d),k(Y)}else o(d);m=i(d)}if(m!==null)var Me=!0;else{var he=i(p);he!==null&&je(T,he.startTime-Y),Me=!1}return Me}finally{m=null,g=B,S=!1}}var R=!1,A=null,j=-1,$=5,G=-1;function Q(){return!(e.unstable_now()-G<$)}function ne(){if(A!==null){var z=e.unstable_now();G=z;var Y=!0;try{Y=A(!0,z)}finally{Y?xe():(R=!1,A=null)}}else R=!1}var xe;if(typeof x=="function")xe=function(){x(ne)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ae=U.port2;U.port1.onmessage=ne,xe=function(){ae.postMessage(null)}}else xe=function(){D(ne,0)};function re(z){A=z,R||(R=!0,xe())}function je(z,Y){j=D(function(){z(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){C||S||(C=!0,re(N))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return i(d)},e.unstable_next=function(z){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var B=g;g=Y;try{return z()}finally{g=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var B=g;g=z;try{return Y()}finally{g=B}},e.unstable_scheduleCallback=function(z,Y,B){var K=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?K+B:K):B=K,z){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=B+oe,z={id:y++,callback:Y,priorityLevel:z,startTime:B,expirationTime:oe,sortIndex:-1},B>K?(z.sortIndex=B,t(p,z),i(d)===null&&z===i(p)&&(P?(w(j),j=-1):P=!0,je(T,B-K))):(z.sortIndex=oe,t(d,z),C||S||(C=!0,re(N))),z},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(z){var Y=g;return function(){var B=g;g=Y;try{return z.apply(this,arguments)}finally{g=B}}}})(Jd);qd.exports=Jd;var _g=qd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg=F,lt=_g;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ef=new Set,vr={};function Vn(e,t){Ei(e,t),Ei(e+"Capture",t)}function Ei(e,t){for(vr[e]=t,e=0;e<t.length;e++)ef.add(t[e])}var Qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ya=Object.prototype.hasOwnProperty,vg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hh={},dh={};function yg(e){return Ya.call(dh,e)?!0:Ya.call(hh,e)?!1:vg.test(e)?dh[e]=!0:(hh[e]=!0,!1)}function wg(e,t,i,o){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function xg(e,t,i,o){if(t===null||typeof t>"u"||wg(e,t,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,i,o,r,a,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=u}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ae[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ae[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ae[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ae[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ae[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ae[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ae[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ae[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ae[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var nu=/[\-:]([a-z])/g;function iu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(nu,iu);Ae[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(nu,iu);Ae[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(nu,iu);Ae[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ae[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ae[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function ru(e,t,i,o){var r=Ae.hasOwnProperty(t)?Ae[t]:null;(r!==null?r.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(xg(t,i,r,o)&&(i=null),o||r===null?yg(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):r.mustUseProperty?e[r.propertyName]=i===null?r.type===3?!1:"":i:(t=r.attributeName,o=r.attributeNamespace,i===null?e.removeAttribute(t):(r=r.type,i=r===3||r===4&&i===!0?"":""+i,o?e.setAttributeNS(o,t,i):e.setAttribute(t,i))))}var en=gg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ho=Symbol.for("react.element"),oi=Symbol.for("react.portal"),si=Symbol.for("react.fragment"),ou=Symbol.for("react.strict_mode"),Ka=Symbol.for("react.profiler"),tf=Symbol.for("react.provider"),nf=Symbol.for("react.context"),su=Symbol.for("react.forward_ref"),Qa=Symbol.for("react.suspense"),Xa=Symbol.for("react.suspense_list"),au=Symbol.for("react.memo"),sn=Symbol.for("react.lazy"),rf=Symbol.for("react.offscreen"),fh=Symbol.iterator;function Qi(e){return e===null||typeof e!="object"?null:(e=fh&&e[fh]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,_a;function or(e){if(_a===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);_a=t&&t[1]||""}return`
`+_a+e}var ga=!1;function va(e,t){if(!e||ga)return"";ga=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var o=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){o=p}e.call(t.prototype)}else{try{throw Error()}catch(p){o=p}e()}}catch(p){if(p&&o&&typeof p.stack=="string"){for(var r=p.stack.split(`
`),a=o.stack.split(`
`),u=r.length-1,h=a.length-1;1<=u&&0<=h&&r[u]!==a[h];)h--;for(;1<=u&&0<=h;u--,h--)if(r[u]!==a[h]){if(u!==1||h!==1)do if(u--,h--,0>h||r[u]!==a[h]){var d=`
`+r[u].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=u&&0<=h);break}}}finally{ga=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?or(e):""}function Lg(e){switch(e.tag){case 5:return or(e.type);case 16:return or("Lazy");case 13:return or("Suspense");case 19:return or("SuspenseList");case 0:case 2:case 15:return e=va(e.type,!1),e;case 11:return e=va(e.type.render,!1),e;case 1:return e=va(e.type,!0),e;default:return""}}function qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case si:return"Fragment";case oi:return"Portal";case Ka:return"Profiler";case ou:return"StrictMode";case Qa:return"Suspense";case Xa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nf:return(e.displayName||"Context")+".Consumer";case tf:return(e._context.displayName||"Context")+".Provider";case su:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case au:return t=e.displayName||null,t!==null?t:qa(e.type)||"Memo";case sn:t=e._payload,e=e._init;try{return qa(e(t))}catch{}}return null}function kg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qa(t);case 8:return t===ou?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function kn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function of(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Eg(e){var t=of(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,a=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(u){o=""+u,a.call(this,u)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(u){o=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fo(e){e._valueTracker||(e._valueTracker=Eg(e))}function sf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=of(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function Uo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ja(e,t){var i=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function ph(e,t){var i=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;i=kn(t.value!=null?t.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function af(e,t){t=t.checked,t!=null&&ru(e,"checked",t,!1)}function el(e,t){af(e,t);var i=kn(t.value),o=t.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?tl(e,t.type,i):t.hasOwnProperty("defaultValue")&&tl(e,t.type,kn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function mh(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function tl(e,t,i){(t!=="number"||Uo(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var sr=Array.isArray;function gi(e,t,i,o){if(e=e.options,t){t={};for(var r=0;r<i.length;r++)t["$"+i[r]]=!0;for(i=0;i<e.length;i++)r=t.hasOwnProperty("$"+e[i].value),e[i].selected!==r&&(e[i].selected=r),r&&o&&(e[i].defaultSelected=!0)}else{for(i=""+kn(i),t=null,r=0;r<e.length;r++){if(e[r].value===i){e[r].selected=!0,o&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function nl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _h(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(I(92));if(sr(i)){if(1<i.length)throw Error(I(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:kn(i)}}function lf(e,t){var i=kn(t.value),o=kn(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function gh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function il(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var po,cf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,o,r){MSApp.execUnsafeLocalFunction(function(){return e(t,i,o,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(po=po||document.createElement("div"),po.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=po.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yr(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var ur={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sg=["Webkit","ms","Moz","O"];Object.keys(ur).forEach(function(e){Sg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ur[t]=ur[e]})});function hf(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||ur.hasOwnProperty(e)&&ur[e]?(""+t).trim():t+"px"}function df(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=i.indexOf("--")===0,r=hf(i,t[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,r):e[i]=r}}var Pg=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rl(e,t){if(t){if(Pg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function ol(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sl=null;function lu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var al=null,vi=null,yi=null;function vh(e){if(e=Hr(e)){if(typeof al!="function")throw Error(I(280));var t=e.stateNode;t&&(t=ks(t),al(e.stateNode,e.type,t))}}function ff(e){vi?yi?yi.push(e):yi=[e]:vi=e}function pf(){if(vi){var e=vi,t=yi;if(yi=vi=null,vh(e),t)for(e=0;e<t.length;e++)vh(t[e])}}function mf(e,t){return e(t)}function _f(){}var ya=!1;function gf(e,t,i){if(ya)return e(t,i);ya=!0;try{return mf(e,t,i)}finally{ya=!1,(vi!==null||yi!==null)&&(_f(),pf())}}function wr(e,t){var i=e.stateNode;if(i===null)return null;var o=ks(i);if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(I(231,t,typeof i));return i}var ll=!1;if(Qt)try{var Xi={};Object.defineProperty(Xi,"passive",{get:function(){ll=!0}}),window.addEventListener("test",Xi,Xi),window.removeEventListener("test",Xi,Xi)}catch{ll=!1}function Cg(e,t,i,o,r,a,u,h,d){var p=Array.prototype.slice.call(arguments,3);try{t.apply(i,p)}catch(y){this.onError(y)}}var cr=!1,Wo=null,Go=!1,ul=null,Mg={onError:function(e){cr=!0,Wo=e}};function Tg(e,t,i,o,r,a,u,h,d){cr=!1,Wo=null,Cg.apply(Mg,arguments)}function bg(e,t,i,o,r,a,u,h,d){if(Tg.apply(this,arguments),cr){if(cr){var p=Wo;cr=!1,Wo=null}else throw Error(I(198));Go||(Go=!0,ul=p)}}function $n(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function vf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yh(e){if($n(e)!==e)throw Error(I(188))}function Dg(e){var t=e.alternate;if(!t){if(t=$n(e),t===null)throw Error(I(188));return t!==e?null:e}for(var i=e,o=t;;){var r=i.return;if(r===null)break;var a=r.alternate;if(a===null){if(o=r.return,o!==null){i=o;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===i)return yh(r),e;if(a===o)return yh(r),t;a=a.sibling}throw Error(I(188))}if(i.return!==o.return)i=r,o=a;else{for(var u=!1,h=r.child;h;){if(h===i){u=!0,i=r,o=a;break}if(h===o){u=!0,o=r,i=a;break}h=h.sibling}if(!u){for(h=a.child;h;){if(h===i){u=!0,i=a,o=r;break}if(h===o){u=!0,o=a,i=r;break}h=h.sibling}if(!u)throw Error(I(189))}}if(i.alternate!==o)throw Error(I(190))}if(i.tag!==3)throw Error(I(188));return i.stateNode.current===i?e:t}function yf(e){return e=Dg(e),e!==null?wf(e):null}function wf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wf(e);if(t!==null)return t;e=e.sibling}return null}var xf=lt.unstable_scheduleCallback,wh=lt.unstable_cancelCallback,Ng=lt.unstable_shouldYield,zg=lt.unstable_requestPaint,Ee=lt.unstable_now,Og=lt.unstable_getCurrentPriorityLevel,uu=lt.unstable_ImmediatePriority,Lf=lt.unstable_UserBlockingPriority,Vo=lt.unstable_NormalPriority,Ig=lt.unstable_LowPriority,kf=lt.unstable_IdlePriority,ys=null,jt=null;function Rg(e){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(ys,e,void 0,(e.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:Bg,Ag=Math.log,jg=Math.LN2;function Bg(e){return e>>>=0,e===0?32:31-(Ag(e)/jg|0)|0}var mo=64,_o=4194304;function ar(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $o(e,t){var i=e.pendingLanes;if(i===0)return 0;var o=0,r=e.suspendedLanes,a=e.pingedLanes,u=i&268435455;if(u!==0){var h=u&~r;h!==0?o=ar(h):(a&=u,a!==0&&(o=ar(a)))}else u=i&~r,u!==0?o=ar(u):a!==0&&(o=ar(a));if(o===0)return 0;if(t!==0&&t!==o&&!(t&r)&&(r=o&-o,a=t&-t,r>=a||r===16&&(a&4194240)!==0))return t;if(o&4&&(o|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)i=31-Mt(t),r=1<<i,o|=e[i],t&=~r;return o}function Fg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hg(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-Mt(a),h=1<<u,d=r[u];d===-1?(!(h&i)||h&o)&&(r[u]=Fg(h,t)):d<=t&&(e.expiredLanes|=h),a&=~h}}function cl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ef(){var e=mo;return mo<<=1,!(mo&4194240)&&(mo=64),e}function wa(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Br(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mt(t),e[t]=i}function Zg(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var r=31-Mt(i),a=1<<r;t[r]=0,o[r]=-1,e[r]=-1,i&=~a}}function cu(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-Mt(i),r=1<<o;r&t|e[o]&t&&(e[o]|=t),i&=~r}}var ce=0;function Sf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Pf,hu,Cf,Mf,Tf,hl=!1,go=[],pn=null,mn=null,_n=null,xr=new Map,Lr=new Map,ln=[],Ug="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xh(e,t){switch(e){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":xr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lr.delete(t.pointerId)}}function qi(e,t,i,o,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:a,targetContainers:[r]},t!==null&&(t=Hr(t),t!==null&&hu(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Wg(e,t,i,o,r){switch(t){case"focusin":return pn=qi(pn,e,t,i,o,r),!0;case"dragenter":return mn=qi(mn,e,t,i,o,r),!0;case"mouseover":return _n=qi(_n,e,t,i,o,r),!0;case"pointerover":var a=r.pointerId;return xr.set(a,qi(xr.get(a)||null,e,t,i,o,r)),!0;case"gotpointercapture":return a=r.pointerId,Lr.set(a,qi(Lr.get(a)||null,e,t,i,o,r)),!0}return!1}function bf(e){var t=Rn(e.target);if(t!==null){var i=$n(t);if(i!==null){if(t=i.tag,t===13){if(t=vf(i),t!==null){e.blockedOn=t,Tf(e.priority,function(){Cf(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function No(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=dl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);sl=o,i.target.dispatchEvent(o),sl=null}else return t=Hr(i),t!==null&&hu(t),e.blockedOn=i,!1;t.shift()}return!0}function Lh(e,t,i){No(e)&&i.delete(t)}function Gg(){hl=!1,pn!==null&&No(pn)&&(pn=null),mn!==null&&No(mn)&&(mn=null),_n!==null&&No(_n)&&(_n=null),xr.forEach(Lh),Lr.forEach(Lh)}function Ji(e,t){e.blockedOn===t&&(e.blockedOn=null,hl||(hl=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,Gg)))}function kr(e){function t(r){return Ji(r,e)}if(0<go.length){Ji(go[0],e);for(var i=1;i<go.length;i++){var o=go[i];o.blockedOn===e&&(o.blockedOn=null)}}for(pn!==null&&Ji(pn,e),mn!==null&&Ji(mn,e),_n!==null&&Ji(_n,e),xr.forEach(t),Lr.forEach(t),i=0;i<ln.length;i++)o=ln[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<ln.length&&(i=ln[0],i.blockedOn===null);)bf(i),i.blockedOn===null&&ln.shift()}var wi=en.ReactCurrentBatchConfig,Yo=!0;function Vg(e,t,i,o){var r=ce,a=wi.transition;wi.transition=null;try{ce=1,du(e,t,i,o)}finally{ce=r,wi.transition=a}}function $g(e,t,i,o){var r=ce,a=wi.transition;wi.transition=null;try{ce=4,du(e,t,i,o)}finally{ce=r,wi.transition=a}}function du(e,t,i,o){if(Yo){var r=dl(e,t,i,o);if(r===null)ba(e,t,o,Ko,i),xh(e,o);else if(Wg(r,e,t,i,o))o.stopPropagation();else if(xh(e,o),t&4&&-1<Ug.indexOf(e)){for(;r!==null;){var a=Hr(r);if(a!==null&&Pf(a),a=dl(e,t,i,o),a===null&&ba(e,t,o,Ko,i),a===r)break;r=a}r!==null&&o.stopPropagation()}else ba(e,t,o,null,i)}}var Ko=null;function dl(e,t,i,o){if(Ko=null,e=lu(o),e=Rn(e),e!==null)if(t=$n(e),t===null)e=null;else if(i=t.tag,i===13){if(e=vf(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ko=e,null}function Df(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Og()){case uu:return 1;case Lf:return 4;case Vo:case Ig:return 16;case kf:return 536870912;default:return 16}default:return 16}}var hn=null,fu=null,zo=null;function Nf(){if(zo)return zo;var e,t=fu,i=t.length,o,r="value"in hn?hn.value:hn.textContent,a=r.length;for(e=0;e<i&&t[e]===r[e];e++);var u=i-e;for(o=1;o<=u&&t[i-o]===r[a-o];o++);return zo=r.slice(e,1<o?1-o:void 0)}function Oo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vo(){return!0}function kh(){return!1}function ct(e){function t(i,o,r,a,u){this._reactName=i,this._targetInst=r,this.type=o,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(i=e[h],this[h]=i?i(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?vo:kh,this.isPropagationStopped=kh,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=vo)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=vo)},persist:function(){},isPersistent:vo}),t}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pu=ct(Oi),Fr=we({},Oi,{view:0,detail:0}),Yg=ct(Fr),xa,La,er,ws=we({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==er&&(er&&e.type==="mousemove"?(xa=e.screenX-er.screenX,La=e.screenY-er.screenY):La=xa=0,er=e),xa)},movementY:function(e){return"movementY"in e?e.movementY:La}}),Eh=ct(ws),Kg=we({},ws,{dataTransfer:0}),Qg=ct(Kg),Xg=we({},Fr,{relatedTarget:0}),ka=ct(Xg),qg=we({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),Jg=ct(qg),ev=we({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tv=ct(ev),nv=we({},Oi,{data:0}),Sh=ct(nv),iv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ov={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ov[e])?!!t[e]:!1}function mu(){return sv}var av=we({},Fr,{key:function(e){if(e.key){var t=iv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Oo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mu,charCode:function(e){return e.type==="keypress"?Oo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Oo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lv=ct(av),uv=we({},ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ph=ct(uv),cv=we({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mu}),hv=ct(cv),dv=we({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),fv=ct(dv),pv=we({},ws,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mv=ct(pv),_v=[9,13,27,32],_u=Qt&&"CompositionEvent"in window,hr=null;Qt&&"documentMode"in document&&(hr=document.documentMode);var gv=Qt&&"TextEvent"in window&&!hr,zf=Qt&&(!_u||hr&&8<hr&&11>=hr),Ch=" ",Mh=!1;function Of(e,t){switch(e){case"keyup":return _v.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function If(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ai=!1;function vv(e,t){switch(e){case"compositionend":return If(t);case"keypress":return t.which!==32?null:(Mh=!0,Ch);case"textInput":return e=t.data,e===Ch&&Mh?null:e;default:return null}}function yv(e,t){if(ai)return e==="compositionend"||!_u&&Of(e,t)?(e=Nf(),zo=fu=hn=null,ai=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zf&&t.locale!=="ko"?null:t.data;default:return null}}var wv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Th(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wv[e.type]:t==="textarea"}function Rf(e,t,i,o){ff(o),t=Qo(t,"onChange"),0<t.length&&(i=new pu("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var dr=null,Er=null;function xv(e){$f(e,0)}function xs(e){var t=ci(e);if(sf(t))return e}function Lv(e,t){if(e==="change")return t}var Af=!1;if(Qt){var Ea;if(Qt){var Sa="oninput"in document;if(!Sa){var bh=document.createElement("div");bh.setAttribute("oninput","return;"),Sa=typeof bh.oninput=="function"}Ea=Sa}else Ea=!1;Af=Ea&&(!document.documentMode||9<document.documentMode)}function Dh(){dr&&(dr.detachEvent("onpropertychange",jf),Er=dr=null)}function jf(e){if(e.propertyName==="value"&&xs(Er)){var t=[];Rf(t,Er,e,lu(e)),gf(xv,t)}}function kv(e,t,i){e==="focusin"?(Dh(),dr=t,Er=i,dr.attachEvent("onpropertychange",jf)):e==="focusout"&&Dh()}function Ev(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xs(Er)}function Sv(e,t){if(e==="click")return xs(t)}function Pv(e,t){if(e==="input"||e==="change")return xs(t)}function Cv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:Cv;function Sr(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var r=i[o];if(!Ya.call(t,r)||!bt(e[r],t[r]))return!1}return!0}function Nh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zh(e,t){var i=Nh(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Nh(i)}}function Bf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ff(){for(var e=window,t=Uo();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Uo(e.document)}return t}function gu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Mv(e){var t=Ff(),i=e.focusedElem,o=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Bf(i.ownerDocument.documentElement,i)){if(o!==null&&gu(i)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=i.textContent.length,a=Math.min(o.start,r);o=o.end===void 0?a:Math.min(o.end,r),!e.extend&&a>o&&(r=o,o=a,a=r),r=zh(i,a);var u=zh(i,o);r&&u&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),a>o?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Tv=Qt&&"documentMode"in document&&11>=document.documentMode,li=null,fl=null,fr=null,pl=!1;function Oh(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;pl||li==null||li!==Uo(o)||(o=li,"selectionStart"in o&&gu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),fr&&Sr(fr,o)||(fr=o,o=Qo(fl,"onSelect"),0<o.length&&(t=new pu("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=li)))}function yo(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var ui={animationend:yo("Animation","AnimationEnd"),animationiteration:yo("Animation","AnimationIteration"),animationstart:yo("Animation","AnimationStart"),transitionend:yo("Transition","TransitionEnd")},Pa={},Hf={};Qt&&(Hf=document.createElement("div").style,"AnimationEvent"in window||(delete ui.animationend.animation,delete ui.animationiteration.animation,delete ui.animationstart.animation),"TransitionEvent"in window||delete ui.transitionend.transition);function Ls(e){if(Pa[e])return Pa[e];if(!ui[e])return e;var t=ui[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Hf)return Pa[e]=t[i];return e}var Zf=Ls("animationend"),Uf=Ls("animationiteration"),Wf=Ls("animationstart"),Gf=Ls("transitionend"),Vf=new Map,Ih="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pn(e,t){Vf.set(e,t),Vn(t,[e])}for(var Ca=0;Ca<Ih.length;Ca++){var Ma=Ih[Ca],bv=Ma.toLowerCase(),Dv=Ma[0].toUpperCase()+Ma.slice(1);Pn(bv,"on"+Dv)}Pn(Zf,"onAnimationEnd");Pn(Uf,"onAnimationIteration");Pn(Wf,"onAnimationStart");Pn("dblclick","onDoubleClick");Pn("focusin","onFocus");Pn("focusout","onBlur");Pn(Gf,"onTransitionEnd");Ei("onMouseEnter",["mouseout","mouseover"]);Ei("onMouseLeave",["mouseout","mouseover"]);Ei("onPointerEnter",["pointerout","pointerover"]);Ei("onPointerLeave",["pointerout","pointerover"]);Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nv=new Set("cancel close invalid load scroll toggle".split(" ").concat(lr));function Rh(e,t,i){var o=e.type||"unknown-event";e.currentTarget=i,bg(o,t,void 0,e),e.currentTarget=null}function $f(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],r=o.event;o=o.listeners;e:{var a=void 0;if(t)for(var u=o.length-1;0<=u;u--){var h=o[u],d=h.instance,p=h.currentTarget;if(h=h.listener,d!==a&&r.isPropagationStopped())break e;Rh(r,h,p),a=d}else for(u=0;u<o.length;u++){if(h=o[u],d=h.instance,p=h.currentTarget,h=h.listener,d!==a&&r.isPropagationStopped())break e;Rh(r,h,p),a=d}}}if(Go)throw e=ul,Go=!1,ul=null,e}function pe(e,t){var i=t[yl];i===void 0&&(i=t[yl]=new Set);var o=e+"__bubble";i.has(o)||(Yf(t,e,2,!1),i.add(o))}function Ta(e,t,i){var o=0;t&&(o|=4),Yf(i,e,o,t)}var wo="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){if(!e[wo]){e[wo]=!0,ef.forEach(function(i){i!=="selectionchange"&&(Nv.has(i)||Ta(i,!1,e),Ta(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wo]||(t[wo]=!0,Ta("selectionchange",!1,t))}}function Yf(e,t,i,o){switch(Df(t)){case 1:var r=Vg;break;case 4:r=$g;break;default:r=du}i=r.bind(null,t,i,e),r=void 0,!ll||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),o?r!==void 0?e.addEventListener(t,i,{capture:!0,passive:r}):e.addEventListener(t,i,!0):r!==void 0?e.addEventListener(t,i,{passive:r}):e.addEventListener(t,i,!1)}function ba(e,t,i,o,r){var a=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var u=o.tag;if(u===3||u===4){var h=o.stateNode.containerInfo;if(h===r||h.nodeType===8&&h.parentNode===r)break;if(u===4)for(u=o.return;u!==null;){var d=u.tag;if((d===3||d===4)&&(d=u.stateNode.containerInfo,d===r||d.nodeType===8&&d.parentNode===r))return;u=u.return}for(;h!==null;){if(u=Rn(h),u===null)return;if(d=u.tag,d===5||d===6){o=a=u;continue e}h=h.parentNode}}o=o.return}gf(function(){var p=a,y=lu(i),m=[];e:{var g=Vf.get(e);if(g!==void 0){var S=pu,C=e;switch(e){case"keypress":if(Oo(i)===0)break e;case"keydown":case"keyup":S=lv;break;case"focusin":C="focus",S=ka;break;case"focusout":C="blur",S=ka;break;case"beforeblur":case"afterblur":S=ka;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Eh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=Qg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=hv;break;case Zf:case Uf:case Wf:S=Jg;break;case Gf:S=fv;break;case"scroll":S=Yg;break;case"wheel":S=mv;break;case"copy":case"cut":case"paste":S=tv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=Ph}var P=(t&4)!==0,D=!P&&e==="scroll",w=P?g!==null?g+"Capture":null:g;P=[];for(var x=p,k;x!==null;){k=x;var T=k.stateNode;if(k.tag===5&&T!==null&&(k=T,w!==null&&(T=wr(x,w),T!=null&&P.push(Cr(x,T,k)))),D)break;x=x.return}0<P.length&&(g=new S(g,C,null,i,y),m.push({event:g,listeners:P}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",g&&i!==sl&&(C=i.relatedTarget||i.fromElement)&&(Rn(C)||C[Xt]))break e;if((S||g)&&(g=y.window===y?y:(g=y.ownerDocument)?g.defaultView||g.parentWindow:window,S?(C=i.relatedTarget||i.toElement,S=p,C=C?Rn(C):null,C!==null&&(D=$n(C),C!==D||C.tag!==5&&C.tag!==6)&&(C=null)):(S=null,C=p),S!==C)){if(P=Eh,T="onMouseLeave",w="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(P=Ph,T="onPointerLeave",w="onPointerEnter",x="pointer"),D=S==null?g:ci(S),k=C==null?g:ci(C),g=new P(T,x+"leave",S,i,y),g.target=D,g.relatedTarget=k,T=null,Rn(y)===p&&(P=new P(w,x+"enter",C,i,y),P.target=k,P.relatedTarget=D,T=P),D=T,S&&C)t:{for(P=S,w=C,x=0,k=P;k;k=ii(k))x++;for(k=0,T=w;T;T=ii(T))k++;for(;0<x-k;)P=ii(P),x--;for(;0<k-x;)w=ii(w),k--;for(;x--;){if(P===w||w!==null&&P===w.alternate)break t;P=ii(P),w=ii(w)}P=null}else P=null;S!==null&&Ah(m,g,S,P,!1),C!==null&&D!==null&&Ah(m,D,C,P,!0)}}e:{if(g=p?ci(p):window,S=g.nodeName&&g.nodeName.toLowerCase(),S==="select"||S==="input"&&g.type==="file")var N=Lv;else if(Th(g))if(Af)N=Pv;else{N=Ev;var R=kv}else(S=g.nodeName)&&S.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(N=Sv);if(N&&(N=N(e,p))){Rf(m,N,i,y);break e}R&&R(e,g,p),e==="focusout"&&(R=g._wrapperState)&&R.controlled&&g.type==="number"&&tl(g,"number",g.value)}switch(R=p?ci(p):window,e){case"focusin":(Th(R)||R.contentEditable==="true")&&(li=R,fl=p,fr=null);break;case"focusout":fr=fl=li=null;break;case"mousedown":pl=!0;break;case"contextmenu":case"mouseup":case"dragend":pl=!1,Oh(m,i,y);break;case"selectionchange":if(Tv)break;case"keydown":case"keyup":Oh(m,i,y)}var A;if(_u)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else ai?Of(e,i)&&(j="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(j="onCompositionStart");j&&(zf&&i.locale!=="ko"&&(ai||j!=="onCompositionStart"?j==="onCompositionEnd"&&ai&&(A=Nf()):(hn=y,fu="value"in hn?hn.value:hn.textContent,ai=!0)),R=Qo(p,j),0<R.length&&(j=new Sh(j,e,null,i,y),m.push({event:j,listeners:R}),A?j.data=A:(A=If(i),A!==null&&(j.data=A)))),(A=gv?vv(e,i):yv(e,i))&&(p=Qo(p,"onBeforeInput"),0<p.length&&(y=new Sh("onBeforeInput","beforeinput",null,i,y),m.push({event:y,listeners:p}),y.data=A))}$f(m,t)})}function Cr(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Qo(e,t){for(var i=t+"Capture",o=[];e!==null;){var r=e,a=r.stateNode;r.tag===5&&a!==null&&(r=a,a=wr(e,i),a!=null&&o.unshift(Cr(e,a,r)),a=wr(e,t),a!=null&&o.push(Cr(e,a,r))),e=e.return}return o}function ii(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ah(e,t,i,o,r){for(var a=t._reactName,u=[];i!==null&&i!==o;){var h=i,d=h.alternate,p=h.stateNode;if(d!==null&&d===o)break;h.tag===5&&p!==null&&(h=p,r?(d=wr(i,a),d!=null&&u.unshift(Cr(i,d,h))):r||(d=wr(i,a),d!=null&&u.push(Cr(i,d,h)))),i=i.return}u.length!==0&&e.push({event:t,listeners:u})}var zv=/\r\n?/g,Ov=/\u0000|\uFFFD/g;function jh(e){return(typeof e=="string"?e:""+e).replace(zv,`
`).replace(Ov,"")}function xo(e,t,i){if(t=jh(t),jh(e)!==t&&i)throw Error(I(425))}function Xo(){}var ml=null,_l=null;function gl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vl=typeof setTimeout=="function"?setTimeout:void 0,Iv=typeof clearTimeout=="function"?clearTimeout:void 0,Bh=typeof Promise=="function"?Promise:void 0,Rv=typeof queueMicrotask=="function"?queueMicrotask:typeof Bh<"u"?function(e){return Bh.resolve(null).then(e).catch(Av)}:vl;function Av(e){setTimeout(function(){throw e})}function Da(e,t){var i=t,o=0;do{var r=i.nextSibling;if(e.removeChild(i),r&&r.nodeType===8)if(i=r.data,i==="/$"){if(o===0){e.removeChild(r),kr(t);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=r}while(i);kr(t)}function gn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Ii=Math.random().toString(36).slice(2),At="__reactFiber$"+Ii,Mr="__reactProps$"+Ii,Xt="__reactContainer$"+Ii,yl="__reactEvents$"+Ii,jv="__reactListeners$"+Ii,Bv="__reactHandles$"+Ii;function Rn(e){var t=e[At];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Xt]||i[At]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Fh(e);e!==null;){if(i=e[At])return i;e=Fh(e)}return t}e=i,i=e.parentNode}return null}function Hr(e){return e=e[At]||e[Xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ci(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function ks(e){return e[Mr]||null}var wl=[],hi=-1;function Cn(e){return{current:e}}function me(e){0>hi||(e.current=wl[hi],wl[hi]=null,hi--)}function fe(e,t){hi++,wl[hi]=e.current,e.current=t}var En={},Ue=Cn(En),nt=Cn(!1),Hn=En;function Si(e,t){var i=e.type.contextTypes;if(!i)return En;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var r={},a;for(a in i)r[a]=t[a];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function it(e){return e=e.childContextTypes,e!=null}function qo(){me(nt),me(Ue)}function Hh(e,t,i){if(Ue.current!==En)throw Error(I(168));fe(Ue,t),fe(nt,i)}function Kf(e,t,i){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var r in o)if(!(r in t))throw Error(I(108,kg(e)||"Unknown",r));return we({},i,o)}function Jo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||En,Hn=Ue.current,fe(Ue,e),fe(nt,nt.current),!0}function Zh(e,t,i){var o=e.stateNode;if(!o)throw Error(I(169));i?(e=Kf(e,t,Hn),o.__reactInternalMemoizedMergedChildContext=e,me(nt),me(Ue),fe(Ue,e)):me(nt),fe(nt,i)}var Gt=null,Es=!1,Na=!1;function Qf(e){Gt===null?Gt=[e]:Gt.push(e)}function Fv(e){Es=!0,Qf(e)}function Mn(){if(!Na&&Gt!==null){Na=!0;var e=0,t=ce;try{var i=Gt;for(ce=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}Gt=null,Es=!1}catch(r){throw Gt!==null&&(Gt=Gt.slice(e+1)),xf(uu,Mn),r}finally{ce=t,Na=!1}}return null}var di=[],fi=0,es=null,ts=0,mt=[],_t=0,Zn=null,Vt=1,$t="";function On(e,t){di[fi++]=ts,di[fi++]=es,es=e,ts=t}function Xf(e,t,i){mt[_t++]=Vt,mt[_t++]=$t,mt[_t++]=Zn,Zn=e;var o=Vt;e=$t;var r=32-Mt(o)-1;o&=~(1<<r),i+=1;var a=32-Mt(t)+r;if(30<a){var u=r-r%5;a=(o&(1<<u)-1).toString(32),o>>=u,r-=u,Vt=1<<32-Mt(t)+r|i<<r|o,$t=a+e}else Vt=1<<a|i<<r|o,$t=e}function vu(e){e.return!==null&&(On(e,1),Xf(e,1,0))}function yu(e){for(;e===es;)es=di[--fi],di[fi]=null,ts=di[--fi],di[fi]=null;for(;e===Zn;)Zn=mt[--_t],mt[_t]=null,$t=mt[--_t],mt[_t]=null,Vt=mt[--_t],mt[_t]=null}var at=null,st=null,_e=!1,Pt=null;function qf(e,t){var i=gt(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Uh(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,at=e,st=gn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,at=e,st=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Zn!==null?{id:Vt,overflow:$t}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=gt(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,at=e,st=null,!0):!1;default:return!1}}function xl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ll(e){if(_e){var t=st;if(t){var i=t;if(!Uh(e,t)){if(xl(e))throw Error(I(418));t=gn(i.nextSibling);var o=at;t&&Uh(e,t)?qf(o,i):(e.flags=e.flags&-4097|2,_e=!1,at=e)}}else{if(xl(e))throw Error(I(418));e.flags=e.flags&-4097|2,_e=!1,at=e}}}function Wh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;at=e}function Lo(e){if(e!==at)return!1;if(!_e)return Wh(e),_e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gl(e.type,e.memoizedProps)),t&&(t=st)){if(xl(e))throw Jf(),Error(I(418));for(;t;)qf(e,t),t=gn(t.nextSibling)}if(Wh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){st=gn(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}st=null}}else st=at?gn(e.stateNode.nextSibling):null;return!0}function Jf(){for(var e=st;e;)e=gn(e.nextSibling)}function Pi(){st=at=null,_e=!1}function wu(e){Pt===null?Pt=[e]:Pt.push(e)}var Hv=en.ReactCurrentBatchConfig;function tr(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(I(309));var o=i.stateNode}if(!o)throw Error(I(147,e));var r=o,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(u){var h=r.refs;u===null?delete h[a]:h[a]=u},t._stringRef=a,t)}if(typeof e!="string")throw Error(I(284));if(!i._owner)throw Error(I(290,e))}return e}function ko(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gh(e){var t=e._init;return t(e._payload)}function ep(e){function t(w,x){if(e){var k=w.deletions;k===null?(w.deletions=[x],w.flags|=16):k.push(x)}}function i(w,x){if(!e)return null;for(;x!==null;)t(w,x),x=x.sibling;return null}function o(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function r(w,x){return w=xn(w,x),w.index=0,w.sibling=null,w}function a(w,x,k){return w.index=k,e?(k=w.alternate,k!==null?(k=k.index,k<x?(w.flags|=2,x):k):(w.flags|=2,x)):(w.flags|=1048576,x)}function u(w){return e&&w.alternate===null&&(w.flags|=2),w}function h(w,x,k,T){return x===null||x.tag!==6?(x=Ba(k,w.mode,T),x.return=w,x):(x=r(x,k),x.return=w,x)}function d(w,x,k,T){var N=k.type;return N===si?y(w,x,k.props.children,T,k.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===sn&&Gh(N)===x.type)?(T=r(x,k.props),T.ref=tr(w,x,k),T.return=w,T):(T=Ho(k.type,k.key,k.props,null,w.mode,T),T.ref=tr(w,x,k),T.return=w,T)}function p(w,x,k,T){return x===null||x.tag!==4||x.stateNode.containerInfo!==k.containerInfo||x.stateNode.implementation!==k.implementation?(x=Fa(k,w.mode,T),x.return=w,x):(x=r(x,k.children||[]),x.return=w,x)}function y(w,x,k,T,N){return x===null||x.tag!==7?(x=Fn(k,w.mode,T,N),x.return=w,x):(x=r(x,k),x.return=w,x)}function m(w,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Ba(""+x,w.mode,k),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ho:return k=Ho(x.type,x.key,x.props,null,w.mode,k),k.ref=tr(w,null,x),k.return=w,k;case oi:return x=Fa(x,w.mode,k),x.return=w,x;case sn:var T=x._init;return m(w,T(x._payload),k)}if(sr(x)||Qi(x))return x=Fn(x,w.mode,k,null),x.return=w,x;ko(w,x)}return null}function g(w,x,k,T){var N=x!==null?x.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return N!==null?null:h(w,x,""+k,T);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ho:return k.key===N?d(w,x,k,T):null;case oi:return k.key===N?p(w,x,k,T):null;case sn:return N=k._init,g(w,x,N(k._payload),T)}if(sr(k)||Qi(k))return N!==null?null:y(w,x,k,T,null);ko(w,k)}return null}function S(w,x,k,T,N){if(typeof T=="string"&&T!==""||typeof T=="number")return w=w.get(k)||null,h(x,w,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ho:return w=w.get(T.key===null?k:T.key)||null,d(x,w,T,N);case oi:return w=w.get(T.key===null?k:T.key)||null,p(x,w,T,N);case sn:var R=T._init;return S(w,x,k,R(T._payload),N)}if(sr(T)||Qi(T))return w=w.get(k)||null,y(x,w,T,N,null);ko(x,T)}return null}function C(w,x,k,T){for(var N=null,R=null,A=x,j=x=0,$=null;A!==null&&j<k.length;j++){A.index>j?($=A,A=null):$=A.sibling;var G=g(w,A,k[j],T);if(G===null){A===null&&(A=$);break}e&&A&&G.alternate===null&&t(w,A),x=a(G,x,j),R===null?N=G:R.sibling=G,R=G,A=$}if(j===k.length)return i(w,A),_e&&On(w,j),N;if(A===null){for(;j<k.length;j++)A=m(w,k[j],T),A!==null&&(x=a(A,x,j),R===null?N=A:R.sibling=A,R=A);return _e&&On(w,j),N}for(A=o(w,A);j<k.length;j++)$=S(A,w,j,k[j],T),$!==null&&(e&&$.alternate!==null&&A.delete($.key===null?j:$.key),x=a($,x,j),R===null?N=$:R.sibling=$,R=$);return e&&A.forEach(function(Q){return t(w,Q)}),_e&&On(w,j),N}function P(w,x,k,T){var N=Qi(k);if(typeof N!="function")throw Error(I(150));if(k=N.call(k),k==null)throw Error(I(151));for(var R=N=null,A=x,j=x=0,$=null,G=k.next();A!==null&&!G.done;j++,G=k.next()){A.index>j?($=A,A=null):$=A.sibling;var Q=g(w,A,G.value,T);if(Q===null){A===null&&(A=$);break}e&&A&&Q.alternate===null&&t(w,A),x=a(Q,x,j),R===null?N=Q:R.sibling=Q,R=Q,A=$}if(G.done)return i(w,A),_e&&On(w,j),N;if(A===null){for(;!G.done;j++,G=k.next())G=m(w,G.value,T),G!==null&&(x=a(G,x,j),R===null?N=G:R.sibling=G,R=G);return _e&&On(w,j),N}for(A=o(w,A);!G.done;j++,G=k.next())G=S(A,w,j,G.value,T),G!==null&&(e&&G.alternate!==null&&A.delete(G.key===null?j:G.key),x=a(G,x,j),R===null?N=G:R.sibling=G,R=G);return e&&A.forEach(function(ne){return t(w,ne)}),_e&&On(w,j),N}function D(w,x,k,T){if(typeof k=="object"&&k!==null&&k.type===si&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case ho:e:{for(var N=k.key,R=x;R!==null;){if(R.key===N){if(N=k.type,N===si){if(R.tag===7){i(w,R.sibling),x=r(R,k.props.children),x.return=w,w=x;break e}}else if(R.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===sn&&Gh(N)===R.type){i(w,R.sibling),x=r(R,k.props),x.ref=tr(w,R,k),x.return=w,w=x;break e}i(w,R);break}else t(w,R);R=R.sibling}k.type===si?(x=Fn(k.props.children,w.mode,T,k.key),x.return=w,w=x):(T=Ho(k.type,k.key,k.props,null,w.mode,T),T.ref=tr(w,x,k),T.return=w,w=T)}return u(w);case oi:e:{for(R=k.key;x!==null;){if(x.key===R)if(x.tag===4&&x.stateNode.containerInfo===k.containerInfo&&x.stateNode.implementation===k.implementation){i(w,x.sibling),x=r(x,k.children||[]),x.return=w,w=x;break e}else{i(w,x);break}else t(w,x);x=x.sibling}x=Fa(k,w.mode,T),x.return=w,w=x}return u(w);case sn:return R=k._init,D(w,x,R(k._payload),T)}if(sr(k))return C(w,x,k,T);if(Qi(k))return P(w,x,k,T);ko(w,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,x!==null&&x.tag===6?(i(w,x.sibling),x=r(x,k),x.return=w,w=x):(i(w,x),x=Ba(k,w.mode,T),x.return=w,w=x),u(w)):i(w,x)}return D}var Ci=ep(!0),tp=ep(!1),ns=Cn(null),is=null,pi=null,xu=null;function Lu(){xu=pi=is=null}function ku(e){var t=ns.current;me(ns),e._currentValue=t}function kl(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function xi(e,t){is=e,xu=pi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(tt=!0),e.firstContext=null)}function yt(e){var t=e._currentValue;if(xu!==e)if(e={context:e,memoizedValue:t,next:null},pi===null){if(is===null)throw Error(I(308));pi=e,is.dependencies={lanes:0,firstContext:e}}else pi=pi.next=e;return t}var An=null;function Eu(e){An===null?An=[e]:An.push(e)}function np(e,t,i,o){var r=t.interleaved;return r===null?(i.next=i,Eu(t)):(i.next=r.next,r.next=i),t.interleaved=i,qt(e,o)}function qt(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var an=!1;function Su(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ip(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vn(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,se&2){var r=o.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),o.pending=t,qt(e,i)}return r=o.interleaved,r===null?(t.next=t,Eu(o)):(t.next=r.next,r.next=t),o.interleaved=t,qt(e,i)}function Io(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,cu(e,i)}}function Vh(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var r=null,a=null;if(i=i.firstBaseUpdate,i!==null){do{var u={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};a===null?r=a=u:a=a.next=u,i=i.next}while(i!==null);a===null?r=a=t:a=a.next=t}else r=a=t;i={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function rs(e,t,i,o){var r=e.updateQueue;an=!1;var a=r.firstBaseUpdate,u=r.lastBaseUpdate,h=r.shared.pending;if(h!==null){r.shared.pending=null;var d=h,p=d.next;d.next=null,u===null?a=p:u.next=p,u=d;var y=e.alternate;y!==null&&(y=y.updateQueue,h=y.lastBaseUpdate,h!==u&&(h===null?y.firstBaseUpdate=p:h.next=p,y.lastBaseUpdate=d))}if(a!==null){var m=r.baseState;u=0,y=p=d=null,h=a;do{var g=h.lane,S=h.eventTime;if((o&g)===g){y!==null&&(y=y.next={eventTime:S,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var C=e,P=h;switch(g=t,S=i,P.tag){case 1:if(C=P.payload,typeof C=="function"){m=C.call(S,m,g);break e}m=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=P.payload,g=typeof C=="function"?C.call(S,m,g):C,g==null)break e;m=we({},m,g);break e;case 2:an=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,g=r.effects,g===null?r.effects=[h]:g.push(h))}else S={eventTime:S,lane:g,tag:h.tag,payload:h.payload,callback:h.callback,next:null},y===null?(p=y=S,d=m):y=y.next=S,u|=g;if(h=h.next,h===null){if(h=r.shared.pending,h===null)break;g=h,h=g.next,g.next=null,r.lastBaseUpdate=g,r.shared.pending=null}}while(!0);if(y===null&&(d=m),r.baseState=d,r.firstBaseUpdate=p,r.lastBaseUpdate=y,t=r.shared.interleaved,t!==null){r=t;do u|=r.lane,r=r.next;while(r!==t)}else a===null&&(r.shared.lanes=0);Wn|=u,e.lanes=u,e.memoizedState=m}}function $h(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],r=o.callback;if(r!==null){if(o.callback=null,o=i,typeof r!="function")throw Error(I(191,r));r.call(o)}}}var Zr={},Bt=Cn(Zr),Tr=Cn(Zr),br=Cn(Zr);function jn(e){if(e===Zr)throw Error(I(174));return e}function Pu(e,t){switch(fe(br,t),fe(Tr,e),fe(Bt,Zr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:il(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=il(t,e)}me(Bt),fe(Bt,t)}function Mi(){me(Bt),me(Tr),me(br)}function rp(e){jn(br.current);var t=jn(Bt.current),i=il(t,e.type);t!==i&&(fe(Tr,e),fe(Bt,i))}function Cu(e){Tr.current===e&&(me(Bt),me(Tr))}var ve=Cn(0);function os(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var za=[];function Mu(){for(var e=0;e<za.length;e++)za[e]._workInProgressVersionPrimary=null;za.length=0}var Ro=en.ReactCurrentDispatcher,Oa=en.ReactCurrentBatchConfig,Un=0,ye=null,Te=null,Ne=null,ss=!1,pr=!1,Dr=0,Zv=0;function Be(){throw Error(I(321))}function Tu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!bt(e[i],t[i]))return!1;return!0}function bu(e,t,i,o,r,a){if(Un=a,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ro.current=e===null||e.memoizedState===null?Vv:$v,e=i(o,r),pr){a=0;do{if(pr=!1,Dr=0,25<=a)throw Error(I(301));a+=1,Ne=Te=null,t.updateQueue=null,Ro.current=Yv,e=i(o,r)}while(pr)}if(Ro.current=as,t=Te!==null&&Te.next!==null,Un=0,Ne=Te=ye=null,ss=!1,t)throw Error(I(300));return e}function Du(){var e=Dr!==0;return Dr=0,e}function Rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?ye.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function wt(){if(Te===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Ne===null?ye.memoizedState:Ne.next;if(t!==null)Ne=t,Te=e;else{if(e===null)throw Error(I(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Ne===null?ye.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function Nr(e,t){return typeof t=="function"?t(e):t}function Ia(e){var t=wt(),i=t.queue;if(i===null)throw Error(I(311));i.lastRenderedReducer=e;var o=Te,r=o.baseQueue,a=i.pending;if(a!==null){if(r!==null){var u=r.next;r.next=a.next,a.next=u}o.baseQueue=r=a,i.pending=null}if(r!==null){a=r.next,o=o.baseState;var h=u=null,d=null,p=a;do{var y=p.lane;if((Un&y)===y)d!==null&&(d=d.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),o=p.hasEagerState?p.eagerState:e(o,p.action);else{var m={lane:y,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};d===null?(h=d=m,u=o):d=d.next=m,ye.lanes|=y,Wn|=y}p=p.next}while(p!==null&&p!==a);d===null?u=o:d.next=h,bt(o,t.memoizedState)||(tt=!0),t.memoizedState=o,t.baseState=u,t.baseQueue=d,i.lastRenderedState=o}if(e=i.interleaved,e!==null){r=e;do a=r.lane,ye.lanes|=a,Wn|=a,r=r.next;while(r!==e)}else r===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Ra(e){var t=wt(),i=t.queue;if(i===null)throw Error(I(311));i.lastRenderedReducer=e;var o=i.dispatch,r=i.pending,a=t.memoizedState;if(r!==null){i.pending=null;var u=r=r.next;do a=e(a,u.action),u=u.next;while(u!==r);bt(a,t.memoizedState)||(tt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),i.lastRenderedState=a}return[a,o]}function op(){}function sp(e,t){var i=ye,o=wt(),r=t(),a=!bt(o.memoizedState,r);if(a&&(o.memoizedState=r,tt=!0),o=o.queue,Nu(up.bind(null,i,o,e),[e]),o.getSnapshot!==t||a||Ne!==null&&Ne.memoizedState.tag&1){if(i.flags|=2048,zr(9,lp.bind(null,i,o,r,t),void 0,null),ze===null)throw Error(I(349));Un&30||ap(i,t,r)}return r}function ap(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function lp(e,t,i,o){t.value=i,t.getSnapshot=o,cp(t)&&hp(e)}function up(e,t,i){return i(function(){cp(t)&&hp(e)})}function cp(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!bt(e,i)}catch{return!0}}function hp(e){var t=qt(e,1);t!==null&&Tt(t,e,1,-1)}function Yh(e){var t=Rt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:e},t.queue=e,e=e.dispatch=Gv.bind(null,ye,e),[t.memoizedState,e]}function zr(e,t,i,o){return e={tag:e,create:t,destroy:i,deps:o,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e)),e}function dp(){return wt().memoizedState}function Ao(e,t,i,o){var r=Rt();ye.flags|=e,r.memoizedState=zr(1|t,i,void 0,o===void 0?null:o)}function Ss(e,t,i,o){var r=wt();o=o===void 0?null:o;var a=void 0;if(Te!==null){var u=Te.memoizedState;if(a=u.destroy,o!==null&&Tu(o,u.deps)){r.memoizedState=zr(t,i,a,o);return}}ye.flags|=e,r.memoizedState=zr(1|t,i,a,o)}function Kh(e,t){return Ao(8390656,8,e,t)}function Nu(e,t){return Ss(2048,8,e,t)}function fp(e,t){return Ss(4,2,e,t)}function pp(e,t){return Ss(4,4,e,t)}function mp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _p(e,t,i){return i=i!=null?i.concat([e]):null,Ss(4,4,mp.bind(null,t,e),i)}function zu(){}function gp(e,t){var i=wt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&Tu(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function vp(e,t){var i=wt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&Tu(t,o[1])?o[0]:(e=e(),i.memoizedState=[e,t],e)}function yp(e,t,i){return Un&21?(bt(i,t)||(i=Ef(),ye.lanes|=i,Wn|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,tt=!0),e.memoizedState=i)}function Uv(e,t){var i=ce;ce=i!==0&&4>i?i:4,e(!0);var o=Oa.transition;Oa.transition={};try{e(!1),t()}finally{ce=i,Oa.transition=o}}function wp(){return wt().memoizedState}function Wv(e,t,i){var o=wn(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},xp(e))Lp(t,i);else if(i=np(e,t,i,o),i!==null){var r=Ye();Tt(i,e,o,r),kp(i,t,o)}}function Gv(e,t,i){var o=wn(e),r={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(xp(e))Lp(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var u=t.lastRenderedState,h=a(u,i);if(r.hasEagerState=!0,r.eagerState=h,bt(h,u)){var d=t.interleaved;d===null?(r.next=r,Eu(t)):(r.next=d.next,d.next=r),t.interleaved=r;return}}catch{}finally{}i=np(e,t,r,o),i!==null&&(r=Ye(),Tt(i,e,o,r),kp(i,t,o))}}function xp(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function Lp(e,t){pr=ss=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function kp(e,t,i){if(i&4194240){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,cu(e,i)}}var as={readContext:yt,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},Vv={readContext:yt,useCallback:function(e,t){return Rt().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:Kh,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Ao(4194308,4,mp.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Ao(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ao(4,2,e,t)},useMemo:function(e,t){var i=Rt();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var o=Rt();return t=i!==void 0?i(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Wv.bind(null,ye,e),[o.memoizedState,e]},useRef:function(e){var t=Rt();return e={current:e},t.memoizedState=e},useState:Yh,useDebugValue:zu,useDeferredValue:function(e){return Rt().memoizedState=e},useTransition:function(){var e=Yh(!1),t=e[0];return e=Uv.bind(null,e[1]),Rt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var o=ye,r=Rt();if(_e){if(i===void 0)throw Error(I(407));i=i()}else{if(i=t(),ze===null)throw Error(I(349));Un&30||ap(o,t,i)}r.memoizedState=i;var a={value:i,getSnapshot:t};return r.queue=a,Kh(up.bind(null,o,a,e),[e]),o.flags|=2048,zr(9,lp.bind(null,o,a,i,t),void 0,null),i},useId:function(){var e=Rt(),t=ze.identifierPrefix;if(_e){var i=$t,o=Vt;i=(o&~(1<<32-Mt(o)-1)).toString(32)+i,t=":"+t+"R"+i,i=Dr++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=Zv++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$v={readContext:yt,useCallback:gp,useContext:yt,useEffect:Nu,useImperativeHandle:_p,useInsertionEffect:fp,useLayoutEffect:pp,useMemo:vp,useReducer:Ia,useRef:dp,useState:function(){return Ia(Nr)},useDebugValue:zu,useDeferredValue:function(e){var t=wt();return yp(t,Te.memoizedState,e)},useTransition:function(){var e=Ia(Nr)[0],t=wt().memoizedState;return[e,t]},useMutableSource:op,useSyncExternalStore:sp,useId:wp,unstable_isNewReconciler:!1},Yv={readContext:yt,useCallback:gp,useContext:yt,useEffect:Nu,useImperativeHandle:_p,useInsertionEffect:fp,useLayoutEffect:pp,useMemo:vp,useReducer:Ra,useRef:dp,useState:function(){return Ra(Nr)},useDebugValue:zu,useDeferredValue:function(e){var t=wt();return Te===null?t.memoizedState=e:yp(t,Te.memoizedState,e)},useTransition:function(){var e=Ra(Nr)[0],t=wt().memoizedState;return[e,t]},useMutableSource:op,useSyncExternalStore:sp,useId:wp,unstable_isNewReconciler:!1};function Et(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function El(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:we({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ps={isMounted:function(e){return(e=e._reactInternals)?$n(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var o=Ye(),r=wn(e),a=Yt(o,r);a.payload=t,i!=null&&(a.callback=i),t=vn(e,a,r),t!==null&&(Tt(t,e,r,o),Io(t,e,r))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=Ye(),r=wn(e),a=Yt(o,r);a.tag=1,a.payload=t,i!=null&&(a.callback=i),t=vn(e,a,r),t!==null&&(Tt(t,e,r,o),Io(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Ye(),o=wn(e),r=Yt(i,o);r.tag=2,t!=null&&(r.callback=t),t=vn(e,r,o),t!==null&&(Tt(t,e,o,i),Io(t,e,o))}};function Qh(e,t,i,o,r,a,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,a,u):t.prototype&&t.prototype.isPureReactComponent?!Sr(i,o)||!Sr(r,a):!0}function Ep(e,t,i){var o=!1,r=En,a=t.contextType;return typeof a=="object"&&a!==null?a=yt(a):(r=it(t)?Hn:Ue.current,o=t.contextTypes,a=(o=o!=null)?Si(e,r):En),t=new t(i,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ps,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function Xh(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&Ps.enqueueReplaceState(t,t.state,null)}function Sl(e,t,i,o){var r=e.stateNode;r.props=i,r.state=e.memoizedState,r.refs={},Su(e);var a=t.contextType;typeof a=="object"&&a!==null?r.context=yt(a):(a=it(t)?Hn:Ue.current,r.context=Si(e,a)),r.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(El(e,t,a,i),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&Ps.enqueueReplaceState(r,r.state,null),rs(e,i,r,o),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function Ti(e,t){try{var i="",o=t;do i+=Lg(o),o=o.return;while(o);var r=i}catch(a){r=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:r,digest:null}}function Aa(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function Pl(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Kv=typeof WeakMap=="function"?WeakMap:Map;function Sp(e,t,i){i=Yt(-1,i),i.tag=3,i.payload={element:null};var o=t.value;return i.callback=function(){us||(us=!0,Rl=o),Pl(e,t)},i}function Pp(e,t,i){i=Yt(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var r=t.value;i.payload=function(){return o(r)},i.callback=function(){Pl(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(i.callback=function(){Pl(e,t),typeof o!="function"&&(yn===null?yn=new Set([this]):yn.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),i}function qh(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new Kv;var r=new Set;o.set(t,r)}else r=o.get(t),r===void 0&&(r=new Set,o.set(t,r));r.has(i)||(r.add(i),e=uy.bind(null,e,t,i),t.then(e,e))}function Jh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ed(e,t,i,o,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Yt(-1,1),t.tag=2,vn(i,t,1))),i.lanes|=1),e)}var Qv=en.ReactCurrentOwner,tt=!1;function Ve(e,t,i,o){t.child=e===null?tp(t,null,i,o):Ci(t,e.child,i,o)}function td(e,t,i,o,r){i=i.render;var a=t.ref;return xi(t,r),o=bu(e,t,i,o,a,r),i=Du(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Jt(e,t,r)):(_e&&i&&vu(t),t.flags|=1,Ve(e,t,o,r),t.child)}function nd(e,t,i,o,r){if(e===null){var a=i.type;return typeof a=="function"&&!Hu(a)&&a.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=a,Cp(e,t,a,o,r)):(e=Ho(i.type,null,o,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&r)){var u=a.memoizedProps;if(i=i.compare,i=i!==null?i:Sr,i(u,o)&&e.ref===t.ref)return Jt(e,t,r)}return t.flags|=1,e=xn(a,o),e.ref=t.ref,e.return=t,t.child=e}function Cp(e,t,i,o,r){if(e!==null){var a=e.memoizedProps;if(Sr(a,o)&&e.ref===t.ref)if(tt=!1,t.pendingProps=o=a,(e.lanes&r)!==0)e.flags&131072&&(tt=!0);else return t.lanes=e.lanes,Jt(e,t,r)}return Cl(e,t,i,o,r)}function Mp(e,t,i){var o=t.pendingProps,r=o.children,a=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(_i,ot),ot|=i;else{if(!(i&1073741824))return e=a!==null?a.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fe(_i,ot),ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=a!==null?a.baseLanes:i,fe(_i,ot),ot|=o}else a!==null?(o=a.baseLanes|i,t.memoizedState=null):o=i,fe(_i,ot),ot|=o;return Ve(e,t,r,i),t.child}function Tp(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Cl(e,t,i,o,r){var a=it(i)?Hn:Ue.current;return a=Si(t,a),xi(t,r),i=bu(e,t,i,o,a,r),o=Du(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Jt(e,t,r)):(_e&&o&&vu(t),t.flags|=1,Ve(e,t,i,r),t.child)}function id(e,t,i,o,r){if(it(i)){var a=!0;Jo(t)}else a=!1;if(xi(t,r),t.stateNode===null)jo(e,t),Ep(t,i,o),Sl(t,i,o,r),o=!0;else if(e===null){var u=t.stateNode,h=t.memoizedProps;u.props=h;var d=u.context,p=i.contextType;typeof p=="object"&&p!==null?p=yt(p):(p=it(i)?Hn:Ue.current,p=Si(t,p));var y=i.getDerivedStateFromProps,m=typeof y=="function"||typeof u.getSnapshotBeforeUpdate=="function";m||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==o||d!==p)&&Xh(t,u,o,p),an=!1;var g=t.memoizedState;u.state=g,rs(t,o,u,r),d=t.memoizedState,h!==o||g!==d||nt.current||an?(typeof y=="function"&&(El(t,i,y,o),d=t.memoizedState),(h=an||Qh(t,i,h,o,g,d,p))?(m||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=d),u.props=o,u.state=d,u.context=p,o=h):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{u=t.stateNode,ip(e,t),h=t.memoizedProps,p=t.type===t.elementType?h:Et(t.type,h),u.props=p,m=t.pendingProps,g=u.context,d=i.contextType,typeof d=="object"&&d!==null?d=yt(d):(d=it(i)?Hn:Ue.current,d=Si(t,d));var S=i.getDerivedStateFromProps;(y=typeof S=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==m||g!==d)&&Xh(t,u,o,d),an=!1,g=t.memoizedState,u.state=g,rs(t,o,u,r);var C=t.memoizedState;h!==m||g!==C||nt.current||an?(typeof S=="function"&&(El(t,i,S,o),C=t.memoizedState),(p=an||Qh(t,i,p,o,g,C,d)||!1)?(y||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(o,C,d),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(o,C,d)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=C),u.props=o,u.state=C,u.context=d,o=p):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),o=!1)}return Ml(e,t,i,o,a,r)}function Ml(e,t,i,o,r,a){Tp(e,t);var u=(t.flags&128)!==0;if(!o&&!u)return r&&Zh(t,i,!1),Jt(e,t,a);o=t.stateNode,Qv.current=t;var h=u&&typeof i.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&u?(t.child=Ci(t,e.child,null,a),t.child=Ci(t,null,h,a)):Ve(e,t,h,a),t.memoizedState=o.state,r&&Zh(t,i,!0),t.child}function bp(e){var t=e.stateNode;t.pendingContext?Hh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hh(e,t.context,!1),Pu(e,t.containerInfo)}function rd(e,t,i,o,r){return Pi(),wu(r),t.flags|=256,Ve(e,t,i,o),t.child}var Tl={dehydrated:null,treeContext:null,retryLane:0};function bl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Dp(e,t,i){var o=t.pendingProps,r=ve.current,a=!1,u=(t.flags&128)!==0,h;if((h=u)||(h=e!==null&&e.memoizedState===null?!1:(r&2)!==0),h?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),fe(ve,r&1),e===null)return Ll(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=o.children,e=o.fallback,a?(o=t.mode,a=t.child,u={mode:"hidden",children:u},!(o&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=Ts(u,o,0,null),e=Fn(e,o,i,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=bl(i),t.memoizedState=Tl,e):Ou(t,u));if(r=e.memoizedState,r!==null&&(h=r.dehydrated,h!==null))return Xv(e,t,u,o,h,r,i);if(a){a=o.fallback,u=t.mode,r=e.child,h=r.sibling;var d={mode:"hidden",children:o.children};return!(u&1)&&t.child!==r?(o=t.child,o.childLanes=0,o.pendingProps=d,t.deletions=null):(o=xn(r,d),o.subtreeFlags=r.subtreeFlags&14680064),h!==null?a=xn(h,a):(a=Fn(a,u,i,null),a.flags|=2),a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,u=e.child.memoizedState,u=u===null?bl(i):{baseLanes:u.baseLanes|i,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=e.childLanes&~i,t.memoizedState=Tl,o}return a=e.child,e=a.sibling,o=xn(a,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=i),o.return=t,o.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=o,t.memoizedState=null,o}function Ou(e,t){return t=Ts({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Eo(e,t,i,o){return o!==null&&wu(o),Ci(t,e.child,null,i),e=Ou(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xv(e,t,i,o,r,a,u){if(i)return t.flags&256?(t.flags&=-257,o=Aa(Error(I(422))),Eo(e,t,u,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=o.fallback,r=t.mode,o=Ts({mode:"visible",children:o.children},r,0,null),a=Fn(a,r,u,null),a.flags|=2,o.return=t,a.return=t,o.sibling=a,t.child=o,t.mode&1&&Ci(t,e.child,null,u),t.child.memoizedState=bl(u),t.memoizedState=Tl,a);if(!(t.mode&1))return Eo(e,t,u,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var h=o.dgst;return o=h,a=Error(I(419)),o=Aa(a,o,void 0),Eo(e,t,u,o)}if(h=(u&e.childLanes)!==0,tt||h){if(o=ze,o!==null){switch(u&-u){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|u)?0:r,r!==0&&r!==a.retryLane&&(a.retryLane=r,qt(e,r),Tt(o,e,r,-1))}return Fu(),o=Aa(Error(I(421))),Eo(e,t,u,o)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=cy.bind(null,e),r._reactRetry=t,null):(e=a.treeContext,st=gn(r.nextSibling),at=t,_e=!0,Pt=null,e!==null&&(mt[_t++]=Vt,mt[_t++]=$t,mt[_t++]=Zn,Vt=e.id,$t=e.overflow,Zn=t),t=Ou(t,o.children),t.flags|=4096,t)}function od(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),kl(e.return,t,i)}function ja(e,t,i,o,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=o,a.tail=i,a.tailMode=r)}function Np(e,t,i){var o=t.pendingProps,r=o.revealOrder,a=o.tail;if(Ve(e,t,o.children,i),o=ve.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&od(e,i,t);else if(e.tag===19)od(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(fe(ve,o),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(i=t.child,r=null;i!==null;)e=i.alternate,e!==null&&os(e)===null&&(r=i),i=i.sibling;i=r,i===null?(r=t.child,t.child=null):(r=i.sibling,i.sibling=null),ja(t,!1,r,i,a);break;case"backwards":for(i=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&os(e)===null){t.child=r;break}e=r.sibling,r.sibling=i,i=r,r=e}ja(t,!0,i,null,a);break;case"together":ja(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function jo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jt(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Wn|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,i=xn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=xn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function qv(e,t,i){switch(t.tag){case 3:bp(t),Pi();break;case 5:rp(t);break;case 1:it(t.type)&&Jo(t);break;case 4:Pu(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,r=t.memoizedProps.value;fe(ns,o._currentValue),o._currentValue=r;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(fe(ve,ve.current&1),t.flags|=128,null):i&t.child.childLanes?Dp(e,t,i):(fe(ve,ve.current&1),e=Jt(e,t,i),e!==null?e.sibling:null);fe(ve,ve.current&1);break;case 19:if(o=(i&t.childLanes)!==0,e.flags&128){if(o)return Np(e,t,i);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),fe(ve,ve.current),o)break;return null;case 22:case 23:return t.lanes=0,Mp(e,t,i)}return Jt(e,t,i)}var zp,Dl,Op,Ip;zp=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Dl=function(){};Op=function(e,t,i,o){var r=e.memoizedProps;if(r!==o){e=t.stateNode,jn(Bt.current);var a=null;switch(i){case"input":r=Ja(e,r),o=Ja(e,o),a=[];break;case"select":r=we({},r,{value:void 0}),o=we({},o,{value:void 0}),a=[];break;case"textarea":r=nl(e,r),o=nl(e,o),a=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Xo)}rl(i,o);var u;i=null;for(p in r)if(!o.hasOwnProperty(p)&&r.hasOwnProperty(p)&&r[p]!=null)if(p==="style"){var h=r[p];for(u in h)h.hasOwnProperty(u)&&(i||(i={}),i[u]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(vr.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in o){var d=o[p];if(h=r!=null?r[p]:void 0,o.hasOwnProperty(p)&&d!==h&&(d!=null||h!=null))if(p==="style")if(h){for(u in h)!h.hasOwnProperty(u)||d&&d.hasOwnProperty(u)||(i||(i={}),i[u]="");for(u in d)d.hasOwnProperty(u)&&h[u]!==d[u]&&(i||(i={}),i[u]=d[u])}else i||(a||(a=[]),a.push(p,i)),i=d;else p==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,h=h?h.__html:void 0,d!=null&&h!==d&&(a=a||[]).push(p,d)):p==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(p,""+d):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(vr.hasOwnProperty(p)?(d!=null&&p==="onScroll"&&pe("scroll",e),a||h===d||(a=[])):(a=a||[]).push(p,d))}i&&(a=a||[]).push("style",i);var p=a;(t.updateQueue=p)&&(t.flags|=4)}};Ip=function(e,t,i,o){i!==o&&(t.flags|=4)};function nr(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var r=e.child;r!==null;)i|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)i|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function Jv(e,t,i){var o=t.pendingProps;switch(yu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(t),null;case 1:return it(t.type)&&qo(),Fe(t),null;case 3:return o=t.stateNode,Mi(),me(nt),me(Ue),Mu(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Lo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pt!==null&&(Bl(Pt),Pt=null))),Dl(e,t),Fe(t),null;case 5:Cu(t);var r=jn(br.current);if(i=t.type,e!==null&&t.stateNode!=null)Op(e,t,i,o,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(I(166));return Fe(t),null}if(e=jn(Bt.current),Lo(t)){o=t.stateNode,i=t.type;var a=t.memoizedProps;switch(o[At]=t,o[Mr]=a,e=(t.mode&1)!==0,i){case"dialog":pe("cancel",o),pe("close",o);break;case"iframe":case"object":case"embed":pe("load",o);break;case"video":case"audio":for(r=0;r<lr.length;r++)pe(lr[r],o);break;case"source":pe("error",o);break;case"img":case"image":case"link":pe("error",o),pe("load",o);break;case"details":pe("toggle",o);break;case"input":ph(o,a),pe("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!a.multiple},pe("invalid",o);break;case"textarea":_h(o,a),pe("invalid",o)}rl(i,a),r=null;for(var u in a)if(a.hasOwnProperty(u)){var h=a[u];u==="children"?typeof h=="string"?o.textContent!==h&&(a.suppressHydrationWarning!==!0&&xo(o.textContent,h,e),r=["children",h]):typeof h=="number"&&o.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&xo(o.textContent,h,e),r=["children",""+h]):vr.hasOwnProperty(u)&&h!=null&&u==="onScroll"&&pe("scroll",o)}switch(i){case"input":fo(o),mh(o,a,!0);break;case"textarea":fo(o),gh(o);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(o.onclick=Xo)}o=r,t.updateQueue=o,o!==null&&(t.flags|=4)}else{u=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uf(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=u.createElement(i,{is:o.is}):(e=u.createElement(i),i==="select"&&(u=e,o.multiple?u.multiple=!0:o.size&&(u.size=o.size))):e=u.createElementNS(e,i),e[At]=t,e[Mr]=o,zp(e,t,!1,!1),t.stateNode=e;e:{switch(u=ol(i,o),i){case"dialog":pe("cancel",e),pe("close",e),r=o;break;case"iframe":case"object":case"embed":pe("load",e),r=o;break;case"video":case"audio":for(r=0;r<lr.length;r++)pe(lr[r],e);r=o;break;case"source":pe("error",e),r=o;break;case"img":case"image":case"link":pe("error",e),pe("load",e),r=o;break;case"details":pe("toggle",e),r=o;break;case"input":ph(e,o),r=Ja(e,o),pe("invalid",e);break;case"option":r=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},r=we({},o,{value:void 0}),pe("invalid",e);break;case"textarea":_h(e,o),r=nl(e,o),pe("invalid",e);break;default:r=o}rl(i,r),h=r;for(a in h)if(h.hasOwnProperty(a)){var d=h[a];a==="style"?df(e,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&cf(e,d)):a==="children"?typeof d=="string"?(i!=="textarea"||d!=="")&&yr(e,d):typeof d=="number"&&yr(e,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(vr.hasOwnProperty(a)?d!=null&&a==="onScroll"&&pe("scroll",e):d!=null&&ru(e,a,d,u))}switch(i){case"input":fo(e),mh(e,o,!1);break;case"textarea":fo(e),gh(e);break;case"option":o.value!=null&&e.setAttribute("value",""+kn(o.value));break;case"select":e.multiple=!!o.multiple,a=o.value,a!=null?gi(e,!!o.multiple,a,!1):o.defaultValue!=null&&gi(e,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=Xo)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Fe(t),null;case 6:if(e&&t.stateNode!=null)Ip(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(I(166));if(i=jn(br.current),jn(Bt.current),Lo(t)){if(o=t.stateNode,i=t.memoizedProps,o[At]=t,(a=o.nodeValue!==i)&&(e=at,e!==null))switch(e.tag){case 3:xo(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xo(o.nodeValue,i,(e.mode&1)!==0)}a&&(t.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[At]=t,t.stateNode=o}return Fe(t),null;case 13:if(me(ve),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_e&&st!==null&&t.mode&1&&!(t.flags&128))Jf(),Pi(),t.flags|=98560,a=!1;else if(a=Lo(t),o!==null&&o.dehydrated!==null){if(e===null){if(!a)throw Error(I(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(I(317));a[At]=t}else Pi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Fe(t),a=!1}else Pt!==null&&(Bl(Pt),Pt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?be===0&&(be=3):Fu())),t.updateQueue!==null&&(t.flags|=4),Fe(t),null);case 4:return Mi(),Dl(e,t),e===null&&Pr(t.stateNode.containerInfo),Fe(t),null;case 10:return ku(t.type._context),Fe(t),null;case 17:return it(t.type)&&qo(),Fe(t),null;case 19:if(me(ve),a=t.memoizedState,a===null)return Fe(t),null;if(o=(t.flags&128)!==0,u=a.rendering,u===null)if(o)nr(a,!1);else{if(be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=os(e),u!==null){for(t.flags|=128,nr(a,!1),o=u.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=i,i=t.child;i!==null;)a=i,e=o,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return fe(ve,ve.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ee()>bi&&(t.flags|=128,o=!0,nr(a,!1),t.lanes=4194304)}else{if(!o)if(e=os(u),e!==null){if(t.flags|=128,o=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),nr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!_e)return Fe(t),null}else 2*Ee()-a.renderingStartTime>bi&&i!==1073741824&&(t.flags|=128,o=!0,nr(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(i=a.last,i!==null?i.sibling=u:t.child=u,a.last=u)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ee(),t.sibling=null,i=ve.current,fe(ve,o?i&1|2:i&1),t):(Fe(t),null);case 22:case 23:return Bu(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?ot&1073741824&&(Fe(t),t.subtreeFlags&6&&(t.flags|=8192)):Fe(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function ey(e,t){switch(yu(t),t.tag){case 1:return it(t.type)&&qo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mi(),me(nt),me(Ue),Mu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Cu(t),null;case 13:if(me(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));Pi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(ve),null;case 4:return Mi(),null;case 10:return ku(t.type._context),null;case 22:case 23:return Bu(),null;case 24:return null;default:return null}}var So=!1,Ze=!1,ty=typeof WeakSet=="function"?WeakSet:Set,Z=null;function mi(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){Le(e,t,o)}else i.current=null}function Nl(e,t,i){try{i()}catch(o){Le(e,t,o)}}var sd=!1;function ny(e,t){if(ml=Yo,e=Ff(),gu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var r=o.anchorOffset,a=o.focusNode;o=o.focusOffset;try{i.nodeType,a.nodeType}catch{i=null;break e}var u=0,h=-1,d=-1,p=0,y=0,m=e,g=null;t:for(;;){for(var S;m!==i||r!==0&&m.nodeType!==3||(h=u+r),m!==a||o!==0&&m.nodeType!==3||(d=u+o),m.nodeType===3&&(u+=m.nodeValue.length),(S=m.firstChild)!==null;)g=m,m=S;for(;;){if(m===e)break t;if(g===i&&++p===r&&(h=u),g===a&&++y===o&&(d=u),(S=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=S}i=h===-1||d===-1?null:{start:h,end:d}}else i=null}i=i||{start:0,end:0}}else i=null;for(_l={focusedElem:e,selectionRange:i},Yo=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var P=C.memoizedProps,D=C.memoizedState,w=t.stateNode,x=w.getSnapshotBeforeUpdate(t.elementType===t.type?P:Et(t.type,P),D);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(T){Le(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return C=sd,sd=!1,C}function mr(e,t,i){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,a!==void 0&&Nl(t,i,a)}r=r.next}while(r!==o)}}function Cs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==t)}}function zl(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Rp(e){var t=e.alternate;t!==null&&(e.alternate=null,Rp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[At],delete t[Mr],delete t[yl],delete t[jv],delete t[Bv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ap(e){return e.tag===5||e.tag===3||e.tag===4}function ad(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ap(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ol(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Xo));else if(o!==4&&(e=e.child,e!==null))for(Ol(e,t,i),e=e.sibling;e!==null;)Ol(e,t,i),e=e.sibling}function Il(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Il(e,t,i),e=e.sibling;e!==null;)Il(e,t,i),e=e.sibling}var Ie=null,St=!1;function on(e,t,i){for(i=i.child;i!==null;)jp(e,t,i),i=i.sibling}function jp(e,t,i){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(ys,i)}catch{}switch(i.tag){case 5:Ze||mi(i,t);case 6:var o=Ie,r=St;Ie=null,on(e,t,i),Ie=o,St=r,Ie!==null&&(St?(e=Ie,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Ie.removeChild(i.stateNode));break;case 18:Ie!==null&&(St?(e=Ie,i=i.stateNode,e.nodeType===8?Da(e.parentNode,i):e.nodeType===1&&Da(e,i),kr(e)):Da(Ie,i.stateNode));break;case 4:o=Ie,r=St,Ie=i.stateNode.containerInfo,St=!0,on(e,t,i),Ie=o,St=r;break;case 0:case 11:case 14:case 15:if(!Ze&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var a=r,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&Nl(i,t,u),r=r.next}while(r!==o)}on(e,t,i);break;case 1:if(!Ze&&(mi(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(h){Le(i,t,h)}on(e,t,i);break;case 21:on(e,t,i);break;case 22:i.mode&1?(Ze=(o=Ze)||i.memoizedState!==null,on(e,t,i),Ze=o):on(e,t,i);break;default:on(e,t,i)}}function ld(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new ty),t.forEach(function(o){var r=hy.bind(null,e,o);i.has(o)||(i.add(o),o.then(r,r))})}}function kt(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var r=i[o];try{var a=e,u=t,h=u;e:for(;h!==null;){switch(h.tag){case 5:Ie=h.stateNode,St=!1;break e;case 3:Ie=h.stateNode.containerInfo,St=!0;break e;case 4:Ie=h.stateNode.containerInfo,St=!0;break e}h=h.return}if(Ie===null)throw Error(I(160));jp(a,u,r),Ie=null,St=!1;var d=r.alternate;d!==null&&(d.return=null),r.return=null}catch(p){Le(r,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Bp(t,e),t=t.sibling}function Bp(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kt(t,e),It(e),o&4){try{mr(3,e,e.return),Cs(3,e)}catch(P){Le(e,e.return,P)}try{mr(5,e,e.return)}catch(P){Le(e,e.return,P)}}break;case 1:kt(t,e),It(e),o&512&&i!==null&&mi(i,i.return);break;case 5:if(kt(t,e),It(e),o&512&&i!==null&&mi(i,i.return),e.flags&32){var r=e.stateNode;try{yr(r,"")}catch(P){Le(e,e.return,P)}}if(o&4&&(r=e.stateNode,r!=null)){var a=e.memoizedProps,u=i!==null?i.memoizedProps:a,h=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&af(r,a),ol(h,u);var p=ol(h,a);for(u=0;u<d.length;u+=2){var y=d[u],m=d[u+1];y==="style"?df(r,m):y==="dangerouslySetInnerHTML"?cf(r,m):y==="children"?yr(r,m):ru(r,y,m,p)}switch(h){case"input":el(r,a);break;case"textarea":lf(r,a);break;case"select":var g=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var S=a.value;S!=null?gi(r,!!a.multiple,S,!1):g!==!!a.multiple&&(a.defaultValue!=null?gi(r,!!a.multiple,a.defaultValue,!0):gi(r,!!a.multiple,a.multiple?[]:"",!1))}r[Mr]=a}catch(P){Le(e,e.return,P)}}break;case 6:if(kt(t,e),It(e),o&4){if(e.stateNode===null)throw Error(I(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(P){Le(e,e.return,P)}}break;case 3:if(kt(t,e),It(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{kr(t.containerInfo)}catch(P){Le(e,e.return,P)}break;case 4:kt(t,e),It(e);break;case 13:kt(t,e),It(e),r=e.child,r.flags&8192&&(a=r.memoizedState!==null,r.stateNode.isHidden=a,!a||r.alternate!==null&&r.alternate.memoizedState!==null||(Au=Ee())),o&4&&ld(e);break;case 22:if(y=i!==null&&i.memoizedState!==null,e.mode&1?(Ze=(p=Ze)||y,kt(t,e),Ze=p):kt(t,e),It(e),o&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!y&&e.mode&1)for(Z=e,y=e.child;y!==null;){for(m=Z=y;Z!==null;){switch(g=Z,S=g.child,g.tag){case 0:case 11:case 14:case 15:mr(4,g,g.return);break;case 1:mi(g,g.return);var C=g.stateNode;if(typeof C.componentWillUnmount=="function"){o=g,i=g.return;try{t=o,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(P){Le(o,i,P)}}break;case 5:mi(g,g.return);break;case 22:if(g.memoizedState!==null){cd(m);continue}}S!==null?(S.return=g,Z=S):cd(m)}y=y.sibling}e:for(y=null,m=e;;){if(m.tag===5){if(y===null){y=m;try{r=m.stateNode,p?(a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=m.stateNode,d=m.memoizedProps.style,u=d!=null&&d.hasOwnProperty("display")?d.display:null,h.style.display=hf("display",u))}catch(P){Le(e,e.return,P)}}}else if(m.tag===6){if(y===null)try{m.stateNode.nodeValue=p?"":m.memoizedProps}catch(P){Le(e,e.return,P)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;y===m&&(y=null),m=m.return}y===m&&(y=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:kt(t,e),It(e),o&4&&ld(e);break;case 21:break;default:kt(t,e),It(e)}}function It(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Ap(i)){var o=i;break e}i=i.return}throw Error(I(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(yr(r,""),o.flags&=-33);var a=ad(e);Il(e,a,r);break;case 3:case 4:var u=o.stateNode.containerInfo,h=ad(e);Ol(e,h,u);break;default:throw Error(I(161))}}catch(d){Le(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function iy(e,t,i){Z=e,Fp(e)}function Fp(e,t,i){for(var o=(e.mode&1)!==0;Z!==null;){var r=Z,a=r.child;if(r.tag===22&&o){var u=r.memoizedState!==null||So;if(!u){var h=r.alternate,d=h!==null&&h.memoizedState!==null||Ze;h=So;var p=Ze;if(So=u,(Ze=d)&&!p)for(Z=r;Z!==null;)u=Z,d=u.child,u.tag===22&&u.memoizedState!==null?hd(r):d!==null?(d.return=u,Z=d):hd(r);for(;a!==null;)Z=a,Fp(a),a=a.sibling;Z=r,So=h,Ze=p}ud(e)}else r.subtreeFlags&8772&&a!==null?(a.return=r,Z=a):ud(e)}}function ud(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ze||Cs(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Ze)if(i===null)o.componentDidMount();else{var r=t.elementType===t.type?i.memoizedProps:Et(t.type,i.memoizedProps);o.componentDidUpdate(r,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&$h(t,a,o);break;case 3:var u=t.updateQueue;if(u!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}$h(t,u,i)}break;case 5:var h=t.stateNode;if(i===null&&t.flags&4){i=h;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&i.focus();break;case"img":d.src&&(i.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var y=p.memoizedState;if(y!==null){var m=y.dehydrated;m!==null&&kr(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Ze||t.flags&512&&zl(t)}catch(g){Le(t,t.return,g)}}if(t===e){Z=null;break}if(i=t.sibling,i!==null){i.return=t.return,Z=i;break}Z=t.return}}function cd(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var i=t.sibling;if(i!==null){i.return=t.return,Z=i;break}Z=t.return}}function hd(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Cs(4,t)}catch(d){Le(t,i,d)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var r=t.return;try{o.componentDidMount()}catch(d){Le(t,r,d)}}var a=t.return;try{zl(t)}catch(d){Le(t,a,d)}break;case 5:var u=t.return;try{zl(t)}catch(d){Le(t,u,d)}}}catch(d){Le(t,t.return,d)}if(t===e){Z=null;break}var h=t.sibling;if(h!==null){h.return=t.return,Z=h;break}Z=t.return}}var ry=Math.ceil,ls=en.ReactCurrentDispatcher,Iu=en.ReactCurrentOwner,vt=en.ReactCurrentBatchConfig,se=0,ze=null,Ce=null,Re=0,ot=0,_i=Cn(0),be=0,Or=null,Wn=0,Ms=0,Ru=0,_r=null,et=null,Au=0,bi=1/0,Wt=null,us=!1,Rl=null,yn=null,Po=!1,dn=null,cs=0,gr=0,Al=null,Bo=-1,Fo=0;function Ye(){return se&6?Ee():Bo!==-1?Bo:Bo=Ee()}function wn(e){return e.mode&1?se&2&&Re!==0?Re&-Re:Hv.transition!==null?(Fo===0&&(Fo=Ef()),Fo):(e=ce,e!==0||(e=window.event,e=e===void 0?16:Df(e.type)),e):1}function Tt(e,t,i,o){if(50<gr)throw gr=0,Al=null,Error(I(185));Br(e,i,o),(!(se&2)||e!==ze)&&(e===ze&&(!(se&2)&&(Ms|=i),be===4&&un(e,Re)),rt(e,o),i===1&&se===0&&!(t.mode&1)&&(bi=Ee()+500,Es&&Mn()))}function rt(e,t){var i=e.callbackNode;Hg(e,t);var o=$o(e,e===ze?Re:0);if(o===0)i!==null&&wh(i),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(i!=null&&wh(i),t===1)e.tag===0?Fv(dd.bind(null,e)):Qf(dd.bind(null,e)),Rv(function(){!(se&6)&&Mn()}),i=null;else{switch(Sf(o)){case 1:i=uu;break;case 4:i=Lf;break;case 16:i=Vo;break;case 536870912:i=kf;break;default:i=Vo}i=Yp(i,Hp.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Hp(e,t){if(Bo=-1,Fo=0,se&6)throw Error(I(327));var i=e.callbackNode;if(Li()&&e.callbackNode!==i)return null;var o=$o(e,e===ze?Re:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=hs(e,o);else{t=o;var r=se;se|=2;var a=Up();(ze!==e||Re!==t)&&(Wt=null,bi=Ee()+500,Bn(e,t));do try{ay();break}catch(h){Zp(e,h)}while(!0);Lu(),ls.current=a,se=r,Ce!==null?t=0:(ze=null,Re=0,t=be)}if(t!==0){if(t===2&&(r=cl(e),r!==0&&(o=r,t=jl(e,r))),t===1)throw i=Or,Bn(e,0),un(e,o),rt(e,Ee()),i;if(t===6)un(e,o);else{if(r=e.current.alternate,!(o&30)&&!oy(r)&&(t=hs(e,o),t===2&&(a=cl(e),a!==0&&(o=a,t=jl(e,a))),t===1))throw i=Or,Bn(e,0),un(e,o),rt(e,Ee()),i;switch(e.finishedWork=r,e.finishedLanes=o,t){case 0:case 1:throw Error(I(345));case 2:In(e,et,Wt);break;case 3:if(un(e,o),(o&130023424)===o&&(t=Au+500-Ee(),10<t)){if($o(e,0)!==0)break;if(r=e.suspendedLanes,(r&o)!==o){Ye(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=vl(In.bind(null,e,et,Wt),t);break}In(e,et,Wt);break;case 4:if(un(e,o),(o&4194240)===o)break;for(t=e.eventTimes,r=-1;0<o;){var u=31-Mt(o);a=1<<u,u=t[u],u>r&&(r=u),o&=~a}if(o=r,o=Ee()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*ry(o/1960))-o,10<o){e.timeoutHandle=vl(In.bind(null,e,et,Wt),o);break}In(e,et,Wt);break;case 5:In(e,et,Wt);break;default:throw Error(I(329))}}}return rt(e,Ee()),e.callbackNode===i?Hp.bind(null,e):null}function jl(e,t){var i=_r;return e.current.memoizedState.isDehydrated&&(Bn(e,t).flags|=256),e=hs(e,t),e!==2&&(t=et,et=i,t!==null&&Bl(t)),e}function Bl(e){et===null?et=e:et.push.apply(et,e)}function oy(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var r=i[o],a=r.getSnapshot;r=r.value;try{if(!bt(a(),r))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function un(e,t){for(t&=~Ru,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Mt(t),o=1<<i;e[i]=-1,t&=~o}}function dd(e){if(se&6)throw Error(I(327));Li();var t=$o(e,0);if(!(t&1))return rt(e,Ee()),null;var i=hs(e,t);if(e.tag!==0&&i===2){var o=cl(e);o!==0&&(t=o,i=jl(e,o))}if(i===1)throw i=Or,Bn(e,0),un(e,t),rt(e,Ee()),i;if(i===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,In(e,et,Wt),rt(e,Ee()),null}function ju(e,t){var i=se;se|=1;try{return e(t)}finally{se=i,se===0&&(bi=Ee()+500,Es&&Mn())}}function Gn(e){dn!==null&&dn.tag===0&&!(se&6)&&Li();var t=se;se|=1;var i=vt.transition,o=ce;try{if(vt.transition=null,ce=1,e)return e()}finally{ce=o,vt.transition=i,se=t,!(se&6)&&Mn()}}function Bu(){ot=_i.current,me(_i)}function Bn(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Iv(i)),Ce!==null)for(i=Ce.return;i!==null;){var o=i;switch(yu(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&qo();break;case 3:Mi(),me(nt),me(Ue),Mu();break;case 5:Cu(o);break;case 4:Mi();break;case 13:me(ve);break;case 19:me(ve);break;case 10:ku(o.type._context);break;case 22:case 23:Bu()}i=i.return}if(ze=e,Ce=e=xn(e.current,null),Re=ot=t,be=0,Or=null,Ru=Ms=Wn=0,et=_r=null,An!==null){for(t=0;t<An.length;t++)if(i=An[t],o=i.interleaved,o!==null){i.interleaved=null;var r=o.next,a=i.pending;if(a!==null){var u=a.next;a.next=r,o.next=u}i.pending=o}An=null}return e}function Zp(e,t){do{var i=Ce;try{if(Lu(),Ro.current=as,ss){for(var o=ye.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}ss=!1}if(Un=0,Ne=Te=ye=null,pr=!1,Dr=0,Iu.current=null,i===null||i.return===null){be=1,Or=t,Ce=null;break}e:{var a=e,u=i.return,h=i,d=t;if(t=Re,h.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var p=d,y=h,m=y.tag;if(!(y.mode&1)&&(m===0||m===11||m===15)){var g=y.alternate;g?(y.updateQueue=g.updateQueue,y.memoizedState=g.memoizedState,y.lanes=g.lanes):(y.updateQueue=null,y.memoizedState=null)}var S=Jh(u);if(S!==null){S.flags&=-257,ed(S,u,h,a,t),S.mode&1&&qh(a,p,t),t=S,d=p;var C=t.updateQueue;if(C===null){var P=new Set;P.add(d),t.updateQueue=P}else C.add(d);break e}else{if(!(t&1)){qh(a,p,t),Fu();break e}d=Error(I(426))}}else if(_e&&h.mode&1){var D=Jh(u);if(D!==null){!(D.flags&65536)&&(D.flags|=256),ed(D,u,h,a,t),wu(Ti(d,h));break e}}a=d=Ti(d,h),be!==4&&(be=2),_r===null?_r=[a]:_r.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var w=Sp(a,d,t);Vh(a,w);break e;case 1:h=d;var x=a.type,k=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(yn===null||!yn.has(k)))){a.flags|=65536,t&=-t,a.lanes|=t;var T=Pp(a,h,t);Vh(a,T);break e}}a=a.return}while(a!==null)}Gp(i)}catch(N){t=N,Ce===i&&i!==null&&(Ce=i=i.return);continue}break}while(!0)}function Up(){var e=ls.current;return ls.current=as,e===null?as:e}function Fu(){(be===0||be===3||be===2)&&(be=4),ze===null||!(Wn&268435455)&&!(Ms&268435455)||un(ze,Re)}function hs(e,t){var i=se;se|=2;var o=Up();(ze!==e||Re!==t)&&(Wt=null,Bn(e,t));do try{sy();break}catch(r){Zp(e,r)}while(!0);if(Lu(),se=i,ls.current=o,Ce!==null)throw Error(I(261));return ze=null,Re=0,be}function sy(){for(;Ce!==null;)Wp(Ce)}function ay(){for(;Ce!==null&&!Ng();)Wp(Ce)}function Wp(e){var t=$p(e.alternate,e,ot);e.memoizedProps=e.pendingProps,t===null?Gp(e):Ce=t,Iu.current=null}function Gp(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=ey(i,t),i!==null){i.flags&=32767,Ce=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{be=6,Ce=null;return}}else if(i=Jv(i,t,ot),i!==null){Ce=i;return}if(t=t.sibling,t!==null){Ce=t;return}Ce=t=e}while(t!==null);be===0&&(be=5)}function In(e,t,i){var o=ce,r=vt.transition;try{vt.transition=null,ce=1,ly(e,t,i,o)}finally{vt.transition=r,ce=o}return null}function ly(e,t,i,o){do Li();while(dn!==null);if(se&6)throw Error(I(327));i=e.finishedWork;var r=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var a=i.lanes|i.childLanes;if(Zg(e,a),e===ze&&(Ce=ze=null,Re=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Po||(Po=!0,Yp(Vo,function(){return Li(),null})),a=(i.flags&15990)!==0,i.subtreeFlags&15990||a){a=vt.transition,vt.transition=null;var u=ce;ce=1;var h=se;se|=4,Iu.current=null,ny(e,i),Bp(i,e),Mv(_l),Yo=!!ml,_l=ml=null,e.current=i,iy(i),zg(),se=h,ce=u,vt.transition=a}else e.current=i;if(Po&&(Po=!1,dn=e,cs=r),a=e.pendingLanes,a===0&&(yn=null),Rg(i.stateNode),rt(e,Ee()),t!==null)for(o=e.onRecoverableError,i=0;i<t.length;i++)r=t[i],o(r.value,{componentStack:r.stack,digest:r.digest});if(us)throw us=!1,e=Rl,Rl=null,e;return cs&1&&e.tag!==0&&Li(),a=e.pendingLanes,a&1?e===Al?gr++:(gr=0,Al=e):gr=0,Mn(),null}function Li(){if(dn!==null){var e=Sf(cs),t=vt.transition,i=ce;try{if(vt.transition=null,ce=16>e?16:e,dn===null)var o=!1;else{if(e=dn,dn=null,cs=0,se&6)throw Error(I(331));var r=se;for(se|=4,Z=e.current;Z!==null;){var a=Z,u=a.child;if(Z.flags&16){var h=a.deletions;if(h!==null){for(var d=0;d<h.length;d++){var p=h[d];for(Z=p;Z!==null;){var y=Z;switch(y.tag){case 0:case 11:case 15:mr(8,y,a)}var m=y.child;if(m!==null)m.return=y,Z=m;else for(;Z!==null;){y=Z;var g=y.sibling,S=y.return;if(Rp(y),y===p){Z=null;break}if(g!==null){g.return=S,Z=g;break}Z=S}}}var C=a.alternate;if(C!==null){var P=C.child;if(P!==null){C.child=null;do{var D=P.sibling;P.sibling=null,P=D}while(P!==null)}}Z=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,Z=u;else e:for(;Z!==null;){if(a=Z,a.flags&2048)switch(a.tag){case 0:case 11:case 15:mr(9,a,a.return)}var w=a.sibling;if(w!==null){w.return=a.return,Z=w;break e}Z=a.return}}var x=e.current;for(Z=x;Z!==null;){u=Z;var k=u.child;if(u.subtreeFlags&2064&&k!==null)k.return=u,Z=k;else e:for(u=x;Z!==null;){if(h=Z,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:Cs(9,h)}}catch(N){Le(h,h.return,N)}if(h===u){Z=null;break e}var T=h.sibling;if(T!==null){T.return=h.return,Z=T;break e}Z=h.return}}if(se=r,Mn(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(ys,e)}catch{}o=!0}return o}finally{ce=i,vt.transition=t}}return!1}function fd(e,t,i){t=Ti(i,t),t=Sp(e,t,1),e=vn(e,t,1),t=Ye(),e!==null&&(Br(e,1,t),rt(e,t))}function Le(e,t,i){if(e.tag===3)fd(e,e,i);else for(;t!==null;){if(t.tag===3){fd(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(yn===null||!yn.has(o))){e=Ti(i,e),e=Pp(t,e,1),t=vn(t,e,1),e=Ye(),t!==null&&(Br(t,1,e),rt(t,e));break}}t=t.return}}function uy(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),t=Ye(),e.pingedLanes|=e.suspendedLanes&i,ze===e&&(Re&i)===i&&(be===4||be===3&&(Re&130023424)===Re&&500>Ee()-Au?Bn(e,0):Ru|=i),rt(e,t)}function Vp(e,t){t===0&&(e.mode&1?(t=_o,_o<<=1,!(_o&130023424)&&(_o=4194304)):t=1);var i=Ye();e=qt(e,t),e!==null&&(Br(e,t,i),rt(e,i))}function cy(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Vp(e,i)}function hy(e,t){var i=0;switch(e.tag){case 13:var o=e.stateNode,r=e.memoizedState;r!==null&&(i=r.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(I(314))}o!==null&&o.delete(t),Vp(e,i)}var $p;$p=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||nt.current)tt=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return tt=!1,qv(e,t,i);tt=!!(e.flags&131072)}else tt=!1,_e&&t.flags&1048576&&Xf(t,ts,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;jo(e,t),e=t.pendingProps;var r=Si(t,Ue.current);xi(t,i),r=bu(null,t,o,e,r,i);var a=Du();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,it(o)?(a=!0,Jo(t)):a=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Su(t),r.updater=Ps,t.stateNode=r,r._reactInternals=t,Sl(t,o,e,i),t=Ml(null,t,o,!0,a,i)):(t.tag=0,_e&&a&&vu(t),Ve(null,t,r,i),t=t.child),t;case 16:o=t.elementType;e:{switch(jo(e,t),e=t.pendingProps,r=o._init,o=r(o._payload),t.type=o,r=t.tag=fy(o),e=Et(o,e),r){case 0:t=Cl(null,t,o,e,i);break e;case 1:t=id(null,t,o,e,i);break e;case 11:t=td(null,t,o,e,i);break e;case 14:t=nd(null,t,o,Et(o.type,e),i);break e}throw Error(I(306,o,""))}return t;case 0:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Et(o,r),Cl(e,t,o,r,i);case 1:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Et(o,r),id(e,t,o,r,i);case 3:e:{if(bp(t),e===null)throw Error(I(387));o=t.pendingProps,a=t.memoizedState,r=a.element,ip(e,t),rs(t,o,null,i);var u=t.memoizedState;if(o=u.element,a.isDehydrated)if(a={element:o,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){r=Ti(Error(I(423)),t),t=rd(e,t,o,i,r);break e}else if(o!==r){r=Ti(Error(I(424)),t),t=rd(e,t,o,i,r);break e}else for(st=gn(t.stateNode.containerInfo.firstChild),at=t,_e=!0,Pt=null,i=tp(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Pi(),o===r){t=Jt(e,t,i);break e}Ve(e,t,o,i)}t=t.child}return t;case 5:return rp(t),e===null&&Ll(t),o=t.type,r=t.pendingProps,a=e!==null?e.memoizedProps:null,u=r.children,gl(o,r)?u=null:a!==null&&gl(o,a)&&(t.flags|=32),Tp(e,t),Ve(e,t,u,i),t.child;case 6:return e===null&&Ll(t),null;case 13:return Dp(e,t,i);case 4:return Pu(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Ci(t,null,o,i):Ve(e,t,o,i),t.child;case 11:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Et(o,r),td(e,t,o,r,i);case 7:return Ve(e,t,t.pendingProps,i),t.child;case 8:return Ve(e,t,t.pendingProps.children,i),t.child;case 12:return Ve(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(o=t.type._context,r=t.pendingProps,a=t.memoizedProps,u=r.value,fe(ns,o._currentValue),o._currentValue=u,a!==null)if(bt(a.value,u)){if(a.children===r.children&&!nt.current){t=Jt(e,t,i);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var h=a.dependencies;if(h!==null){u=a.child;for(var d=h.firstContext;d!==null;){if(d.context===o){if(a.tag===1){d=Yt(-1,i&-i),d.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var y=p.pending;y===null?d.next=d:(d.next=y.next,y.next=d),p.pending=d}}a.lanes|=i,d=a.alternate,d!==null&&(d.lanes|=i),kl(a.return,i,t),h.lanes|=i;break}d=d.next}}else if(a.tag===10)u=a.type===t.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(I(341));u.lanes|=i,h=u.alternate,h!==null&&(h.lanes|=i),kl(u,i,t),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===t){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}Ve(e,t,r.children,i),t=t.child}return t;case 9:return r=t.type,o=t.pendingProps.children,xi(t,i),r=yt(r),o=o(r),t.flags|=1,Ve(e,t,o,i),t.child;case 14:return o=t.type,r=Et(o,t.pendingProps),r=Et(o.type,r),nd(e,t,o,r,i);case 15:return Cp(e,t,t.type,t.pendingProps,i);case 17:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Et(o,r),jo(e,t),t.tag=1,it(o)?(e=!0,Jo(t)):e=!1,xi(t,i),Ep(t,o,r),Sl(t,o,r,i),Ml(null,t,o,!0,e,i);case 19:return Np(e,t,i);case 22:return Mp(e,t,i)}throw Error(I(156,t.tag))};function Yp(e,t){return xf(e,t)}function dy(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(e,t,i,o){return new dy(e,t,i,o)}function Hu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fy(e){if(typeof e=="function")return Hu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===su)return 11;if(e===au)return 14}return 2}function xn(e,t){var i=e.alternate;return i===null?(i=gt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Ho(e,t,i,o,r,a){var u=2;if(o=e,typeof e=="function")Hu(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case si:return Fn(i.children,r,a,t);case ou:u=8,r|=8;break;case Ka:return e=gt(12,i,t,r|2),e.elementType=Ka,e.lanes=a,e;case Qa:return e=gt(13,i,t,r),e.elementType=Qa,e.lanes=a,e;case Xa:return e=gt(19,i,t,r),e.elementType=Xa,e.lanes=a,e;case rf:return Ts(i,r,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tf:u=10;break e;case nf:u=9;break e;case su:u=11;break e;case au:u=14;break e;case sn:u=16,o=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=gt(u,i,t,r),t.elementType=e,t.type=o,t.lanes=a,t}function Fn(e,t,i,o){return e=gt(7,e,o,t),e.lanes=i,e}function Ts(e,t,i,o){return e=gt(22,e,o,t),e.elementType=rf,e.lanes=i,e.stateNode={isHidden:!1},e}function Ba(e,t,i){return e=gt(6,e,null,t),e.lanes=i,e}function Fa(e,t,i){return t=gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function py(e,t,i,o,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wa(0),this.expirationTimes=wa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wa(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Zu(e,t,i,o,r,a,u,h,d){return e=new py(e,t,i,h,d),t===1?(t=1,a===!0&&(t|=8)):t=0,a=gt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Su(a),e}function my(e,t,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oi,key:o==null?null:""+o,children:e,containerInfo:t,implementation:i}}function Kp(e){if(!e)return En;e=e._reactInternals;e:{if($n(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(it(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var i=e.type;if(it(i))return Kf(e,i,t)}return t}function Qp(e,t,i,o,r,a,u,h,d){return e=Zu(i,o,!0,e,r,a,u,h,d),e.context=Kp(null),i=e.current,o=Ye(),r=wn(i),a=Yt(o,r),a.callback=t??null,vn(i,a,r),e.current.lanes=r,Br(e,r,o),rt(e,o),e}function bs(e,t,i,o){var r=t.current,a=Ye(),u=wn(r);return i=Kp(i),t.context===null?t.context=i:t.pendingContext=i,t=Yt(a,u),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=vn(r,t,u),e!==null&&(Tt(e,r,u,a),Io(e,r,u)),u}function ds(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Uu(e,t){pd(e,t),(e=e.alternate)&&pd(e,t)}function _y(){return null}var Xp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wu(e){this._internalRoot=e}Ds.prototype.render=Wu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));bs(e,t,null,null)};Ds.prototype.unmount=Wu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gn(function(){bs(null,e,null,null)}),t[Xt]=null}};function Ds(e){this._internalRoot=e}Ds.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mf();e={blockedOn:null,target:e,priority:t};for(var i=0;i<ln.length&&t!==0&&t<ln[i].priority;i++);ln.splice(i,0,e),i===0&&bf(e)}};function Gu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ns(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function md(){}function gy(e,t,i,o,r){if(r){if(typeof o=="function"){var a=o;o=function(){var p=ds(u);a.call(p)}}var u=Qp(t,o,e,0,null,!1,!1,"",md);return e._reactRootContainer=u,e[Xt]=u.current,Pr(e.nodeType===8?e.parentNode:e),Gn(),u}for(;r=e.lastChild;)e.removeChild(r);if(typeof o=="function"){var h=o;o=function(){var p=ds(d);h.call(p)}}var d=Zu(e,0,!1,null,null,!1,!1,"",md);return e._reactRootContainer=d,e[Xt]=d.current,Pr(e.nodeType===8?e.parentNode:e),Gn(function(){bs(t,d,i,o)}),d}function zs(e,t,i,o,r){var a=i._reactRootContainer;if(a){var u=a;if(typeof r=="function"){var h=r;r=function(){var d=ds(u);h.call(d)}}bs(t,u,e,r)}else u=gy(i,t,e,r,o);return ds(u)}Pf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=ar(t.pendingLanes);i!==0&&(cu(t,i|1),rt(t,Ee()),!(se&6)&&(bi=Ee()+500,Mn()))}break;case 13:Gn(function(){var o=qt(e,1);if(o!==null){var r=Ye();Tt(o,e,1,r)}}),Uu(e,1)}};hu=function(e){if(e.tag===13){var t=qt(e,134217728);if(t!==null){var i=Ye();Tt(t,e,134217728,i)}Uu(e,134217728)}};Cf=function(e){if(e.tag===13){var t=wn(e),i=qt(e,t);if(i!==null){var o=Ye();Tt(i,e,t,o)}Uu(e,t)}};Mf=function(){return ce};Tf=function(e,t){var i=ce;try{return ce=e,t()}finally{ce=i}};al=function(e,t,i){switch(t){case"input":if(el(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var r=ks(o);if(!r)throw Error(I(90));sf(o),el(o,r)}}}break;case"textarea":lf(e,i);break;case"select":t=i.value,t!=null&&gi(e,!!i.multiple,t,!1)}};mf=ju;_f=Gn;var vy={usingClientEntryPoint:!1,Events:[Hr,ci,ks,ff,pf,ju]},ir={findFiberByHostInstance:Rn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yy={bundleType:ir.bundleType,version:ir.version,rendererPackageName:ir.rendererPackageName,rendererConfig:ir.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:en.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yf(e),e===null?null:e.stateNode},findFiberByHostInstance:ir.findFiberByHostInstance||_y,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Co.isDisabled&&Co.supportsFiber)try{ys=Co.inject(yy),jt=Co}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vy;ut.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gu(t))throw Error(I(200));return my(e,t,null,i)};ut.createRoot=function(e,t){if(!Gu(e))throw Error(I(299));var i=!1,o="",r=Xp;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Zu(e,1,!1,null,null,i,!1,o,r),e[Xt]=t.current,Pr(e.nodeType===8?e.parentNode:e),new Wu(t)};ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=yf(t),e=e===null?null:e.stateNode,e};ut.flushSync=function(e){return Gn(e)};ut.hydrate=function(e,t,i){if(!Ns(t))throw Error(I(200));return zs(null,e,t,!0,i)};ut.hydrateRoot=function(e,t,i){if(!Gu(e))throw Error(I(405));var o=i!=null&&i.hydratedSources||null,r=!1,a="",u=Xp;if(i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(a=i.identifierPrefix),i.onRecoverableError!==void 0&&(u=i.onRecoverableError)),t=Qp(t,null,e,1,i??null,r,!1,a,u),e[Xt]=t.current,Pr(e),o)for(e=0;e<o.length;e++)i=o[e],r=i._getVersion,r=r(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,r]:t.mutableSourceEagerHydrationData.push(i,r);return new Ds(t)};ut.render=function(e,t,i){if(!Ns(t))throw Error(I(200));return zs(null,e,t,!1,i)};ut.unmountComponentAtNode=function(e){if(!Ns(e))throw Error(I(40));return e._reactRootContainer?(Gn(function(){zs(null,null,e,!1,function(){e._reactRootContainer=null,e[Xt]=null})}),!0):!1};ut.unstable_batchedUpdates=ju;ut.unstable_renderSubtreeIntoContainer=function(e,t,i,o){if(!Ns(i))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return zs(e,t,i,!1,o)};ut.version="18.3.1-next-f1338f8080-20240426";function qp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qp)}catch(e){console.error(e)}}qp(),Xd.exports=ut;var wy=Xd.exports,_d=wy;$a.createRoot=_d.createRoot,$a.hydrateRoot=_d.hydrateRoot;function xy(e,t){const i=F.useRef(t);F.useEffect(function(){t!==i.current&&e.attributionControl!=null&&(i.current!=null&&e.attributionControl.removeAttribution(i.current),t!=null&&e.attributionControl.addAttribution(t)),i.current=t},[e,t])}const Ly=1;function ky(e){return Object.freeze({__version:Ly,map:e})}function Jp(e,t){return Object.freeze({...e,...t})}const em=F.createContext(null),tm=em.Provider;function Vu(){const e=F.useContext(em);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function nm(e){function t(i,o){const{instance:r,context:a}=e(i).current;return F.useImperativeHandle(o,()=>r),i.children==null?null:ki.createElement(tm,{value:a},i.children)}return F.forwardRef(t)}function Ey(e){function t(i,o){const{instance:r}=e(i).current;return F.useImperativeHandle(o,()=>r),null}return F.forwardRef(t)}function im(e,t){const i=F.useRef();F.useEffect(function(){return t!=null&&e.instance.on(t),i.current=t,function(){i.current!=null&&e.instance.off(i.current),i.current=null}},[e,t])}function $u(e,t){const i=e.pane??t.pane;return i?{...e,pane:i}:e}var Fl={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(i,o){o(t)})(Y_,function(i){var o="1.9.4";function r(n){var s,l,c,f;for(l=1,c=arguments.length;l<c;l++){f=arguments[l];for(s in f)n[s]=f[s]}return n}var a=Object.create||function(){function n(){}return function(s){return n.prototype=s,new n}}();function u(n,s){var l=Array.prototype.slice;if(n.bind)return n.bind.apply(n,l.call(arguments,1));var c=l.call(arguments,2);return function(){return n.apply(s,c.length?c.concat(l.call(arguments)):arguments)}}var h=0;function d(n){return"_leaflet_id"in n||(n._leaflet_id=++h),n._leaflet_id}function p(n,s,l){var c,f,_,E;return E=function(){c=!1,f&&(_.apply(l,f),f=!1)},_=function(){c?f=arguments:(n.apply(l,arguments),setTimeout(E,s),c=!0)},_}function y(n,s,l){var c=s[1],f=s[0],_=c-f;return n===c&&l?n:((n-f)%_+_)%_+f}function m(){return!1}function g(n,s){if(s===!1)return n;var l=Math.pow(10,s===void 0?6:s);return Math.round(n*l)/l}function S(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function C(n){return S(n).split(/\s+/)}function P(n,s){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?a(n.options):{});for(var l in s)n.options[l]=s[l];return n.options}function D(n,s,l){var c=[];for(var f in n)c.push(encodeURIComponent(l?f.toUpperCase():f)+"="+encodeURIComponent(n[f]));return(!s||s.indexOf("?")===-1?"?":"&")+c.join("&")}var w=/\{ *([\w_ -]+) *\}/g;function x(n,s){return n.replace(w,function(l,c){var f=s[c];if(f===void 0)throw new Error("No value provided for variable "+l);return typeof f=="function"&&(f=f(s)),f})}var k=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function T(n,s){for(var l=0;l<n.length;l++)if(n[l]===s)return l;return-1}var N="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function R(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var A=0;function j(n){var s=+new Date,l=Math.max(0,16-(s-A));return A=s+l,window.setTimeout(n,l)}var $=window.requestAnimationFrame||R("RequestAnimationFrame")||j,G=window.cancelAnimationFrame||R("CancelAnimationFrame")||R("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function Q(n,s,l){if(l&&$===j)n.call(s);else return $.call(window,u(n,s))}function ne(n){n&&G.call(window,n)}var xe={__proto__:null,extend:r,create:a,bind:u,get lastId(){return h},stamp:d,throttle:p,wrapNum:y,falseFn:m,formatNum:g,trim:S,splitWords:C,setOptions:P,getParamString:D,template:x,isArray:k,indexOf:T,emptyImageUrl:N,requestFn:$,cancelFn:G,requestAnimFrame:Q,cancelAnimFrame:ne};function U(){}U.extend=function(n){var s=function(){P(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},l=s.__super__=this.prototype,c=a(l);c.constructor=s,s.prototype=c;for(var f in this)Object.prototype.hasOwnProperty.call(this,f)&&f!=="prototype"&&f!=="__super__"&&(s[f]=this[f]);return n.statics&&r(s,n.statics),n.includes&&(ae(n.includes),r.apply(null,[c].concat(n.includes))),r(c,n),delete c.statics,delete c.includes,c.options&&(c.options=l.options?a(l.options):{},r(c.options,n.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var _=0,E=c._initHooks.length;_<E;_++)c._initHooks[_].call(this)}},s},U.include=function(n){var s=this.prototype.options;return r(this.prototype,n),n.options&&(this.prototype.options=s,this.mergeOptions(n.options)),this},U.mergeOptions=function(n){return r(this.prototype.options,n),this},U.addInitHook=function(n){var s=Array.prototype.slice.call(arguments,1),l=typeof n=="function"?n:function(){this[n].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(l),this};function ae(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=k(n)?n:[n];for(var s=0;s<n.length;s++)n[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var re={on:function(n,s,l){if(typeof n=="object")for(var c in n)this._on(c,n[c],s);else{n=C(n);for(var f=0,_=n.length;f<_;f++)this._on(n[f],s,l)}return this},off:function(n,s,l){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var c in n)this._off(c,n[c],s);else{n=C(n);for(var f=arguments.length===1,_=0,E=n.length;_<E;_++)f?this._off(n[_]):this._off(n[_],s,l)}return this},_on:function(n,s,l,c){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(n,s,l)===!1){l===this&&(l=void 0);var f={fn:s,ctx:l};c&&(f.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(f)}},_off:function(n,s,l){var c,f,_;if(this._events&&(c=this._events[n],!!c)){if(arguments.length===1){if(this._firingCount)for(f=0,_=c.length;f<_;f++)c[f].fn=m;delete this._events[n];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var E=this._listens(n,s,l);if(E!==!1){var M=c[E];this._firingCount&&(M.fn=m,this._events[n]=c=c.slice()),c.splice(E,1)}}},fire:function(n,s,l){if(!this.listens(n,l))return this;var c=r({},s,{type:n,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var f=this._events[n];if(f){this._firingCount=this._firingCount+1||1;for(var _=0,E=f.length;_<E;_++){var M=f[_],b=M.fn;M.once&&this.off(n,b,M.ctx),b.call(M.ctx||this,c)}this._firingCount--}}return l&&this._propagateEvent(c),this},listens:function(n,s,l,c){typeof n!="string"&&console.warn('"string" type argument expected');var f=s;typeof s!="function"&&(c=!!s,f=void 0,l=void 0);var _=this._events&&this._events[n];if(_&&_.length&&this._listens(n,f,l)!==!1)return!0;if(c){for(var E in this._eventParents)if(this._eventParents[E].listens(n,s,l,c))return!0}return!1},_listens:function(n,s,l){if(!this._events)return!1;var c=this._events[n]||[];if(!s)return!!c.length;l===this&&(l=void 0);for(var f=0,_=c.length;f<_;f++)if(c[f].fn===s&&c[f].ctx===l)return f;return!1},once:function(n,s,l){if(typeof n=="object")for(var c in n)this._on(c,n[c],s,!0);else{n=C(n);for(var f=0,_=n.length;f<_;f++)this._on(n[f],s,l,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[d(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[d(n)],this},_propagateEvent:function(n){for(var s in this._eventParents)this._eventParents[s].fire(n.type,r({layer:n.target,propagatedFrom:n.target},n),!0)}};re.addEventListener=re.on,re.removeEventListener=re.clearAllEventListeners=re.off,re.addOneTimeEventListener=re.once,re.fireEvent=re.fire,re.hasEventListeners=re.listens;var je=U.extend(re);function z(n,s,l){this.x=l?Math.round(n):n,this.y=l?Math.round(s):s}var Y=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};z.prototype={clone:function(){return new z(this.x,this.y)},add:function(n){return this.clone()._add(B(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(B(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new z(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new z(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Y(this.x),this.y=Y(this.y),this},distanceTo:function(n){n=B(n);var s=n.x-this.x,l=n.y-this.y;return Math.sqrt(s*s+l*l)},equals:function(n){return n=B(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=B(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function B(n,s,l){return n instanceof z?n:k(n)?new z(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new z(n.x,n.y):new z(n,s,l)}function K(n,s){if(n)for(var l=s?[n,s]:n,c=0,f=l.length;c<f;c++)this.extend(l[c])}K.prototype={extend:function(n){var s,l;if(!n)return this;if(n instanceof z||typeof n[0]=="number"||"x"in n)s=l=B(n);else if(n=oe(n),s=n.min,l=n.max,!s||!l)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=l.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(l.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(l.y,this.max.y)),this},getCenter:function(n){return B((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return B(this.min.x,this.max.y)},getTopRight:function(){return B(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var s,l;return typeof n[0]=="number"||n instanceof z?n=B(n):n=oe(n),n instanceof K?(s=n.min,l=n.max):s=l=n,s.x>=this.min.x&&l.x<=this.max.x&&s.y>=this.min.y&&l.y<=this.max.y},intersects:function(n){n=oe(n);var s=this.min,l=this.max,c=n.min,f=n.max,_=f.x>=s.x&&c.x<=l.x,E=f.y>=s.y&&c.y<=l.y;return _&&E},overlaps:function(n){n=oe(n);var s=this.min,l=this.max,c=n.min,f=n.max,_=f.x>s.x&&c.x<l.x,E=f.y>s.y&&c.y<l.y;return _&&E},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var s=this.min,l=this.max,c=Math.abs(s.x-l.x)*n,f=Math.abs(s.y-l.y)*n;return oe(B(s.x-c,s.y-f),B(l.x+c,l.y+f))},equals:function(n){return n?(n=oe(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function oe(n,s){return!n||n instanceof K?n:new K(n,s)}function Me(n,s){if(n)for(var l=s?[n,s]:n,c=0,f=l.length;c<f;c++)this.extend(l[c])}Me.prototype={extend:function(n){var s=this._southWest,l=this._northEast,c,f;if(n instanceof le)c=n,f=n;else if(n instanceof Me){if(c=n._southWest,f=n._northEast,!c||!f)return this}else return n?this.extend(X(n)||he(n)):this;return!s&&!l?(this._southWest=new le(c.lat,c.lng),this._northEast=new le(f.lat,f.lng)):(s.lat=Math.min(c.lat,s.lat),s.lng=Math.min(c.lng,s.lng),l.lat=Math.max(f.lat,l.lat),l.lng=Math.max(f.lng,l.lng)),this},pad:function(n){var s=this._southWest,l=this._northEast,c=Math.abs(s.lat-l.lat)*n,f=Math.abs(s.lng-l.lng)*n;return new Me(new le(s.lat-c,s.lng-f),new le(l.lat+c,l.lng+f))},getCenter:function(){return new le((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new le(this.getNorth(),this.getWest())},getSouthEast:function(){return new le(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof le||"lat"in n?n=X(n):n=he(n);var s=this._southWest,l=this._northEast,c,f;return n instanceof Me?(c=n.getSouthWest(),f=n.getNorthEast()):c=f=n,c.lat>=s.lat&&f.lat<=l.lat&&c.lng>=s.lng&&f.lng<=l.lng},intersects:function(n){n=he(n);var s=this._southWest,l=this._northEast,c=n.getSouthWest(),f=n.getNorthEast(),_=f.lat>=s.lat&&c.lat<=l.lat,E=f.lng>=s.lng&&c.lng<=l.lng;return _&&E},overlaps:function(n){n=he(n);var s=this._southWest,l=this._northEast,c=n.getSouthWest(),f=n.getNorthEast(),_=f.lat>s.lat&&c.lat<l.lat,E=f.lng>s.lng&&c.lng<l.lng;return _&&E},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,s){return n?(n=he(n),this._southWest.equals(n.getSouthWest(),s)&&this._northEast.equals(n.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function he(n,s){return n instanceof Me?n:new Me(n,s)}function le(n,s,l){if(isNaN(n)||isNaN(s))throw new Error("Invalid LatLng object: ("+n+", "+s+")");this.lat=+n,this.lng=+s,l!==void 0&&(this.alt=+l)}le.prototype={equals:function(n,s){if(!n)return!1;n=X(n);var l=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return l<=(s===void 0?1e-9:s)},toString:function(n){return"LatLng("+g(this.lat,n)+", "+g(this.lng,n)+")"},distanceTo:function(n){return tn.distance(this,X(n))},wrap:function(){return tn.wrapLatLng(this)},toBounds:function(n){var s=180*n/40075017,l=s/Math.cos(Math.PI/180*this.lat);return he([this.lat-s,this.lng-l],[this.lat+s,this.lng+l])},clone:function(){return new le(this.lat,this.lng,this.alt)}};function X(n,s,l){return n instanceof le?n:k(n)&&typeof n[0]!="object"?n.length===3?new le(n[0],n[1],n[2]):n.length===2?new le(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new le(n.lat,"lng"in n?n.lng:n.lon,n.alt):s===void 0?null:new le(n,s,l)}var Xe={latLngToPoint:function(n,s){var l=this.projection.project(n),c=this.scale(s);return this.transformation._transform(l,c)},pointToLatLng:function(n,s){var l=this.scale(s),c=this.transformation.untransform(n,l);return this.projection.unproject(c)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var s=this.projection.bounds,l=this.scale(n),c=this.transformation.transform(s.min,l),f=this.transformation.transform(s.max,l);return new K(c,f)},infinite:!1,wrapLatLng:function(n){var s=this.wrapLng?y(n.lng,this.wrapLng,!0):n.lng,l=this.wrapLat?y(n.lat,this.wrapLat,!0):n.lat,c=n.alt;return new le(l,s,c)},wrapLatLngBounds:function(n){var s=n.getCenter(),l=this.wrapLatLng(s),c=s.lat-l.lat,f=s.lng-l.lng;if(c===0&&f===0)return n;var _=n.getSouthWest(),E=n.getNorthEast(),M=new le(_.lat-c,_.lng-f),b=new le(E.lat-c,E.lng-f);return new Me(M,b)}},tn=r({},Xe,{wrapLng:[-180,180],R:6371e3,distance:function(n,s){var l=Math.PI/180,c=n.lat*l,f=s.lat*l,_=Math.sin((s.lat-n.lat)*l/2),E=Math.sin((s.lng-n.lng)*l/2),M=_*_+Math.cos(c)*Math.cos(f)*E*E,b=2*Math.atan2(Math.sqrt(M),Math.sqrt(1-M));return this.R*b}}),qu=6378137,Is={R:qu,MAX_LATITUDE:85.0511287798,project:function(n){var s=Math.PI/180,l=this.MAX_LATITUDE,c=Math.max(Math.min(l,n.lat),-l),f=Math.sin(c*s);return new z(this.R*n.lng*s,this.R*Math.log((1+f)/(1-f))/2)},unproject:function(n){var s=180/Math.PI;return new le((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*s,n.x*s/this.R)},bounds:function(){var n=qu*Math.PI;return new K([-n,-n],[n,n])}()};function Rs(n,s,l,c){if(k(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=s,this._c=l,this._d=c}Rs.prototype={transform:function(n,s){return this._transform(n.clone(),s)},_transform:function(n,s){return s=s||1,n.x=s*(this._a*n.x+this._b),n.y=s*(this._c*n.y+this._d),n},untransform:function(n,s){return s=s||1,new z((n.x/s-this._b)/this._a,(n.y/s-this._d)/this._c)}};function Ri(n,s,l,c){return new Rs(n,s,l,c)}var As=r({},tn,{code:"EPSG:3857",projection:Is,transformation:function(){var n=.5/(Math.PI*Is.R);return Ri(n,.5,-n,.5)}()}),Em=r({},As,{code:"EPSG:900913"});function Ju(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function ec(n,s){var l="",c,f,_,E,M,b;for(c=0,_=n.length;c<_;c++){for(M=n[c],f=0,E=M.length;f<E;f++)b=M[f],l+=(f?"L":"M")+b.x+" "+b.y;l+=s?W.svg?"z":"x":""}return l||"M0 0"}var js=document.documentElement.style,Gr="ActiveXObject"in window,Sm=Gr&&!document.addEventListener,tc="msLaunchUri"in navigator&&!("documentMode"in document),Bs=Dt("webkit"),nc=Dt("android"),ic=Dt("android 2")||Dt("android 3"),Pm=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Cm=nc&&Dt("Google")&&Pm<537&&!("AudioNode"in window),Fs=!!window.opera,rc=!tc&&Dt("chrome"),oc=Dt("gecko")&&!Bs&&!Fs&&!Gr,Mm=!rc&&Dt("safari"),sc=Dt("phantom"),ac="OTransition"in js,Tm=navigator.platform.indexOf("Win")===0,lc=Gr&&"transition"in js,Hs="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ic,uc="MozPerspective"in js,bm=!window.L_DISABLE_3D&&(lc||Hs||uc)&&!ac&&!sc,Ai=typeof orientation<"u"||Dt("mobile"),Dm=Ai&&Bs,Nm=Ai&&Hs,cc=!window.PointerEvent&&window.MSPointerEvent,hc=!!(window.PointerEvent||cc),dc="ontouchstart"in window||!!window.TouchEvent,zm=!window.L_NO_TOUCH&&(dc||hc),Om=Ai&&Fs,Im=Ai&&oc,Rm=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Am=function(){var n=!1;try{var s=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",m,s),window.removeEventListener("testPassiveEventSupport",m,s)}catch{}return n}(),jm=function(){return!!document.createElement("canvas").getContext}(),Zs=!!(document.createElementNS&&Ju("svg").createSVGRect),Bm=!!Zs&&function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Fm=!Zs&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var s=n.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),Hm=navigator.platform.indexOf("Mac")===0,Zm=navigator.platform.indexOf("Linux")===0;function Dt(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var W={ie:Gr,ielt9:Sm,edge:tc,webkit:Bs,android:nc,android23:ic,androidStock:Cm,opera:Fs,chrome:rc,gecko:oc,safari:Mm,phantom:sc,opera12:ac,win:Tm,ie3d:lc,webkit3d:Hs,gecko3d:uc,any3d:bm,mobile:Ai,mobileWebkit:Dm,mobileWebkit3d:Nm,msPointer:cc,pointer:hc,touch:zm,touchNative:dc,mobileOpera:Om,mobileGecko:Im,retina:Rm,passiveEvents:Am,canvas:jm,svg:Zs,vml:Fm,inlineSvg:Bm,mac:Hm,linux:Zm},fc=W.msPointer?"MSPointerDown":"pointerdown",pc=W.msPointer?"MSPointerMove":"pointermove",mc=W.msPointer?"MSPointerUp":"pointerup",_c=W.msPointer?"MSPointerCancel":"pointercancel",Us={touchstart:fc,touchmove:pc,touchend:mc,touchcancel:_c},gc={touchstart:Ym,touchmove:Vr,touchend:Vr,touchcancel:Vr},Yn={},vc=!1;function Um(n,s,l){return s==="touchstart"&&$m(),gc[s]?(l=gc[s].bind(this,l),n.addEventListener(Us[s],l,!1),l):(console.warn("wrong event specified:",s),m)}function Wm(n,s,l){if(!Us[s]){console.warn("wrong event specified:",s);return}n.removeEventListener(Us[s],l,!1)}function Gm(n){Yn[n.pointerId]=n}function Vm(n){Yn[n.pointerId]&&(Yn[n.pointerId]=n)}function yc(n){delete Yn[n.pointerId]}function $m(){vc||(document.addEventListener(fc,Gm,!0),document.addEventListener(pc,Vm,!0),document.addEventListener(mc,yc,!0),document.addEventListener(_c,yc,!0),vc=!0)}function Vr(n,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var l in Yn)s.touches.push(Yn[l]);s.changedTouches=[s],n(s)}}function Ym(n,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&Oe(s),Vr(n,s)}function Km(n){var s={},l,c;for(c in n)l=n[c],s[c]=l&&l.bind?l.bind(n):l;return n=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var Qm=200;function Xm(n,s){n.addEventListener("dblclick",s);var l=0,c;function f(_){if(_.detail!==1){c=_.detail;return}if(!(_.pointerType==="mouse"||_.sourceCapabilities&&!_.sourceCapabilities.firesTouchEvents)){var E=Ec(_);if(!(E.some(function(b){return b instanceof HTMLLabelElement&&b.attributes.for})&&!E.some(function(b){return b instanceof HTMLInputElement||b instanceof HTMLSelectElement}))){var M=Date.now();M-l<=Qm?(c++,c===2&&s(Km(_))):c=1,l=M}}}return n.addEventListener("click",f),{dblclick:s,simDblclick:f}}function qm(n,s){n.removeEventListener("dblclick",s.dblclick),n.removeEventListener("click",s.simDblclick)}var Ws=Kr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ji=Kr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),wc=ji==="webkitTransition"||ji==="OTransition"?ji+"End":"transitionend";function xc(n){return typeof n=="string"?document.getElementById(n):n}function Bi(n,s){var l=n.style[s]||n.currentStyle&&n.currentStyle[s];if((!l||l==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(n,null);l=c?c[s]:null}return l==="auto"?null:l}function ue(n,s,l){var c=document.createElement(n);return c.className=s||"",l&&l.appendChild(c),c}function ge(n){var s=n.parentNode;s&&s.removeChild(n)}function $r(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Kn(n){var s=n.parentNode;s&&s.lastChild!==n&&s.appendChild(n)}function Qn(n){var s=n.parentNode;s&&s.firstChild!==n&&s.insertBefore(n,s.firstChild)}function Gs(n,s){if(n.classList!==void 0)return n.classList.contains(s);var l=Yr(n);return l.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(l)}function J(n,s){if(n.classList!==void 0)for(var l=C(s),c=0,f=l.length;c<f;c++)n.classList.add(l[c]);else if(!Gs(n,s)){var _=Yr(n);Vs(n,(_?_+" ":"")+s)}}function ke(n,s){n.classList!==void 0?n.classList.remove(s):Vs(n,S((" "+Yr(n)+" ").replace(" "+s+" "," ")))}function Vs(n,s){n.className.baseVal===void 0?n.className=s:n.className.baseVal=s}function Yr(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function ht(n,s){"opacity"in n.style?n.style.opacity=s:"filter"in n.style&&Jm(n,s)}function Jm(n,s){var l=!1,c="DXImageTransform.Microsoft.Alpha";try{l=n.filters.item(c)}catch{if(s===1)return}s=Math.round(s*100),l?(l.Enabled=s!==100,l.Opacity=s):n.style.filter+=" progid:"+c+"(opacity="+s+")"}function Kr(n){for(var s=document.documentElement.style,l=0;l<n.length;l++)if(n[l]in s)return n[l];return!1}function Tn(n,s,l){var c=s||new z(0,0);n.style[Ws]=(W.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(l?" scale("+l+")":"")}function Se(n,s){n._leaflet_pos=s,W.any3d?Tn(n,s):(n.style.left=s.x+"px",n.style.top=s.y+"px")}function bn(n){return n._leaflet_pos||new z(0,0)}var Fi,Hi,$s;if("onselectstart"in document)Fi=function(){q(window,"selectstart",Oe)},Hi=function(){de(window,"selectstart",Oe)};else{var Zi=Kr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Fi=function(){if(Zi){var n=document.documentElement.style;$s=n[Zi],n[Zi]="none"}},Hi=function(){Zi&&(document.documentElement.style[Zi]=$s,$s=void 0)}}function Ys(){q(window,"dragstart",Oe)}function Ks(){de(window,"dragstart",Oe)}var Qr,Qs;function Xs(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(Xr(),Qr=n,Qs=n.style.outlineStyle,n.style.outlineStyle="none",q(window,"keydown",Xr))}function Xr(){Qr&&(Qr.style.outlineStyle=Qs,Qr=void 0,Qs=void 0,de(window,"keydown",Xr))}function Lc(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function qs(n){var s=n.getBoundingClientRect();return{x:s.width/n.offsetWidth||1,y:s.height/n.offsetHeight||1,boundingClientRect:s}}var e_={__proto__:null,TRANSFORM:Ws,TRANSITION:ji,TRANSITION_END:wc,get:xc,getStyle:Bi,create:ue,remove:ge,empty:$r,toFront:Kn,toBack:Qn,hasClass:Gs,addClass:J,removeClass:ke,setClass:Vs,getClass:Yr,setOpacity:ht,testProp:Kr,setTransform:Tn,setPosition:Se,getPosition:bn,get disableTextSelection(){return Fi},get enableTextSelection(){return Hi},disableImageDrag:Ys,enableImageDrag:Ks,preventOutline:Xs,restoreOutline:Xr,getSizedParentNode:Lc,getScale:qs};function q(n,s,l,c){if(s&&typeof s=="object")for(var f in s)ea(n,f,s[f],l);else{s=C(s);for(var _=0,E=s.length;_<E;_++)ea(n,s[_],l,c)}return this}var Nt="_leaflet_events";function de(n,s,l,c){if(arguments.length===1)kc(n),delete n[Nt];else if(s&&typeof s=="object")for(var f in s)ta(n,f,s[f],l);else if(s=C(s),arguments.length===2)kc(n,function(M){return T(s,M)!==-1});else for(var _=0,E=s.length;_<E;_++)ta(n,s[_],l,c);return this}function kc(n,s){for(var l in n[Nt]){var c=l.split(/\d/)[0];(!s||s(c))&&ta(n,c,null,null,l)}}var Js={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ea(n,s,l,c){var f=s+d(l)+(c?"_"+d(c):"");if(n[Nt]&&n[Nt][f])return this;var _=function(M){return l.call(c||n,M||window.event)},E=_;!W.touchNative&&W.pointer&&s.indexOf("touch")===0?_=Um(n,s,_):W.touch&&s==="dblclick"?_=Xm(n,_):"addEventListener"in n?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?n.addEventListener(Js[s]||s,_,W.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(_=function(M){M=M||window.event,ia(n,M)&&E(M)},n.addEventListener(Js[s],_,!1)):n.addEventListener(s,E,!1):n.attachEvent("on"+s,_),n[Nt]=n[Nt]||{},n[Nt][f]=_}function ta(n,s,l,c,f){f=f||s+d(l)+(c?"_"+d(c):"");var _=n[Nt]&&n[Nt][f];if(!_)return this;!W.touchNative&&W.pointer&&s.indexOf("touch")===0?Wm(n,s,_):W.touch&&s==="dblclick"?qm(n,_):"removeEventListener"in n?n.removeEventListener(Js[s]||s,_,!1):n.detachEvent("on"+s,_),n[Nt][f]=null}function Dn(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function na(n){return ea(n,"wheel",Dn),this}function Ui(n){return q(n,"mousedown touchstart dblclick contextmenu",Dn),n._leaflet_disable_click=!0,this}function Oe(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function Nn(n){return Oe(n),Dn(n),this}function Ec(n){if(n.composedPath)return n.composedPath();for(var s=[],l=n.target;l;)s.push(l),l=l.parentNode;return s}function Sc(n,s){if(!s)return new z(n.clientX,n.clientY);var l=qs(s),c=l.boundingClientRect;return new z((n.clientX-c.left)/l.x-s.clientLeft,(n.clientY-c.top)/l.y-s.clientTop)}var t_=W.linux&&W.chrome?window.devicePixelRatio:W.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Pc(n){return W.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/t_:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function ia(n,s){var l=s.relatedTarget;if(!l)return!0;try{for(;l&&l!==n;)l=l.parentNode}catch{return!1}return l!==n}var n_={__proto__:null,on:q,off:de,stopPropagation:Dn,disableScrollPropagation:na,disableClickPropagation:Ui,preventDefault:Oe,stop:Nn,getPropagationPath:Ec,getMousePosition:Sc,getWheelDelta:Pc,isExternalTarget:ia,addListener:q,removeListener:de},Cc=je.extend({run:function(n,s,l,c){this.stop(),this._el=n,this._inProgress=!0,this._duration=l||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=bn(n),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Q(this._animate,this),this._step()},_step:function(n){var s=+new Date-this._startTime,l=this._duration*1e3;s<l?this._runFrame(this._easeOut(s/l),n):(this._runFrame(1),this._complete())},_runFrame:function(n,s){var l=this._startPos.add(this._offset.multiplyBy(n));s&&l._round(),Se(this._el,l),this.fire("step")},_complete:function(){ne(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),ie=je.extend({options:{crs:As,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,s){s=P(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(X(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ji&&W.any3d&&!W.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),q(this._proxy,wc,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,s,l){if(s=s===void 0?this._zoom:this._limitZoom(s),n=this._limitCenter(X(n),s,this.options.maxBounds),l=l||{},this._stop(),this._loaded&&!l.reset&&l!==!0){l.animate!==void 0&&(l.zoom=r({animate:l.animate},l.zoom),l.pan=r({animate:l.animate,duration:l.duration},l.pan));var c=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,s,l.zoom):this._tryAnimatedPan(n,l.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(n,s,l.pan&&l.pan.noMoveStart),this},setZoom:function(n,s){return this._loaded?this.setView(this.getCenter(),n,{zoom:s}):(this._zoom=n,this)},zoomIn:function(n,s){return n=n||(W.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,s)},zoomOut:function(n,s){return n=n||(W.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,s)},setZoomAround:function(n,s,l){var c=this.getZoomScale(s),f=this.getSize().divideBy(2),_=n instanceof z?n:this.latLngToContainerPoint(n),E=_.subtract(f).multiplyBy(1-1/c),M=this.containerPointToLatLng(f.add(E));return this.setView(M,s,{zoom:l})},_getBoundsCenterZoom:function(n,s){s=s||{},n=n.getBounds?n.getBounds():he(n);var l=B(s.paddingTopLeft||s.padding||[0,0]),c=B(s.paddingBottomRight||s.padding||[0,0]),f=this.getBoundsZoom(n,!1,l.add(c));if(f=typeof s.maxZoom=="number"?Math.min(s.maxZoom,f):f,f===1/0)return{center:n.getCenter(),zoom:f};var _=c.subtract(l).divideBy(2),E=this.project(n.getSouthWest(),f),M=this.project(n.getNorthEast(),f),b=this.unproject(E.add(M).divideBy(2).add(_),f);return{center:b,zoom:f}},fitBounds:function(n,s){if(n=he(n),!n.isValid())throw new Error("Bounds are not valid.");var l=this._getBoundsCenterZoom(n,s);return this.setView(l.center,l.zoom,s)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,s){return this.setView(n,this._zoom,{pan:s})},panBy:function(n,s){if(n=B(n).round(),s=s||{},!n.x&&!n.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Cc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){J(this._mapPane,"leaflet-pan-anim");var l=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,l,s.duration||.25,s.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,s,l){if(l=l||{},l.animate===!1||!W.any3d)return this.setView(n,s,l);this._stop();var c=this.project(this.getCenter()),f=this.project(n),_=this.getSize(),E=this._zoom;n=X(n),s=s===void 0?E:s;var M=Math.max(_.x,_.y),b=M*this.getZoomScale(E,s),O=f.distanceTo(c)||1,H=1.42,V=H*H;function ee(Pe){var uo=Pe?-1:1,W_=Pe?b:M,G_=b*b-M*M+uo*V*V*O*O,V_=2*W_*V*O,pa=G_/V_,ah=Math.sqrt(pa*pa+1)-pa,$_=ah<1e-9?-18:Math.log(ah);return $_}function We(Pe){return(Math.exp(Pe)-Math.exp(-Pe))/2}function De(Pe){return(Math.exp(Pe)+Math.exp(-Pe))/2}function ft(Pe){return We(Pe)/De(Pe)}var qe=ee(0);function ni(Pe){return M*(De(qe)/De(qe+H*Pe))}function F_(Pe){return M*(De(qe)*ft(qe+H*Pe)-We(qe))/V}function H_(Pe){return 1-Math.pow(1-Pe,1.5)}var Z_=Date.now(),oh=(ee(1)-qe)/H,U_=l.duration?1e3*l.duration:1e3*oh*.8;function sh(){var Pe=(Date.now()-Z_)/U_,uo=H_(Pe)*oh;Pe<=1?(this._flyToFrame=Q(sh,this),this._move(this.unproject(c.add(f.subtract(c).multiplyBy(F_(uo)/O)),E),this.getScaleZoom(M/ni(uo),E),{flyTo:!0})):this._move(n,s)._moveEnd(!0)}return this._moveStart(!0,l.noMoveStart),sh.call(this),this},flyToBounds:function(n,s){var l=this._getBoundsCenterZoom(n,s);return this.flyTo(l.center,l.zoom,s)},setMaxBounds:function(n){return n=he(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var s=this.options.minZoom;return this.options.minZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var s=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,s){this._enforcingBounds=!0;var l=this.getCenter(),c=this._limitCenter(l,this._zoom,he(n));return l.equals(c)||this.panTo(c,s),this._enforcingBounds=!1,this},panInside:function(n,s){s=s||{};var l=B(s.paddingTopLeft||s.padding||[0,0]),c=B(s.paddingBottomRight||s.padding||[0,0]),f=this.project(this.getCenter()),_=this.project(n),E=this.getPixelBounds(),M=oe([E.min.add(l),E.max.subtract(c)]),b=M.getSize();if(!M.contains(_)){this._enforcingBounds=!0;var O=_.subtract(M.getCenter()),H=M.extend(_).getSize().subtract(b);f.x+=O.x<0?-H.x:H.x,f.y+=O.y<0?-H.y:H.y,this.panTo(this.unproject(f),s),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=r({animate:!1,pan:!0},n===!0?{animate:!0}:n);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var l=this.getSize(),c=s.divideBy(2).round(),f=l.divideBy(2).round(),_=c.subtract(f);return!_.x&&!_.y?this:(n.animate&&n.pan?this.panBy(_):(n.pan&&this._rawPanBy(_),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:l}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=r({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=u(this._handleGeolocationResponse,this),l=u(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,l,n):navigator.geolocation.getCurrentPosition(s,l,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var s=n.code,l=n.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+l+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var s=n.coords.latitude,l=n.coords.longitude,c=new le(s,l),f=c.toBounds(n.coords.accuracy*2),_=this._locateOptions;if(_.setView){var E=this.getBoundsZoom(f);this.setView(c,_.maxZoom?Math.min(E,_.maxZoom):E)}var M={latlng:c,bounds:f,timestamp:n.timestamp};for(var b in n.coords)typeof n.coords[b]=="number"&&(M[b]=n.coords[b]);this.fire("locationfound",M)}},addHandler:function(n,s){if(!s)return this;var l=this[n]=new s(this);return this._handlers.push(l),this.options[n]&&l.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ge(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ne(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)ge(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,s){var l="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),c=ue("div",l,s||this._mapPane);return n&&(this._panes[n]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),s=this.unproject(n.getBottomLeft()),l=this.unproject(n.getTopRight());return new Me(s,l)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,s,l){n=he(n),l=B(l||[0,0]);var c=this.getZoom()||0,f=this.getMinZoom(),_=this.getMaxZoom(),E=n.getNorthWest(),M=n.getSouthEast(),b=this.getSize().subtract(l),O=oe(this.project(M,c),this.project(E,c)).getSize(),H=W.any3d?this.options.zoomSnap:1,V=b.x/O.x,ee=b.y/O.y,We=s?Math.max(V,ee):Math.min(V,ee);return c=this.getScaleZoom(We,c),H&&(c=Math.round(c/(H/100))*(H/100),c=s?Math.ceil(c/H)*H:Math.floor(c/H)*H),Math.max(f,Math.min(_,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,s){var l=this._getTopLeftPoint(n,s);return new K(l,l.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,s){var l=this.options.crs;return s=s===void 0?this._zoom:s,l.scale(n)/l.scale(s)},getScaleZoom:function(n,s){var l=this.options.crs;s=s===void 0?this._zoom:s;var c=l.zoom(n*l.scale(s));return isNaN(c)?1/0:c},project:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(X(n),s)},unproject:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(B(n),s)},layerPointToLatLng:function(n){var s=B(n).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(n){var s=this.project(X(n))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(X(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(he(n))},distance:function(n,s){return this.options.crs.distance(X(n),X(s))},containerPointToLayerPoint:function(n){return B(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return B(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var s=this.containerPointToLayerPoint(B(n));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(X(n)))},mouseEventToContainerPoint:function(n){return Sc(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var s=this._container=xc(n);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");q(s,"scroll",this._onScroll,this),this._containerId=d(s)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&W.any3d,J(n,"leaflet-container"+(W.touch?" leaflet-touch":"")+(W.retina?" leaflet-retina":"")+(W.ielt9?" leaflet-oldie":"")+(W.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=Bi(n,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Se(this._mapPane,new z(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(J(n.markerPane,"leaflet-zoom-hide"),J(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,s,l){Se(this._mapPane,new z(0,0));var c=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var f=this._zoom!==s;this._moveStart(f,l)._move(n,s)._moveEnd(f),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(n,s){return n&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(n,s,l,c){s===void 0&&(s=this._zoom);var f=this._zoom!==s;return this._zoom=s,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),c?l&&l.pinch&&this.fire("zoom",l):((f||l&&l.pinch)&&this.fire("zoom",l),this.fire("move",l)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ne(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){Se(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[d(this._container)]=this;var s=n?de:q;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),W.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ne(this._resizeRequest),this._resizeRequest=Q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,s){for(var l=[],c,f=s==="mouseout"||s==="mouseover",_=n.target||n.srcElement,E=!1;_;){if(c=this._targets[d(_)],c&&(s==="click"||s==="preclick")&&this._draggableMoved(c)){E=!0;break}if(c&&c.listens(s,!0)&&(f&&!ia(_,n)||(l.push(c),f))||_===this._container)break;_=_.parentNode}return!l.length&&!E&&!f&&this.listens(s,!0)&&(l=[this]),l},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var s=n.target||n.srcElement;if(!(!this._loaded||s._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(s))){var l=n.type;l==="mousedown"&&Xs(s),this._fireDOMEvent(n,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,s,l){if(n.type==="click"){var c=r({},n);c.type="preclick",this._fireDOMEvent(c,c.type,l)}var f=this._findEventTargets(n,s);if(l){for(var _=[],E=0;E<l.length;E++)l[E].listens(s,!0)&&_.push(l[E]);f=_.concat(f)}if(f.length){s==="contextmenu"&&Oe(n);var M=f[0],b={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var O=M.getLatLng&&(!M._radius||M._radius<=10);b.containerPoint=O?this.latLngToContainerPoint(M.getLatLng()):this.mouseEventToContainerPoint(n),b.layerPoint=this.containerPointToLayerPoint(b.containerPoint),b.latlng=O?M.getLatLng():this.layerPointToLatLng(b.layerPoint)}for(E=0;E<f.length;E++)if(f[E].fire(s,b,!0),b.originalEvent._stopped||f[E].options.bubblingMouseEvents===!1&&T(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,s=this._handlers.length;n<s;n++)this._handlers[n].disable()},whenReady:function(n,s){return this._loaded?n.call(s||this,{target:this}):this.on("load",n,s),this},_getMapPanePos:function(){return bn(this._mapPane)||new z(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,s){var l=n&&s!==void 0?this._getNewPixelOrigin(n,s):this.getPixelOrigin();return l.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,s){var l=this.getSize()._divideBy(2);return this.project(n,s)._subtract(l)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,s,l){var c=this._getNewPixelOrigin(l,s);return this.project(n,s)._subtract(c)},_latLngBoundsToNewLayerBounds:function(n,s,l){var c=this._getNewPixelOrigin(l,s);return oe([this.project(n.getSouthWest(),s)._subtract(c),this.project(n.getNorthWest(),s)._subtract(c),this.project(n.getSouthEast(),s)._subtract(c),this.project(n.getNorthEast(),s)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,s,l){if(!l)return n;var c=this.project(n,s),f=this.getSize().divideBy(2),_=new K(c.subtract(f),c.add(f)),E=this._getBoundsOffset(_,l,s);return Math.abs(E.x)<=1&&Math.abs(E.y)<=1?n:this.unproject(c.add(E),s)},_limitOffset:function(n,s){if(!s)return n;var l=this.getPixelBounds(),c=new K(l.min.add(n),l.max.add(n));return n.add(this._getBoundsOffset(c,s))},_getBoundsOffset:function(n,s,l){var c=oe(this.project(s.getNorthEast(),l),this.project(s.getSouthWest(),l)),f=c.min.subtract(n.min),_=c.max.subtract(n.max),E=this._rebound(f.x,-_.x),M=this._rebound(f.y,-_.y);return new z(E,M)},_rebound:function(n,s){return n+s>0?Math.round(n-s)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(s))},_limitZoom:function(n){var s=this.getMinZoom(),l=this.getMaxZoom(),c=W.any3d?this.options.zoomSnap:1;return c&&(n=Math.round(n/c)*c),Math.max(s,Math.min(l,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ke(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,s){var l=this._getCenterOffset(n)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(l)?!1:(this.panBy(l,s),!0)},_createAnimProxy:function(){var n=this._proxy=ue("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(s){var l=Ws,c=this._proxy.style[l];Tn(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),c===this._proxy.style[l]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ge(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),s=this.getZoom();Tn(this._proxy,this.project(n,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,s,l){if(this._animatingZoom)return!0;if(l=l||{},!this._zoomAnimated||l.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(s),f=this._getCenterOffset(n)._divideBy(1-1/c);return l.animate!==!0&&!this.getSize().contains(f)?!1:(Q(function(){this._moveStart(!0,l.noMoveStart||!1)._animateZoom(n,s,!0)},this),!0)},_animateZoom:function(n,s,l,c){this._mapPane&&(l&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=s,J(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:s,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ke(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function i_(n,s){return new ie(n,s)}var xt=U.extend({options:{position:"topright"},initialize:function(n){P(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var s=this._map;return s&&s.removeControl(this),this.options.position=n,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var s=this._container=this.onAdd(n),l=this.getPosition(),c=n._controlCorners[l];return J(s,"leaflet-control"),l.indexOf("bottom")!==-1?c.insertBefore(s,c.firstChild):c.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ge(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),Wi=function(n){return new xt(n)};ie.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},s="leaflet-",l=this._controlContainer=ue("div",s+"control-container",this._container);function c(f,_){var E=s+f+" "+s+_;n[f+_]=ue("div",E,l)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)ge(this._controlCorners[n]);ge(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Mc=xt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,s,l,c){return l<c?-1:c<l?1:0}},initialize:function(n,s,l){P(this,l),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in n)this._addLayer(n[c],c);for(c in s)this._addLayer(s[c],c,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return xt.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,s){return this._addLayer(n,s),this._map?this._update():this},addOverlay:function(n,s){return this._addLayer(n,s,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var s=this._getLayer(d(n));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){J(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(J(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):ke(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ke(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",s=this._container=ue("div",n),l=this.options.collapsed;s.setAttribute("aria-haspopup",!0),Ui(s),na(s);var c=this._section=ue("section",n+"-list");l&&(this._map.on("click",this.collapse,this),q(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var f=this._layersLink=ue("a",n+"-toggle",s);f.href="#",f.title="Layers",f.setAttribute("role","button"),q(f,{keydown:function(_){_.keyCode===13&&this._expandSafely()},click:function(_){Oe(_),this._expandSafely()}},this),l||this.expand(),this._baseLayersList=ue("div",n+"-base",c),this._separator=ue("div",n+"-separator",c),this._overlaysList=ue("div",n+"-overlays",c),s.appendChild(c)},_getLayer:function(n){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&d(this._layers[s].layer)===n)return this._layers[s]},_addLayer:function(n,s,l){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:s,overlay:l}),this.options.sortLayers&&this._layers.sort(u(function(c,f){return this.options.sortFunction(c.layer,f.layer,c.name,f.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;$r(this._baseLayersList),$r(this._overlaysList),this._layerControlInputs=[];var n,s,l,c,f=0;for(l=0;l<this._layers.length;l++)c=this._layers[l],this._addItem(c),s=s||c.overlay,n=n||!c.overlay,f+=c.overlay?0:1;return this.options.hideSingleBase&&(n=n&&f>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=s&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var s=this._getLayer(d(n.target)),l=s.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;l&&this._map.fire(l,s)},_createRadioElement:function(n,s){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(s?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=l,c.firstChild},_addItem:function(n){var s=document.createElement("label"),l=this._map.hasLayer(n.layer),c;n.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=l):c=this._createRadioElement("leaflet-base-layers_"+d(this),l),this._layerControlInputs.push(c),c.layerId=d(n.layer),q(c,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+n.name;var _=document.createElement("span");s.appendChild(_),_.appendChild(c),_.appendChild(f);var E=n.overlay?this._overlaysList:this._baseLayersList;return E.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,s,l,c=[],f=[];this._handlingClick=!0;for(var _=n.length-1;_>=0;_--)s=n[_],l=this._getLayer(s.layerId).layer,s.checked?c.push(l):s.checked||f.push(l);for(_=0;_<f.length;_++)this._map.hasLayer(f[_])&&this._map.removeLayer(f[_]);for(_=0;_<c.length;_++)this._map.hasLayer(c[_])||this._map.addLayer(c[_]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,s,l,c=this._map.getZoom(),f=n.length-1;f>=0;f--)s=n[f],l=this._getLayer(s.layerId).layer,s.disabled=l.options.minZoom!==void 0&&c<l.options.minZoom||l.options.maxZoom!==void 0&&c>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,q(n,"click",Oe),this.expand();var s=this;setTimeout(function(){de(n,"click",Oe),s._preventClick=!1})}}),r_=function(n,s,l){return new Mc(n,s,l)},ra=xt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var s="leaflet-control-zoom",l=ue("div",s+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,s+"-in",l,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,s+"-out",l,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),l},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,s,l,c,f){var _=ue("a",l,c);return _.innerHTML=n,_.href="#",_.title=s,_.setAttribute("role","button"),_.setAttribute("aria-label",s),Ui(_),q(_,"click",Nn),q(_,"click",f,this),q(_,"click",this._refocusOnMap,this),_},_updateDisabled:function(){var n=this._map,s="leaflet-disabled";ke(this._zoomInButton,s),ke(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(J(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(J(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});ie.mergeOptions({zoomControl:!0}),ie.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ra,this.addControl(this.zoomControl))});var o_=function(n){return new ra(n)},Tc=xt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var s="leaflet-control-scale",l=ue("div",s),c=this.options;return this._addScales(c,s+"-line",l),n.on(c.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),l},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,s,l){n.metric&&(this._mScale=ue("div",s,l)),n.imperial&&(this._iScale=ue("div",s,l))},_update:function(){var n=this._map,s=n.getSize().y/2,l=n.distance(n.containerPointToLatLng([0,s]),n.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(l)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var s=this._getRoundNum(n),l=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,l,s/n)},_updateImperial:function(n){var s=n*3.2808399,l,c,f;s>5280?(l=s/5280,c=this._getRoundNum(l),this._updateScale(this._iScale,c+" mi",c/l)):(f=this._getRoundNum(s),this._updateScale(this._iScale,f+" ft",f/s))},_updateScale:function(n,s,l){n.style.width=Math.round(this.options.maxWidth*l)+"px",n.innerHTML=s},_getRoundNum:function(n){var s=Math.pow(10,(Math.floor(n)+"").length-1),l=n/s;return l=l>=10?10:l>=5?5:l>=3?3:l>=2?2:1,s*l}}),s_=function(n){return new Tc(n)},a_='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',oa=xt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(W.inlineSvg?a_+" ":"")+"Leaflet</a>"},initialize:function(n){P(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=ue("div","leaflet-control-attribution"),Ui(this._container);for(var s in n._layers)n._layers[s].getAttribution&&this.addAttribution(n._layers[s].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var s in this._attributions)this._attributions[s]&&n.push(s);var l=[];this.options.prefix&&l.push(this.options.prefix),n.length&&l.push(n.join(", ")),this._container.innerHTML=l.join(' <span aria-hidden="true">|</span> ')}}});ie.mergeOptions({attributionControl:!0}),ie.addInitHook(function(){this.options.attributionControl&&new oa().addTo(this)});var l_=function(n){return new oa(n)};xt.Layers=Mc,xt.Zoom=ra,xt.Scale=Tc,xt.Attribution=oa,Wi.layers=r_,Wi.zoom=o_,Wi.scale=s_,Wi.attribution=l_;var zt=U.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});zt.addTo=function(n,s){return n.addHandler(s,this),this};var u_={Events:re},bc=W.touch?"touchstart mousedown":"mousedown",nn=je.extend({options:{clickTolerance:3},initialize:function(n,s,l,c){P(this,c),this._element=n,this._dragStartTarget=s||n,this._preventOutline=l},enable:function(){this._enabled||(q(this._dragStartTarget,bc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(nn._dragging===this&&this.finishDrag(!0),de(this._dragStartTarget,bc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!Gs(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){nn._dragging===this&&this.finishDrag();return}if(!(nn._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(nn._dragging=this,this._preventOutline&&Xs(this._element),Ys(),Fi(),!this._moving)){this.fire("down");var s=n.touches?n.touches[0]:n,l=Lc(this._element);this._startPoint=new z(s.clientX,s.clientY),this._startPos=bn(this._element),this._parentScale=qs(l);var c=n.type==="mousedown";q(document,c?"mousemove":"touchmove",this._onMove,this),q(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var s=n.touches&&n.touches.length===1?n.touches[0]:n,l=new z(s.clientX,s.clientY)._subtract(this._startPoint);!l.x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,Oe(n),this._moved||(this.fire("dragstart"),this._moved=!0,J(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),J(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),Se(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){ke(document.body,"leaflet-dragging"),this._lastTarget&&(ke(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),de(document,"mousemove touchmove",this._onMove,this),de(document,"mouseup touchend touchcancel",this._onUp,this),Ks(),Hi();var s=this._moved&&this._moving;this._moving=!1,nn._dragging=!1,s&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function Dc(n,s,l){var c,f=[1,4,2,8],_,E,M,b,O,H,V,ee;for(_=0,H=n.length;_<H;_++)n[_]._code=zn(n[_],s);for(M=0;M<4;M++){for(V=f[M],c=[],_=0,H=n.length,E=H-1;_<H;E=_++)b=n[_],O=n[E],b._code&V?O._code&V||(ee=qr(O,b,V,s,l),ee._code=zn(ee,s),c.push(ee)):(O._code&V&&(ee=qr(O,b,V,s,l),ee._code=zn(ee,s),c.push(ee)),c.push(b));n=c}return n}function Nc(n,s){var l,c,f,_,E,M,b,O,H;if(!n||n.length===0)throw new Error("latlngs not passed");dt(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var V=X([0,0]),ee=he(n),We=ee.getNorthWest().distanceTo(ee.getSouthWest())*ee.getNorthEast().distanceTo(ee.getNorthWest());We<1700&&(V=sa(n));var De=n.length,ft=[];for(l=0;l<De;l++){var qe=X(n[l]);ft.push(s.project(X([qe.lat-V.lat,qe.lng-V.lng])))}for(M=b=O=0,l=0,c=De-1;l<De;c=l++)f=ft[l],_=ft[c],E=f.y*_.x-_.y*f.x,b+=(f.x+_.x)*E,O+=(f.y+_.y)*E,M+=E*3;M===0?H=ft[0]:H=[b/M,O/M];var ni=s.unproject(B(H));return X([ni.lat+V.lat,ni.lng+V.lng])}function sa(n){for(var s=0,l=0,c=0,f=0;f<n.length;f++){var _=X(n[f]);s+=_.lat,l+=_.lng,c++}return X([s/c,l/c])}var c_={__proto__:null,clipPolygon:Dc,polygonCenter:Nc,centroid:sa};function zc(n,s){if(!s||!n.length)return n.slice();var l=s*s;return n=f_(n,l),n=d_(n,l),n}function Oc(n,s,l){return Math.sqrt(Gi(n,s,l,!0))}function h_(n,s,l){return Gi(n,s,l)}function d_(n,s){var l=n.length,c=typeof Uint8Array<"u"?Uint8Array:Array,f=new c(l);f[0]=f[l-1]=1,aa(n,f,s,0,l-1);var _,E=[];for(_=0;_<l;_++)f[_]&&E.push(n[_]);return E}function aa(n,s,l,c,f){var _=0,E,M,b;for(M=c+1;M<=f-1;M++)b=Gi(n[M],n[c],n[f],!0),b>_&&(E=M,_=b);_>l&&(s[E]=1,aa(n,s,l,c,E),aa(n,s,l,E,f))}function f_(n,s){for(var l=[n[0]],c=1,f=0,_=n.length;c<_;c++)p_(n[c],n[f])>s&&(l.push(n[c]),f=c);return f<_-1&&l.push(n[_-1]),l}var Ic;function Rc(n,s,l,c,f){var _=c?Ic:zn(n,l),E=zn(s,l),M,b,O;for(Ic=E;;){if(!(_|E))return[n,s];if(_&E)return!1;M=_||E,b=qr(n,s,M,l,f),O=zn(b,l),M===_?(n=b,_=O):(s=b,E=O)}}function qr(n,s,l,c,f){var _=s.x-n.x,E=s.y-n.y,M=c.min,b=c.max,O,H;return l&8?(O=n.x+_*(b.y-n.y)/E,H=b.y):l&4?(O=n.x+_*(M.y-n.y)/E,H=M.y):l&2?(O=b.x,H=n.y+E*(b.x-n.x)/_):l&1&&(O=M.x,H=n.y+E*(M.x-n.x)/_),new z(O,H,f)}function zn(n,s){var l=0;return n.x<s.min.x?l|=1:n.x>s.max.x&&(l|=2),n.y<s.min.y?l|=4:n.y>s.max.y&&(l|=8),l}function p_(n,s){var l=s.x-n.x,c=s.y-n.y;return l*l+c*c}function Gi(n,s,l,c){var f=s.x,_=s.y,E=l.x-f,M=l.y-_,b=E*E+M*M,O;return b>0&&(O=((n.x-f)*E+(n.y-_)*M)/b,O>1?(f=l.x,_=l.y):O>0&&(f+=E*O,_+=M*O)),E=n.x-f,M=n.y-_,c?E*E+M*M:new z(f,_)}function dt(n){return!k(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function Ac(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),dt(n)}function jc(n,s){var l,c,f,_,E,M,b,O;if(!n||n.length===0)throw new Error("latlngs not passed");dt(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var H=X([0,0]),V=he(n),ee=V.getNorthWest().distanceTo(V.getSouthWest())*V.getNorthEast().distanceTo(V.getNorthWest());ee<1700&&(H=sa(n));var We=n.length,De=[];for(l=0;l<We;l++){var ft=X(n[l]);De.push(s.project(X([ft.lat-H.lat,ft.lng-H.lng])))}for(l=0,c=0;l<We-1;l++)c+=De[l].distanceTo(De[l+1])/2;if(c===0)O=De[0];else for(l=0,_=0;l<We-1;l++)if(E=De[l],M=De[l+1],f=E.distanceTo(M),_+=f,_>c){b=(_-c)/f,O=[M.x-b*(M.x-E.x),M.y-b*(M.y-E.y)];break}var qe=s.unproject(B(O));return X([qe.lat+H.lat,qe.lng+H.lng])}var m_={__proto__:null,simplify:zc,pointToSegmentDistance:Oc,closestPointOnSegment:h_,clipSegment:Rc,_getEdgeIntersection:qr,_getBitCode:zn,_sqClosestPointOnSegment:Gi,isFlat:dt,_flat:Ac,polylineCenter:jc},la={project:function(n){return new z(n.lng,n.lat)},unproject:function(n){return new le(n.y,n.x)},bounds:new K([-180,-90],[180,90])},ua={R:6378137,R_MINOR:6356752314245179e-9,bounds:new K([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var s=Math.PI/180,l=this.R,c=n.lat*s,f=this.R_MINOR/l,_=Math.sqrt(1-f*f),E=_*Math.sin(c),M=Math.tan(Math.PI/4-c/2)/Math.pow((1-E)/(1+E),_/2);return c=-l*Math.log(Math.max(M,1e-10)),new z(n.lng*s*l,c)},unproject:function(n){for(var s=180/Math.PI,l=this.R,c=this.R_MINOR/l,f=Math.sqrt(1-c*c),_=Math.exp(-n.y/l),E=Math.PI/2-2*Math.atan(_),M=0,b=.1,O;M<15&&Math.abs(b)>1e-7;M++)O=f*Math.sin(E),O=Math.pow((1-O)/(1+O),f/2),b=Math.PI/2-2*Math.atan(_*O)-E,E+=b;return new le(E*s,n.x*s/l)}},__={__proto__:null,LonLat:la,Mercator:ua,SphericalMercator:Is},g_=r({},tn,{code:"EPSG:3395",projection:ua,transformation:function(){var n=.5/(Math.PI*ua.R);return Ri(n,.5,-n,.5)}()}),Bc=r({},tn,{code:"EPSG:4326",projection:la,transformation:Ri(1/180,1,-1/180,.5)}),v_=r({},Xe,{projection:la,transformation:Ri(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,s){var l=s.lng-n.lng,c=s.lat-n.lat;return Math.sqrt(l*l+c*c)},infinite:!0});Xe.Earth=tn,Xe.EPSG3395=g_,Xe.EPSG3857=As,Xe.EPSG900913=Em,Xe.EPSG4326=Bc,Xe.Simple=v_;var Lt=je.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[d(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[d(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var s=n.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var l=this.getEvents();s.on(l,this),this.once("remove",function(){s.off(l,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});ie.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var s=d(n);return this._layers[s]?this:(this._layers[s]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var s=d(n);return this._layers[s]?(this._loaded&&n.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return d(n)in this._layers},eachLayer:function(n,s){for(var l in this._layers)n.call(s,this._layers[l]);return this},_addLayers:function(n){n=n?k(n)?n:[n]:[];for(var s=0,l=n.length;s<l;s++)this.addLayer(n[s])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[d(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var s=d(n);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,s=-1/0,l=this._getZoomSpan();for(var c in this._zoomBoundLayers){var f=this._zoomBoundLayers[c].options;n=f.minZoom===void 0?n:Math.min(n,f.minZoom),s=f.maxZoom===void 0?s:Math.max(s,f.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=n===1/0?void 0:n,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Xn=Lt.extend({initialize:function(n,s){P(this,s),this._layers={};var l,c;if(n)for(l=0,c=n.length;l<c;l++)this.addLayer(n[l])},addLayer:function(n){var s=this.getLayerId(n);return this._layers[s]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var s=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(n){var s=typeof n=="number"?n:this.getLayerId(n);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var s=Array.prototype.slice.call(arguments,1),l,c;for(l in this._layers)c=this._layers[l],c[n]&&c[n].apply(c,s);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,s){for(var l in this._layers)n.call(s,this._layers[l]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return d(n)}}),y_=function(n,s){return new Xn(n,s)},Ft=Xn.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),Xn.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),Xn.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new Me;for(var s in this._layers){var l=this._layers[s];n.extend(l.getBounds?l.getBounds():l.getLatLng())}return n}}),w_=function(n,s){return new Ft(n,s)},qn=U.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){P(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,s){var l=this._getIconUrl(n);if(!l){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(l,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(c,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(n,s){var l=this.options,c=l[s+"Size"];typeof c=="number"&&(c=[c,c]);var f=B(c),_=B(s==="shadow"&&l.shadowAnchor||l.iconAnchor||f&&f.divideBy(2,!0));n.className="leaflet-marker-"+s+" "+(l.className||""),_&&(n.style.marginLeft=-_.x+"px",n.style.marginTop=-_.y+"px"),f&&(n.style.width=f.x+"px",n.style.height=f.y+"px")},_createImg:function(n,s){return s=s||document.createElement("img"),s.src=n,s},_getIconUrl:function(n){return W.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function x_(n){return new qn(n)}var Vi=qn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof Vi.imagePath!="string"&&(Vi.imagePath=this._detectIconPath()),(this.options.imagePath||Vi.imagePath)+qn.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var s=function(l,c,f){var _=c.exec(l);return _&&_[f]};return n=s(n,/^url\((['"])?(.+)\1\)$/,2),n&&s(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=ue("div","leaflet-default-icon-path",document.body),s=Bi(n,"background-image")||Bi(n,"backgroundImage");if(document.body.removeChild(n),s=this._stripUrl(s),s)return s;var l=document.querySelector('link[href$="leaflet.css"]');return l?l.href.substring(0,l.href.length-11-1):""}}),Fc=zt.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new nn(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),J(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ke(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var s=this._marker,l=s._map,c=this._marker.options.autoPanSpeed,f=this._marker.options.autoPanPadding,_=bn(s._icon),E=l.getPixelBounds(),M=l.getPixelOrigin(),b=oe(E.min._subtract(M).add(f),E.max._subtract(M).subtract(f));if(!b.contains(_)){var O=B((Math.max(b.max.x,_.x)-b.max.x)/(E.max.x-b.max.x)-(Math.min(b.min.x,_.x)-b.min.x)/(E.min.x-b.min.x),(Math.max(b.max.y,_.y)-b.max.y)/(E.max.y-b.max.y)-(Math.min(b.min.y,_.y)-b.min.y)/(E.min.y-b.min.y)).multiplyBy(c);l.panBy(O,{animate:!1}),this._draggable._newPos._add(O),this._draggable._startPos._add(O),Se(s._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=Q(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(ne(this._panRequest),this._panRequest=Q(this._adjustPan.bind(this,n)))},_onDrag:function(n){var s=this._marker,l=s._shadow,c=bn(s._icon),f=s._map.layerPointToLatLng(c);l&&Se(l,c),s._latlng=f,n.latlng=f,n.oldLatLng=this._oldLatLng,s.fire("move",n).fire("drag",n)},_onDragEnd:function(n){ne(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),Jr=Lt.extend({options:{icon:new Vi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,s){P(this,s),this._latlng=X(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var s=this._latlng;return this._latlng=X(n),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),l=n.icon.createIcon(this._icon),c=!1;l!==this._icon&&(this._icon&&this._removeIcon(),c=!0,n.title&&(l.title=n.title),l.tagName==="IMG"&&(l.alt=n.alt||"")),J(l,s),n.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&q(l,"focus",this._panOnFocus,this);var f=n.icon.createShadow(this._shadow),_=!1;f!==this._shadow&&(this._removeShadow(),_=!0),f&&(J(f,s),f.alt=""),this._shadow=f,n.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&_&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&de(this._icon,"focus",this._panOnFocus,this),ge(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ge(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&Se(this._icon,n),this._shadow&&Se(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(J(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Fc)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Fc(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&ht(this._icon,n),this._shadow&&ht(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var s=this.options.icon.options,l=s.iconSize?B(s.iconSize):B(0,0),c=s.iconAnchor?B(s.iconAnchor):B(0,0);n.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:l.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function L_(n,s){return new Jr(n,s)}var rn=Lt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return P(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),eo=rn.extend({options:{fill:!0,radius:10},initialize:function(n,s){P(this,s),this._latlng=X(n),this._radius=this.options.radius},setLatLng:function(n){var s=this._latlng;return this._latlng=X(n),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var s=n&&n.radius||this._radius;return rn.prototype.setStyle.call(this,n),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,s=this._radiusY||n,l=this._clickTolerance(),c=[n+l,s+l];this._pxBounds=new K(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function k_(n,s){return new eo(n,s)}var ca=eo.extend({initialize:function(n,s,l){if(typeof s=="number"&&(s=r({},l,{radius:s})),P(this,s),this._latlng=X(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new Me(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:rn.prototype.setStyle,_project:function(){var n=this._latlng.lng,s=this._latlng.lat,l=this._map,c=l.options.crs;if(c.distance===tn.distance){var f=Math.PI/180,_=this._mRadius/tn.R/f,E=l.project([s+_,n]),M=l.project([s-_,n]),b=E.add(M).divideBy(2),O=l.unproject(b).lat,H=Math.acos((Math.cos(_*f)-Math.sin(s*f)*Math.sin(O*f))/(Math.cos(s*f)*Math.cos(O*f)))/f;(isNaN(H)||H===0)&&(H=_/Math.cos(Math.PI/180*s)),this._point=b.subtract(l.getPixelOrigin()),this._radius=isNaN(H)?0:b.x-l.project([O,n-H]).x,this._radiusY=b.y-E.y}else{var V=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=l.latLngToLayerPoint(this._latlng),this._radius=this._point.x-l.latLngToLayerPoint(V).x}this._updateBounds()}});function E_(n,s,l){return new ca(n,s,l)}var Ht=rn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,s){P(this,s),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var s=1/0,l=null,c=Gi,f,_,E=0,M=this._parts.length;E<M;E++)for(var b=this._parts[E],O=1,H=b.length;O<H;O++){f=b[O-1],_=b[O];var V=c(n,f,_,!0);V<s&&(s=V,l=c(n,f,_))}return l&&(l.distance=Math.sqrt(s)),l},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return jc(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,s){return s=s||this._defaultShape(),n=X(n),s.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new Me,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return dt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var s=[],l=dt(n),c=0,f=n.length;c<f;c++)l?(s[c]=X(n[c]),this._bounds.extend(s[c])):s[c]=this._convertLatLngs(n[c]);return s},_project:function(){var n=new K;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),s=new z(n,n);this._rawPxBounds&&(this._pxBounds=new K([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(n,s,l){var c=n[0]instanceof le,f=n.length,_,E;if(c){for(E=[],_=0;_<f;_++)E[_]=this._map.latLngToLayerPoint(n[_]),l.extend(E[_]);s.push(E)}else for(_=0;_<f;_++)this._projectLatlngs(n[_],s,l)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,l,c,f,_,E,M,b;for(l=0,f=0,_=this._rings.length;l<_;l++)for(b=this._rings[l],c=0,E=b.length;c<E-1;c++)M=Rc(b[c],b[c+1],n,c,!0),M&&(s[f]=s[f]||[],s[f].push(M[0]),(M[1]!==b[c+1]||c===E-2)&&(s[f].push(M[1]),f++))}},_simplifyPoints:function(){for(var n=this._parts,s=this.options.smoothFactor,l=0,c=n.length;l<c;l++)n[l]=zc(n[l],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,s){var l,c,f,_,E,M,b=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(l=0,_=this._parts.length;l<_;l++)for(M=this._parts[l],c=0,E=M.length,f=E-1;c<E;f=c++)if(!(!s&&c===0)&&Oc(n,M[f],M[c])<=b)return!0;return!1}});function S_(n,s){return new Ht(n,s)}Ht._flat=Ac;var Jn=Ht.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Nc(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var s=Ht.prototype._convertLatLngs.call(this,n),l=s.length;return l>=2&&s[0]instanceof le&&s[0].equals(s[l-1])&&s.pop(),s},_setLatLngs:function(n){Ht.prototype._setLatLngs.call(this,n),dt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return dt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,s=this.options.weight,l=new z(s,s);if(n=new K(n.min.subtract(l),n.max.add(l)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,f=this._rings.length,_;c<f;c++)_=Dc(this._rings[c],n,!0),_.length&&this._parts.push(_)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var s=!1,l,c,f,_,E,M,b,O;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(_=0,b=this._parts.length;_<b;_++)for(l=this._parts[_],E=0,O=l.length,M=O-1;E<O;M=E++)c=l[E],f=l[M],c.y>n.y!=f.y>n.y&&n.x<(f.x-c.x)*(n.y-c.y)/(f.y-c.y)+c.x&&(s=!s);return s||Ht.prototype._containsPoint.call(this,n,!0)}});function P_(n,s){return new Jn(n,s)}var Zt=Ft.extend({initialize:function(n,s){P(this,s),this._layers={},n&&this.addData(n)},addData:function(n){var s=k(n)?n:n.features,l,c,f;if(s){for(l=0,c=s.length;l<c;l++)f=s[l],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(f);return this}var _=this.options;if(_.filter&&!_.filter(n))return this;var E=to(n,_);return E?(E.feature=ro(n),E.defaultOptions=E.options,this.resetStyle(E),_.onEachFeature&&_.onEachFeature(n,E),this.addLayer(E)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=r({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(s){this._setLayerStyle(s,n)},this)},_setLayerStyle:function(n,s){n.setStyle&&(typeof s=="function"&&(s=s(n.feature)),n.setStyle(s))}});function to(n,s){var l=n.type==="Feature"?n.geometry:n,c=l?l.coordinates:null,f=[],_=s&&s.pointToLayer,E=s&&s.coordsToLatLng||ha,M,b,O,H;if(!c&&!l)return null;switch(l.type){case"Point":return M=E(c),Hc(_,n,M,s);case"MultiPoint":for(O=0,H=c.length;O<H;O++)M=E(c[O]),f.push(Hc(_,n,M,s));return new Ft(f);case"LineString":case"MultiLineString":return b=no(c,l.type==="LineString"?0:1,E),new Ht(b,s);case"Polygon":case"MultiPolygon":return b=no(c,l.type==="Polygon"?1:2,E),new Jn(b,s);case"GeometryCollection":for(O=0,H=l.geometries.length;O<H;O++){var V=to({geometry:l.geometries[O],type:"Feature",properties:n.properties},s);V&&f.push(V)}return new Ft(f);case"FeatureCollection":for(O=0,H=l.features.length;O<H;O++){var ee=to(l.features[O],s);ee&&f.push(ee)}return new Ft(f);default:throw new Error("Invalid GeoJSON object.")}}function Hc(n,s,l,c){return n?n(s,l):new Jr(l,c&&c.markersInheritOptions&&c)}function ha(n){return new le(n[1],n[0],n[2])}function no(n,s,l){for(var c=[],f=0,_=n.length,E;f<_;f++)E=s?no(n[f],s-1,l):(l||ha)(n[f]),c.push(E);return c}function da(n,s){return n=X(n),n.alt!==void 0?[g(n.lng,s),g(n.lat,s),g(n.alt,s)]:[g(n.lng,s),g(n.lat,s)]}function io(n,s,l,c){for(var f=[],_=0,E=n.length;_<E;_++)f.push(s?io(n[_],dt(n[_])?0:s-1,l,c):da(n[_],c));return!s&&l&&f.length>0&&f.push(f[0].slice()),f}function ei(n,s){return n.feature?r({},n.feature,{geometry:s}):ro(s)}function ro(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var fa={toGeoJSON:function(n){return ei(this,{type:"Point",coordinates:da(this.getLatLng(),n)})}};Jr.include(fa),ca.include(fa),eo.include(fa),Ht.include({toGeoJSON:function(n){var s=!dt(this._latlngs),l=io(this._latlngs,s?1:0,!1,n);return ei(this,{type:(s?"Multi":"")+"LineString",coordinates:l})}}),Jn.include({toGeoJSON:function(n){var s=!dt(this._latlngs),l=s&&!dt(this._latlngs[0]),c=io(this._latlngs,l?2:s?1:0,!0,n);return s||(c=[c]),ei(this,{type:(l?"Multi":"")+"Polygon",coordinates:c})}}),Xn.include({toMultiPoint:function(n){var s=[];return this.eachLayer(function(l){s.push(l.toGeoJSON(n).geometry.coordinates)}),ei(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(n){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(n);var l=s==="GeometryCollection",c=[];return this.eachLayer(function(f){if(f.toGeoJSON){var _=f.toGeoJSON(n);if(l)c.push(_.geometry);else{var E=ro(_);E.type==="FeatureCollection"?c.push.apply(c,E.features):c.push(E)}}}),l?ei(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function Zc(n,s){return new Zt(n,s)}var C_=Zc,oo=Lt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,s,l){this._url=n,this._bounds=he(s),P(this,l)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(J(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ge(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&Kn(this._image),this},bringToBack:function(){return this._map&&Qn(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=he(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",s=this._image=n?this._url:ue("img");if(J(s,"leaflet-image-layer"),this._zoomAnimated&&J(s,"leaflet-zoom-animated"),this.options.className&&J(s,this.options.className),s.onselectstart=m,s.onmousemove=m,s.onload=u(this.fire,this,"load"),s.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(n){var s=this._map.getZoomScale(n.zoom),l=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;Tn(this._image,l,s)},_reset:function(){var n=this._image,s=new K(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),l=s.getSize();Se(n,s.min),n.style.width=l.x+"px",n.style.height=l.y+"px"},_updateOpacity:function(){ht(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),M_=function(n,s,l){return new oo(n,s,l)},Uc=oo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",s=this._image=n?this._url:ue("video");if(J(s,"leaflet-image-layer"),this._zoomAnimated&&J(s,"leaflet-zoom-animated"),this.options.className&&J(s,this.options.className),s.onselectstart=m,s.onmousemove=m,s.onloadeddata=u(this.fire,this,"load"),n){for(var l=s.getElementsByTagName("source"),c=[],f=0;f<l.length;f++)c.push(l[f].src);this._url=l.length>0?c:[s.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var _=0;_<this._url.length;_++){var E=ue("source");E.src=this._url[_],s.appendChild(E)}}});function T_(n,s,l){return new Uc(n,s,l)}var Wc=oo.extend({_initImage:function(){var n=this._image=this._url;J(n,"leaflet-image-layer"),this._zoomAnimated&&J(n,"leaflet-zoom-animated"),this.options.className&&J(n,this.options.className),n.onselectstart=m,n.onmousemove=m}});function b_(n,s,l){return new Wc(n,s,l)}var Ot=Lt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,s){n&&(n instanceof le||k(n))?(this._latlng=X(n),P(this,s)):(P(this,n),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&ht(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&ht(this._container,1),this.bringToFront(),this.options.interactive&&(J(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(ht(this._container,0),this._removeTimeout=setTimeout(u(ge,void 0,this._container),200)):ge(this._container),this.options.interactive&&(ke(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=X(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Kn(this._container),this},bringToBack:function(){return this._map&&Qn(this._container),this},_prepareOpen:function(n){var s=this._source;if(!s._map)return!1;if(s instanceof Ft){s=null;var l=this._source._layers;for(var c in l)if(l[c]._map){s=l[c];break}if(!s)return!1;this._source=s}if(!n)if(s.getCenter)n=s.getCenter();else if(s.getLatLng)n=s.getLatLng();else if(s.getBounds)n=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")n.innerHTML=s;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),s=B(this.options.offset),l=this._getAnchor();this._zoomAnimated?Se(this._container,n.add(l)):s=s.add(n).add(l);var c=this._containerBottom=-s.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=c+"px",this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}});ie.include({_initOverlay:function(n,s,l,c){var f=s;return f instanceof n||(f=new n(c).setContent(s)),l&&f.setLatLng(l),f}}),Lt.include({_initOverlay:function(n,s,l,c){var f=l;return f instanceof n?(P(f,c),f._source=this):(f=s&&!c?s:new n(c,this),f.setContent(l)),f}});var so=Ot.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,Ot.prototype.openOn.call(this,n)},onAdd:function(n){Ot.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof rn||this._source.on("preclick",Dn))},onRemove:function(n){Ot.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof rn||this._source.off("preclick",Dn))},getEvents:function(){var n=Ot.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",s=this._container=ue("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),l=this._wrapper=ue("div",n+"-content-wrapper",s);if(this._contentNode=ue("div",n+"-content",l),Ui(s),na(this._contentNode),q(s,"contextmenu",Dn),this._tipContainer=ue("div",n+"-tip-container",s),this._tip=ue("div",n+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=ue("a",n+"-close-button",s);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',q(c,"click",function(f){Oe(f),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,s=n.style;s.width="",s.whiteSpace="nowrap";var l=n.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),s.width=l+1+"px",s.whiteSpace="",s.height="";var c=n.offsetHeight,f=this.options.maxHeight,_="leaflet-popup-scrolled";f&&c>f?(s.height=f+"px",J(n,_)):ke(n,_),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),l=this._getAnchor();Se(this._container,s.add(l))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,s=parseInt(Bi(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+s,c=this._containerWidth,f=new z(this._containerLeft,-l-this._containerBottom);f._add(bn(this._container));var _=n.layerPointToContainerPoint(f),E=B(this.options.autoPanPadding),M=B(this.options.autoPanPaddingTopLeft||E),b=B(this.options.autoPanPaddingBottomRight||E),O=n.getSize(),H=0,V=0;_.x+c+b.x>O.x&&(H=_.x+c-O.x+b.x),_.x-H-M.x<0&&(H=_.x-M.x),_.y+l+b.y>O.y&&(V=_.y+l-O.y+b.y),_.y-V-M.y<0&&(V=_.y-M.y),(H||V)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([H,V]))}},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),D_=function(n,s){return new so(n,s)};ie.mergeOptions({closePopupOnClick:!0}),ie.include({openPopup:function(n,s,l){return this._initOverlay(so,n,s,l).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),Lt.include({bindPopup:function(n,s){return this._popup=this._initOverlay(so,this._popup,n,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof Ft||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){Nn(n);var s=n.layer||n.target;if(this._popup._source===s&&!(s instanceof rn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=s,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var ao=Ot.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){Ot.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){Ot.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=Ot.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",s=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ue("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var s,l,c=this._map,f=this._container,_=c.latLngToContainerPoint(c.getCenter()),E=c.layerPointToContainerPoint(n),M=this.options.direction,b=f.offsetWidth,O=f.offsetHeight,H=B(this.options.offset),V=this._getAnchor();M==="top"?(s=b/2,l=O):M==="bottom"?(s=b/2,l=0):M==="center"?(s=b/2,l=O/2):M==="right"?(s=0,l=O/2):M==="left"?(s=b,l=O/2):E.x<_.x?(M="right",s=0,l=O/2):(M="left",s=b+(H.x+V.x)*2,l=O/2),n=n.subtract(B(s,l,!0)).add(H).add(V),ke(f,"leaflet-tooltip-right"),ke(f,"leaflet-tooltip-left"),ke(f,"leaflet-tooltip-top"),ke(f,"leaflet-tooltip-bottom"),J(f,"leaflet-tooltip-"+M),Se(f,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&ht(this._container,n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(s)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),N_=function(n,s){return new ao(n,s)};ie.include({openTooltip:function(n,s,l){return this._initOverlay(ao,n,s,l).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),Lt.include({bindTooltip:function(n,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ao,this._tooltip,n,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var s=n?"off":"on",l={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?l.add=this._openTooltip:(l.mouseover=this._openTooltip,l.mouseout=this.closeTooltip,l.click=this._openTooltip,this._map?this._addFocusListeners():l.add=this._addFocusListeners),this._tooltip.options.sticky&&(l.mousemove=this._moveTooltip),this[s](l),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof Ft||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&(q(s,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),q(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var s=n.latlng,l,c;this._tooltip.options.sticky&&n.originalEvent&&(l=this._map.mouseEventToContainerPoint(n.originalEvent),c=this._map.containerPointToLayerPoint(l),s=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(s)}});var Gc=qn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var s=n&&n.tagName==="DIV"?n:document.createElement("div"),l=this.options;if(l.html instanceof Element?($r(s),s.appendChild(l.html)):s.innerHTML=l.html!==!1?l.html:"",l.bgPos){var c=B(l.bgPos);s.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function z_(n){return new Gc(n)}qn.Default=Vi;var $i=Lt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:W.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){P(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),ge(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Kn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Qn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof z?n:new z(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var s=this.getPane().children,l=-n(-1/0,1/0),c=0,f=s.length,_;c<f;c++)_=s[c].style.zIndex,s[c]!==this._container&&_&&(l=n(l,+_));isFinite(l)&&(this.options.zIndex=l+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!W.ielt9){ht(this._container,this.options.opacity);var n=+new Date,s=!1,l=!1;for(var c in this._tiles){var f=this._tiles[c];if(!(!f.current||!f.loaded)){var _=Math.min(1,(n-f.loaded)/200);ht(f.el,_),_<1?s=!0:(f.active?l=!0:this._onOpaqueTile(f),f.active=!0)}}l&&!this._noPrune&&this._pruneTiles(),s&&(ne(this._fadeFrame),this._fadeFrame=Q(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=ue("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,s=this.options.maxZoom;if(n!==void 0){for(var l in this._levels)l=Number(l),this._levels[l].el.children.length||l===n?(this._levels[l].el.style.zIndex=s-Math.abs(n-l),this._onUpdateLevel(l)):(ge(this._levels[l].el),this._removeTilesAtZoom(l),this._onRemoveLevel(l),delete this._levels[l]);var c=this._levels[n],f=this._map;return c||(c=this._levels[n]={},c.el=ue("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=s,c.origin=f.project(f.unproject(f.getPixelOrigin()),n).round(),c.zoom=n,this._setZoomTransform(c,f.getCenter(),f.getZoom()),m(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var n,s,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)s=this._tiles[n],s.retain=s.current;for(n in this._tiles)if(s=this._tiles[n],s.current&&!s.active){var c=s.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var s in this._tiles)this._tiles[s].coords.z===n&&this._removeTile(s)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)ge(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,s,l,c){var f=Math.floor(n/2),_=Math.floor(s/2),E=l-1,M=new z(+f,+_);M.z=+E;var b=this._tileCoordsToKey(M),O=this._tiles[b];return O&&O.active?(O.retain=!0,!0):(O&&O.loaded&&(O.retain=!0),E>c?this._retainParent(f,_,E,c):!1)},_retainChildren:function(n,s,l,c){for(var f=2*n;f<2*n+2;f++)for(var _=2*s;_<2*s+2;_++){var E=new z(f,_);E.z=l+1;var M=this._tileCoordsToKey(E),b=this._tiles[M];if(b&&b.active){b.retain=!0;continue}else b&&b.loaded&&(b.retain=!0);l+1<c&&this._retainChildren(f,_,l+1,c)}},_resetView:function(n){var s=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var s=this.options;return s.minNativeZoom!==void 0&&n<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<n?s.maxNativeZoom:n},_setView:function(n,s,l,c){var f=Math.round(s);this.options.maxZoom!==void 0&&f>this.options.maxZoom||this.options.minZoom!==void 0&&f<this.options.minZoom?f=void 0:f=this._clampZoom(f);var _=this.options.updateWhenZooming&&f!==this._tileZoom;(!c||_)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==void 0&&this._update(n),l||this._pruneTiles(),this._noPrune=!!l),this._setZoomTransforms(n,s)},_setZoomTransforms:function(n,s){for(var l in this._levels)this._setZoomTransform(this._levels[l],n,s)},_setZoomTransform:function(n,s,l){var c=this._map.getZoomScale(l,n.zoom),f=n.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(s,l)).round();W.any3d?Tn(n.el,f,c):Se(n.el,f)},_resetGrid:function(){var n=this._map,s=n.options.crs,l=this._tileSize=this.getTileSize(),c=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,s.wrapLng[0]],c).x/l.x),Math.ceil(n.project([0,s.wrapLng[1]],c).x/l.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([s.wrapLat[0],0],c).y/l.x),Math.ceil(n.project([s.wrapLat[1],0],c).y/l.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var s=this._map,l=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),c=s.getZoomScale(l,this._tileZoom),f=s.project(n,this._tileZoom).floor(),_=s.getSize().divideBy(c*2);return new K(f.subtract(_),f.add(_))},_update:function(n){var s=this._map;if(s){var l=this._clampZoom(s.getZoom());if(n===void 0&&(n=s.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(n),f=this._pxBoundsToTileRange(c),_=f.getCenter(),E=[],M=this.options.keepBuffer,b=new K(f.getBottomLeft().subtract([M,-M]),f.getTopRight().add([M,-M]));if(!(isFinite(f.min.x)&&isFinite(f.min.y)&&isFinite(f.max.x)&&isFinite(f.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var O in this._tiles){var H=this._tiles[O].coords;(H.z!==this._tileZoom||!b.contains(new z(H.x,H.y)))&&(this._tiles[O].current=!1)}if(Math.abs(l-this._tileZoom)>1){this._setView(n,l);return}for(var V=f.min.y;V<=f.max.y;V++)for(var ee=f.min.x;ee<=f.max.x;ee++){var We=new z(ee,V);if(We.z=this._tileZoom,!!this._isValidTile(We)){var De=this._tiles[this._tileCoordsToKey(We)];De?De.current=!0:E.push(We)}}if(E.sort(function(qe,ni){return qe.distanceTo(_)-ni.distanceTo(_)}),E.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ft=document.createDocumentFragment();for(ee=0;ee<E.length;ee++)this._addTile(E[ee],ft);this._level.el.appendChild(ft)}}}},_isValidTile:function(n){var s=this._map.options.crs;if(!s.infinite){var l=this._globalTileRange;if(!s.wrapLng&&(n.x<l.min.x||n.x>l.max.x)||!s.wrapLat&&(n.y<l.min.y||n.y>l.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(n);return he(this.options.bounds).overlaps(c)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var s=this._map,l=this.getTileSize(),c=n.scaleBy(l),f=c.add(l),_=s.unproject(c,n.z),E=s.unproject(f,n.z);return[_,E]},_tileCoordsToBounds:function(n){var s=this._tileCoordsToNwSe(n),l=new Me(s[0],s[1]);return this.options.noWrap||(l=this._map.wrapLatLngBounds(l)),l},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var s=n.split(":"),l=new z(+s[0],+s[1]);return l.z=+s[2],l},_removeTile:function(n){var s=this._tiles[n];s&&(ge(s.el),delete this._tiles[n],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){J(n,"leaflet-tile");var s=this.getTileSize();n.style.width=s.x+"px",n.style.height=s.y+"px",n.onselectstart=m,n.onmousemove=m,W.ielt9&&this.options.opacity<1&&ht(n,this.options.opacity)},_addTile:function(n,s){var l=this._getTilePos(n),c=this._tileCoordsToKey(n),f=this.createTile(this._wrapCoords(n),u(this._tileReady,this,n));this._initTile(f),this.createTile.length<2&&Q(u(this._tileReady,this,n,null,f)),Se(f,l),this._tiles[c]={el:f,coords:n,current:!0},s.appendChild(f),this.fire("tileloadstart",{tile:f,coords:n})},_tileReady:function(n,s,l){s&&this.fire("tileerror",{error:s,tile:l,coords:n});var c=this._tileCoordsToKey(n);l=this._tiles[c],l&&(l.loaded=+new Date,this._map._fadeAnimated?(ht(l.el,0),ne(this._fadeFrame),this._fadeFrame=Q(this._updateOpacity,this)):(l.active=!0,this._pruneTiles()),s||(J(l.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:l.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),W.ielt9||!this._map._fadeAnimated?Q(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var s=new z(this._wrapX?y(n.x,this._wrapX):n.x,this._wrapY?y(n.y,this._wrapY):n.y);return s.z=n.z,s},_pxBoundsToTileRange:function(n){var s=this.getTileSize();return new K(n.min.unscaleBy(s).floor(),n.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function O_(n){return new $i(n)}var ti=$i.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,s){this._url=n,s=P(this,s),s.detectRetina&&W.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,s){return this._url===n&&s===void 0&&(s=!0),this._url=n,s||this.redraw(),this},createTile:function(n,s){var l=document.createElement("img");return q(l,"load",u(this._tileOnLoad,this,s,l)),q(l,"error",u(this._tileOnError,this,s,l)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(l.referrerPolicy=this.options.referrerPolicy),l.alt="",l.src=this.getTileUrl(n),l},getTileUrl:function(n){var s={r:W.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var l=this._globalTileRange.max.y-n.y;this.options.tms&&(s.y=l),s["-y"]=l}return x(this._url,r(s,this.options))},_tileOnLoad:function(n,s){W.ielt9?setTimeout(u(n,this,null,s),0):n(null,s)},_tileOnError:function(n,s,l){var c=this.options.errorTileUrl;c&&s.getAttribute("src")!==c&&(s.src=c),n(l,s)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,s=this.options.maxZoom,l=this.options.zoomReverse,c=this.options.zoomOffset;return l&&(n=s-n),n+c},_getSubdomain:function(n){var s=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var n,s;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(s=this._tiles[n].el,s.onload=m,s.onerror=m,!s.complete)){s.src=N;var l=this._tiles[n].coords;ge(s),delete this._tiles[n],this.fire("tileabort",{tile:s,coords:l})}},_removeTile:function(n){var s=this._tiles[n];if(s)return s.el.setAttribute("src",N),$i.prototype._removeTile.call(this,n)},_tileReady:function(n,s,l){if(!(!this._map||l&&l.getAttribute("src")===N))return $i.prototype._tileReady.call(this,n,s,l)}});function Vc(n,s){return new ti(n,s)}var $c=ti.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,s){this._url=n;var l=r({},this.defaultWmsParams);for(var c in s)c in this.options||(l[c]=s[c]);s=P(this,s);var f=s.detectRetina&&W.retina?2:1,_=this.getTileSize();l.width=_.x*f,l.height=_.y*f,this.wmsParams=l},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,ti.prototype.onAdd.call(this,n)},getTileUrl:function(n){var s=this._tileCoordsToNwSe(n),l=this._crs,c=oe(l.project(s[0]),l.project(s[1])),f=c.min,_=c.max,E=(this._wmsVersion>=1.3&&this._crs===Bc?[f.y,f.x,_.y,_.x]:[f.x,f.y,_.x,_.y]).join(","),M=ti.prototype.getTileUrl.call(this,n);return M+D(this.wmsParams,M,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+E},setParams:function(n,s){return r(this.wmsParams,n),s||this.redraw(),this}});function I_(n,s){return new $c(n,s)}ti.WMS=$c,Vc.wms=I_;var Ut=Lt.extend({options:{padding:.1},initialize:function(n){P(this,n),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),J(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,s){var l=this._map.getZoomScale(s,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,s),_=c.multiplyBy(-l).add(f).subtract(this._map._getNewPixelOrigin(n,s));W.any3d?Tn(this._container,_,l):Se(this._container,_)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,s=this._map.getSize(),l=this._map.containerPointToLayerPoint(s.multiplyBy(-n)).round();this._bounds=new K(l,l.add(s.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Yc=Ut.extend({options:{tolerance:0},getEvents:function(){var n=Ut.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ut.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");q(n,"mousemove",this._onMouseMove,this),q(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),q(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){ne(this._redrawRequest),delete this._ctx,ge(this._container),de(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var s in this._layers)n=this._layers[s],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ut.prototype._update.call(this);var n=this._bounds,s=this._container,l=n.getSize(),c=W.retina?2:1;Se(s,n.min),s.width=c*l.x,s.height=c*l.y,s.style.width=l.x+"px",s.style.height=l.y+"px",W.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){Ut.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[d(n)]=n;var s=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var s=n._order,l=s.next,c=s.prev;l?l.prev=c:this._drawLast=c,c?c.next=l:this._drawFirst=l,delete n._order,delete this._layers[d(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var s=n.options.dashArray.split(/[, ]+/),l=[],c,f;for(f=0;f<s.length;f++){if(c=Number(s[f]),isNaN(c))return;l.push(c)}n.options._dashArray=l}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||Q(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var s=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new K,this._redrawBounds.extend(n._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(n._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var s=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,s=this._redrawBounds;if(this._ctx.save(),s){var l=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,l.x,l.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)n=c.layer,(!s||n._pxBounds&&n._pxBounds.intersects(s))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,s){if(this._drawing){var l,c,f,_,E=n._parts,M=E.length,b=this._ctx;if(M){for(b.beginPath(),l=0;l<M;l++){for(c=0,f=E[l].length;c<f;c++)_=E[l][c],b[c?"lineTo":"moveTo"](_.x,_.y);s&&b.closePath()}this._fillStroke(b,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var s=n._point,l=this._ctx,c=Math.max(Math.round(n._radius),1),f=(Math.max(Math.round(n._radiusY),1)||c)/c;f!==1&&(l.save(),l.scale(1,f)),l.beginPath(),l.arc(s.x,s.y/f,c,0,Math.PI*2,!1),f!==1&&l.restore(),this._fillStroke(l,n)}},_fillStroke:function(n,s){var l=s.options;l.fill&&(n.globalAlpha=l.fillOpacity,n.fillStyle=l.fillColor||l.color,n.fill(l.fillRule||"evenodd")),l.stroke&&l.weight!==0&&(n.setLineDash&&n.setLineDash(s.options&&s.options._dashArray||[]),n.globalAlpha=l.opacity,n.lineWidth=l.weight,n.strokeStyle=l.color,n.lineCap=l.lineCap,n.lineJoin=l.lineJoin,n.stroke())},_onClick:function(n){for(var s=this._map.mouseEventToLayerPoint(n),l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(s)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(l))&&(c=l);this._fireEvent(c?[c]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,s)}},_handleMouseOut:function(n){var s=this._hoveredLayer;s&&(ke(this._container,"leaflet-interactive"),this._fireEvent([s],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,s){if(!this._mouseHoverThrottled){for(var l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(s)&&(c=l);c!==this._hoveredLayer&&(this._handleMouseOut(n),c&&(J(this._container,"leaflet-interactive"),this._fireEvent([c],n,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,s,l){this._map._fireDOMEvent(s,l||s.type,n)},_bringToFront:function(n){var s=n._order;if(s){var l=s.next,c=s.prev;if(l)l.prev=c;else return;c?c.next=l:l&&(this._drawFirst=l),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(n)}},_bringToBack:function(n){var s=n._order;if(s){var l=s.next,c=s.prev;if(c)c.next=l;else return;l?l.prev=c:c&&(this._drawLast=c),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(n)}}});function Kc(n){return W.canvas?new Yc(n):null}var Yi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),R_={_initContainer:function(){this._container=ue("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ut.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var s=n._container=Yi("shape");J(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",n._path=Yi("path"),s.appendChild(n._path),this._updateStyle(n),this._layers[d(n)]=n},_addPath:function(n){var s=n._container;this._container.appendChild(s),n.options.interactive&&n.addInteractiveTarget(s)},_removePath:function(n){var s=n._container;ge(s),n.removeInteractiveTarget(s),delete this._layers[d(n)]},_updateStyle:function(n){var s=n._stroke,l=n._fill,c=n.options,f=n._container;f.stroked=!!c.stroke,f.filled=!!c.fill,c.stroke?(s||(s=n._stroke=Yi("stroke")),f.appendChild(s),s.weight=c.weight+"px",s.color=c.color,s.opacity=c.opacity,c.dashArray?s.dashStyle=k(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=c.lineCap.replace("butt","flat"),s.joinstyle=c.lineJoin):s&&(f.removeChild(s),n._stroke=null),c.fill?(l||(l=n._fill=Yi("fill")),f.appendChild(l),l.color=c.fillColor||c.color,l.opacity=c.fillOpacity):l&&(f.removeChild(l),n._fill=null)},_updateCircle:function(n){var s=n._point.round(),l=Math.round(n._radius),c=Math.round(n._radiusY||l);this._setPath(n,n._empty()?"M0 0":"AL "+s.x+","+s.y+" "+l+","+c+" 0,"+65535*360)},_setPath:function(n,s){n._path.v=s},_bringToFront:function(n){Kn(n._container)},_bringToBack:function(n){Qn(n._container)}},lo=W.vml?Yi:Ju,Ki=Ut.extend({_initContainer:function(){this._container=lo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=lo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ge(this._container),de(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ut.prototype._update.call(this);var n=this._bounds,s=n.getSize(),l=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,l.setAttribute("width",s.x),l.setAttribute("height",s.y)),Se(l,n.min),l.setAttribute("viewBox",[n.min.x,n.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(n){var s=n._path=lo("path");n.options.className&&J(s,n.options.className),n.options.interactive&&J(s,"leaflet-interactive"),this._updateStyle(n),this._layers[d(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){ge(n._path),n.removeInteractiveTarget(n._path),delete this._layers[d(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var s=n._path,l=n.options;s&&(l.stroke?(s.setAttribute("stroke",l.color),s.setAttribute("stroke-opacity",l.opacity),s.setAttribute("stroke-width",l.weight),s.setAttribute("stroke-linecap",l.lineCap),s.setAttribute("stroke-linejoin",l.lineJoin),l.dashArray?s.setAttribute("stroke-dasharray",l.dashArray):s.removeAttribute("stroke-dasharray"),l.dashOffset?s.setAttribute("stroke-dashoffset",l.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),l.fill?(s.setAttribute("fill",l.fillColor||l.color),s.setAttribute("fill-opacity",l.fillOpacity),s.setAttribute("fill-rule",l.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(n,s){this._setPath(n,ec(n._parts,s))},_updateCircle:function(n){var s=n._point,l=Math.max(Math.round(n._radius),1),c=Math.max(Math.round(n._radiusY),1)||l,f="a"+l+","+c+" 0 1,0 ",_=n._empty()?"M0 0":"M"+(s.x-l)+","+s.y+f+l*2+",0 "+f+-l*2+",0 ";this._setPath(n,_)},_setPath:function(n,s){n._path.setAttribute("d",s)},_bringToFront:function(n){Kn(n._path)},_bringToBack:function(n){Qn(n._path)}});W.vml&&Ki.include(R_);function Qc(n){return W.svg||W.vml?new Ki(n):null}ie.include({getRenderer:function(n){var s=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var s=this._paneRenderers[n];return s===void 0&&(s=this._createRenderer({pane:n}),this._paneRenderers[n]=s),s},_createRenderer:function(n){return this.options.preferCanvas&&Kc(n)||Qc(n)}});var Xc=Jn.extend({initialize:function(n,s){Jn.prototype.initialize.call(this,this._boundsToLatLngs(n),s)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=he(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function A_(n,s){return new Xc(n,s)}Ki.create=lo,Ki.pointsToPath=ec,Zt.geometryToLayer=to,Zt.coordsToLatLng=ha,Zt.coordsToLatLngs=no,Zt.latLngToCoords=da,Zt.latLngsToCoords=io,Zt.getFeature=ei,Zt.asFeature=ro,ie.mergeOptions({boxZoom:!0});var qc=zt.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){q(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){de(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ge(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Fi(),Ys(),this._startPoint=this._map.mouseEventToContainerPoint(n),q(document,{contextmenu:Nn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=ue("div","leaflet-zoom-box",this._container),J(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var s=new K(this._point,this._startPoint),l=s.getSize();Se(this._box,s.min),this._box.style.width=l.x+"px",this._box.style.height=l.y+"px"},_finish:function(){this._moved&&(ge(this._box),ke(this._container,"leaflet-crosshair")),Hi(),Ks(),de(document,{contextmenu:Nn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var s=new Me(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ie.addInitHook("addHandler","boxZoom",qc),ie.mergeOptions({doubleClickZoom:!0});var Jc=zt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var s=this._map,l=s.getZoom(),c=s.options.zoomDelta,f=n.originalEvent.shiftKey?l-c:l+c;s.options.doubleClickZoom==="center"?s.setZoom(f):s.setZoomAround(n.containerPoint,f)}});ie.addInitHook("addHandler","doubleClickZoom",Jc),ie.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var eh=zt.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new nn(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}J(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ke(this._map._container,"leaflet-grab"),ke(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=he(this._map.options.maxBounds);this._offsetLimit=oe(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var s=this._lastTime=+new Date,l=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(l),this._times.push(s),this._prunePositions(s)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,s){return n-(n-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;n.x<s.min.x&&(n.x=this._viscousLimit(n.x,s.min.x)),n.y<s.min.y&&(n.y=this._viscousLimit(n.y,s.min.y)),n.x>s.max.x&&(n.x=this._viscousLimit(n.x,s.max.x)),n.y>s.max.y&&(n.y=this._viscousLimit(n.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,s=Math.round(n/2),l=this._initialWorldOffset,c=this._draggable._newPos.x,f=(c-s+l)%n+s-l,_=(c+s+l)%n-s-l,E=Math.abs(f+l)<Math.abs(_+l)?f:_;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=E},_onDragEnd:function(n){var s=this._map,l=s.options,c=!l.inertia||n.noInertia||this._times.length<2;if(s.fire("dragend",n),c)s.fire("moveend");else{this._prunePositions(+new Date);var f=this._lastPos.subtract(this._positions[0]),_=(this._lastTime-this._times[0])/1e3,E=l.easeLinearity,M=f.multiplyBy(E/_),b=M.distanceTo([0,0]),O=Math.min(l.inertiaMaxSpeed,b),H=M.multiplyBy(O/b),V=O/(l.inertiaDeceleration*E),ee=H.multiplyBy(-V/2).round();!ee.x&&!ee.y?s.fire("moveend"):(ee=s._limitOffset(ee,s.options.maxBounds),Q(function(){s.panBy(ee,{duration:V,easeLinearity:E,noMoveStart:!0,animate:!0})}))}}});ie.addInitHook("addHandler","dragging",eh),ie.mergeOptions({keyboard:!0,keyboardPanDelta:80});var th=zt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),q(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),de(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,s=document.documentElement,l=n.scrollTop||s.scrollTop,c=n.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(c,l)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var s=this._panKeys={},l=this.keyCodes,c,f;for(c=0,f=l.left.length;c<f;c++)s[l.left[c]]=[-1*n,0];for(c=0,f=l.right.length;c<f;c++)s[l.right[c]]=[n,0];for(c=0,f=l.down.length;c<f;c++)s[l.down[c]]=[0,n];for(c=0,f=l.up.length;c<f;c++)s[l.up[c]]=[0,-1*n]},_setZoomDelta:function(n){var s=this._zoomKeys={},l=this.keyCodes,c,f;for(c=0,f=l.zoomIn.length;c<f;c++)s[l.zoomIn[c]]=n;for(c=0,f=l.zoomOut.length;c<f;c++)s[l.zoomOut[c]]=-n},_addHooks:function(){q(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){de(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var s=n.keyCode,l=this._map,c;if(s in this._panKeys){if(!l._panAnim||!l._panAnim._inProgress)if(c=this._panKeys[s],n.shiftKey&&(c=B(c).multiplyBy(3)),l.options.maxBounds&&(c=l._limitOffset(B(c),l.options.maxBounds)),l.options.worldCopyJump){var f=l.wrapLatLng(l.unproject(l.project(l.getCenter()).add(c)));l.panTo(f)}else l.panBy(c)}else if(s in this._zoomKeys)l.setZoom(l.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&l._popup&&l._popup.options.closeOnEscapeKey)l.closePopup();else return;Nn(n)}}});ie.addInitHook("addHandler","keyboard",th),ie.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var nh=zt.extend({addHooks:function(){q(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){de(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var s=Pc(n),l=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var c=Math.max(l-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),c),Nn(n)},_performZoom:function(){var n=this._map,s=n.getZoom(),l=this._map.options.zoomSnap||0;n._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),f=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,_=l?Math.ceil(f/l)*l:f,E=n._limitZoom(s+(this._delta>0?_:-_))-s;this._delta=0,this._startTime=null,E&&(n.options.scrollWheelZoom==="center"?n.setZoom(s+E):n.setZoomAround(this._lastMousePos,s+E))}});ie.addInitHook("addHandler","scrollWheelZoom",nh);var j_=600;ie.mergeOptions({tapHold:W.touchNative&&W.safari&&W.mobile,tapTolerance:15});var ih=zt.extend({addHooks:function(){q(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){de(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var s=n.touches[0];this._startPos=this._newPos=new z(s.clientX,s.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(q(document,"touchend",Oe),q(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),j_),q(document,"touchend touchcancel contextmenu",this._cancel,this),q(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){de(document,"touchend",Oe),de(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),de(document,"touchend touchcancel contextmenu",this._cancel,this),de(document,"touchmove",this._onMove,this)},_onMove:function(n){var s=n.touches[0];this._newPos=new z(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,s){var l=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});l._simulated=!0,s.target.dispatchEvent(l)}});ie.addInitHook("addHandler","tapHold",ih),ie.mergeOptions({touchZoom:W.touch,bounceAtZoomLimits:!0});var rh=zt.extend({addHooks:function(){J(this._map._container,"leaflet-touch-zoom"),q(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ke(this._map._container,"leaflet-touch-zoom"),de(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var s=this._map;if(!(!n.touches||n.touches.length!==2||s._animatingZoom||this._zooming)){var l=s.mouseEventToContainerPoint(n.touches[0]),c=s.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(l.add(c)._divideBy(2))),this._startDist=l.distanceTo(c),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),q(document,"touchmove",this._onTouchMove,this),q(document,"touchend touchcancel",this._onTouchEnd,this),Oe(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var s=this._map,l=s.mouseEventToContainerPoint(n.touches[0]),c=s.mouseEventToContainerPoint(n.touches[1]),f=l.distanceTo(c)/this._startDist;if(this._zoom=s.getScaleZoom(f,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&f<1||this._zoom>s.getMaxZoom()&&f>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,f===1)return}else{var _=l._add(c)._divideBy(2)._subtract(this._centerPoint);if(f===1&&_.x===0&&_.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(_),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),ne(this._animRequest);var E=u(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Q(E,this,!0),Oe(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ne(this._animRequest),de(document,"touchmove",this._onTouchMove,this),de(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ie.addInitHook("addHandler","touchZoom",rh),ie.BoxZoom=qc,ie.DoubleClickZoom=Jc,ie.Drag=eh,ie.Keyboard=th,ie.ScrollWheelZoom=nh,ie.TapHold=ih,ie.TouchZoom=rh,i.Bounds=K,i.Browser=W,i.CRS=Xe,i.Canvas=Yc,i.Circle=ca,i.CircleMarker=eo,i.Class=U,i.Control=xt,i.DivIcon=Gc,i.DivOverlay=Ot,i.DomEvent=n_,i.DomUtil=e_,i.Draggable=nn,i.Evented=je,i.FeatureGroup=Ft,i.GeoJSON=Zt,i.GridLayer=$i,i.Handler=zt,i.Icon=qn,i.ImageOverlay=oo,i.LatLng=le,i.LatLngBounds=Me,i.Layer=Lt,i.LayerGroup=Xn,i.LineUtil=m_,i.Map=ie,i.Marker=Jr,i.Mixin=u_,i.Path=rn,i.Point=z,i.PolyUtil=c_,i.Polygon=Jn,i.Polyline=Ht,i.Popup=so,i.PosAnimation=Cc,i.Projection=__,i.Rectangle=Xc,i.Renderer=Ut,i.SVG=Ki,i.SVGOverlay=Wc,i.TileLayer=ti,i.Tooltip=ao,i.Transformation=Rs,i.Util=xe,i.VideoOverlay=Uc,i.bind=u,i.bounds=oe,i.canvas=Kc,i.circle=E_,i.circleMarker=k_,i.control=Wi,i.divIcon=z_,i.extend=r,i.featureGroup=w_,i.geoJSON=Zc,i.geoJson=C_,i.gridLayer=O_,i.icon=x_,i.imageOverlay=M_,i.latLng=X,i.latLngBounds=he,i.layerGroup=y_,i.map=i_,i.marker=L_,i.point=B,i.polygon=P_,i.polyline=S_,i.popup=D_,i.rectangle=A_,i.setOptions=P,i.stamp=d,i.svg=Qc,i.svgOverlay=b_,i.tileLayer=Vc,i.tooltip=N_,i.transformation=Ri,i.version=o,i.videoOverlay=T_;var B_=window.L;i.noConflict=function(){return window.L=B_,this},window.L=i})})(Fl,Fl.exports);var $e=Fl.exports;const Yu=Xl($e);function Ku(e,t,i){return Object.freeze({instance:e,context:t,container:i})}function Qu(e,t){return t==null?function(o,r){const a=F.useRef();return a.current||(a.current=e(o,r)),a}:function(o,r){const a=F.useRef();a.current||(a.current=e(o,r));const u=F.useRef(o),{instance:h}=a.current;return F.useEffect(function(){u.current!==o&&(t(h,o,u.current),u.current=o)},[h,o,r]),a}}function rm(e,t){F.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function om(e){return function(i){const o=Vu(),r=e($u(i,o),o);return xy(o.map,i.attribution),im(r.current,i.eventHandlers),rm(r.current,o),r}}function Sy(e,t){const i=F.useRef();F.useEffect(function(){if(t.pathOptions!==i.current){const r=t.pathOptions??{};e.instance.setStyle(r),i.current=r}},[e,t])}function Py(e){return function(i){const o=Vu(),r=e($u(i,o),o);return im(r.current,i.eventHandlers),rm(r.current,o),Sy(r.current,i),r}}function Cy(e,t){const i=Qu(e,t),o=om(i);return nm(o)}function My(e,t){const i=Qu(e,t),o=Py(i);return nm(o)}function Ty(e,t){const i=Qu(e,t),o=om(i);return Ey(o)}function by(e,t,i){const{opacity:o,zIndex:r}=t;o!=null&&o!==i.opacity&&e.setOpacity(o),r!=null&&r!==i.zIndex&&e.setZIndex(r)}function sm(){return Vu().map}const Dy=My(function({data:t,...i},o){const r=new $e.GeoJSON(t,i);return Ku(r,Jp(o,{overlayContainer:r}))},function(t,i,o){i.style!==o.style&&(i.style==null?t.resetStyle():t.setStyle(i.style))});function Hl(){return Hl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Hl.apply(this,arguments)}function Ny({bounds:e,boundsOptions:t,center:i,children:o,className:r,id:a,placeholder:u,style:h,whenReady:d,zoom:p,...y},m){const[g]=F.useState({className:r,id:a,style:h}),[S,C]=F.useState(null);F.useImperativeHandle(m,()=>(S==null?void 0:S.map)??null,[S]);const P=F.useCallback(w=>{if(w!==null&&S===null){const x=new $e.Map(w,y);i!=null&&p!=null?x.setView(i,p):e!=null&&x.fitBounds(e,t),d!=null&&x.whenReady(d),C(ky(x))}},[]);F.useEffect(()=>()=>{S==null||S.map.remove()},[S]);const D=S?ki.createElement(tm,{value:S},o):u??null;return ki.createElement("div",Hl({},g,{ref:P}),D)}const zy=F.forwardRef(Ny),Oy=Cy(function({position:t,...i},o){const r=new $e.Marker(t,i);return Ku(r,Jp(o,{overlayContainer:r}))},function(t,i,o){i.position!==o.position&&t.setLatLng(i.position),i.icon!=null&&i.icon!==o.icon&&t.setIcon(i.icon),i.zIndexOffset!=null&&i.zIndexOffset!==o.zIndexOffset&&t.setZIndexOffset(i.zIndexOffset),i.opacity!=null&&i.opacity!==o.opacity&&t.setOpacity(i.opacity),t.dragging!=null&&i.draggable!==o.draggable&&(i.draggable===!0?t.dragging.enable():t.dragging.disable())}),Iy=Ty(function({url:t,...i},o){const r=new $e.TileLayer(t,$u(i,o));return Ku(r,o)},function(t,i,o){by(t,i,o);const{url:r}=i;r!=null&&r!==o.url&&t.setUrl(r)});(function(e,t,i){function o(r,a){for(;(r=r.parentElement)&&!r.classList.contains(a););return r}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(r,a){this._map=r,this._container=r._container,this._overlayPane=r._panes.overlayPane,this._popupPane=r._panes.popupPane,a&&a.shapeOptions&&(a.shapeOptions=L.Util.extend({},this.options.shapeOptions,a.shapeOptions)),L.setOptions(this,a);var u=L.version.split(".");parseInt(u[0],10)===1&&parseInt(u[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var r=this._map;r&&(L.DomUtil.disableTextSelection(),r.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(r){L.setOptions(this,r)},_fireCreatedEvent:function(r){this._map.fire(L.Draw.Event.CREATED,{layer:r,layerType:this.type})},_cancelDrawing:function(r){r.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(r,a){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,a&&a.drawError&&(a.drawError=L.Util.extend({},this.options.drawError,a.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,r,a)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var r=this._markers.pop(),a=this._poly,u=a.getLatLngs(),h=u.splice(-1,1)[0];this._poly.setLatLngs(u),this._markerGroup.removeLayer(r),a.getLatLngs().length<2&&this._map.removeLayer(a),this._vertexChanged(h,!1)}},addVertex:function(r){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(r))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(r)),this._poly.addLatLng(r),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(r,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var r=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),a=this._poly.newLatLngIntersects(r[r.length-1]);if(!this.options.allowIntersection&&a||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(r){var a=this._map.mouseEventToLayerPoint(r.originalEvent),u=this._map.layerPointToLatLng(a);this._currentLatLng=u,this._updateTooltip(u),this._updateGuide(a),this._mouseMarker.setLatLng(u),L.DomEvent.preventDefault(r.originalEvent)},_vertexChanged:function(r,a){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(r,a),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(r){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(r),this._clickHandled=!0,this._disableNewMarkers();var a=r.originalEvent,u=a.clientX,h=a.clientY;this._startPoint.call(this,u,h)}},_startPoint:function(r,a){this._mouseDownOrigin=L.point(r,a)},_onMouseUp:function(r){var a=r.originalEvent,u=a.clientX,h=a.clientY;this._endPoint.call(this,u,h,r),this._clickHandled=null},_endPoint:function(r,a,u){if(this._mouseDownOrigin){var h=L.point(r,a).distanceTo(this._mouseDownOrigin),d=this._calculateFinishDistance(u.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(u.latlng),this._finishShape()):d<10&&L.Browser.touch?this._finishShape():Math.abs(h)<9*(e.devicePixelRatio||1)&&this.addVertex(u.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(r){var a,u,h=r.originalEvent;!h.touches||!h.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(a=h.touches[0].clientX,u=h.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,a,u),this._endPoint.call(this,a,u,r),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(r){var a;if(this._markers.length>0){var u;if(this.type===L.Draw.Polyline.TYPE)u=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;u=this._markers[0]}var h=this._map.latLngToContainerPoint(u.getLatLng()),d=new L.Marker(r,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),p=this._map.latLngToContainerPoint(d.getLatLng());a=h.distanceTo(p)}else a=1/0;return a},_updateFinishHandler:function(){var r=this._markers.length;r>1&&this._markers[r-1].on("click",this._finishShape,this),r>2&&this._markers[r-2].off("click",this._finishShape,this)},_createMarker:function(r){var a=new L.Marker(r,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(a),a},_updateGuide:function(r){var a=this._markers?this._markers.length:0;a>0&&(r=r||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[a-1].getLatLng()),r))},_updateTooltip:function(r){var a=this._getTooltipText();r&&this._tooltip.updatePosition(r),this._errorShown||this._tooltip.updateContent(a)},_drawGuide:function(r,a){var u,h,d,p=Math.floor(Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2))),y=this.options.guidelineDistance,m=this.options.maxGuideLineLength,g=p>m?p-m:y;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));g<p;g+=this.options.guidelineDistance)u=g/p,h={x:Math.floor(r.x*(1-u)+u*a.x),y:Math.floor(r.y*(1-u)+u*a.y)},d=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),d.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(d,h)},_updateGuideColor:function(r){if(this._guidesContainer)for(var a=0,u=this._guidesContainer.childNodes.length;a<u;a++)this._guidesContainer.childNodes[a].style.backgroundColor=r},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var r,a,u=this.options.showLength;return this._markers.length===0?r={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(a=u?this._getMeasurementString():"",r=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:a}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:a}),r},_updateRunningMeasure:function(r,a){var u,h,d=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(u=d-(a?2:1),h=L.GeometryUtil.isVersion07x()?r.distanceTo(this._markers[u].getLatLng())*(this.options.factor||1):this._map.distance(r,this._markers[u].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=h*(a?1:-1))},_getMeasurementString:function(){var r,a=this._currentLatLng,u=this._markers[this._markers.length-1].getLatLng();return r=L.GeometryUtil.isVersion07x()?u&&a&&a.distanceTo?this._measurementRunningTotal+a.distanceTo(u)*(this.options.factor||1):this._measurementRunningTotal||0:u&&a?this._measurementRunningTotal+this._map.distance(a,u)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(r,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var r=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,r)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(r,a){L.Draw.Polyline.prototype.initialize.call(this,r,a),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var r=this._markers.length;r===1&&this._markers[0].on("click",this._finishShape,this),r>2&&(this._markers[r-1].on("dblclick",this._finishShape,this),r>3&&this._markers[r-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var r,a;return this._markers.length===0?r=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(r=L.drawLocal.draw.handlers.polygon.tooltip.cont,a=this._getMeasurementString()):(r=L.drawLocal.draw.handlers.polygon.tooltip.end,a=this._getMeasurementString()),{text:r,subtext:a}},_getMeasurementString:function(){var r=this._area,a="";return r||this.options.showLength?(this.options.showLength&&(a=L.Draw.Polyline.prototype._getMeasurementString.call(this)),r&&(a+="<br>"+L.GeometryUtil.readableArea(r,this.options.metric,this.options.precision)),a):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(r,a){var u;!this.options.allowIntersection&&this.options.showArea&&(u=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(u)),L.Draw.Polyline.prototype._vertexChanged.call(this,r,a)},_cleanUpShape:function(){var r=this._markers.length;r>0&&(this._markers[0].off("click",this._finishShape,this),r>2&&this._markers[r-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(r,a){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,r,a)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),t.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(t,"mouseup",this._onMouseUp,this),L.DomEvent.off(t,"touchend",this._onMouseUp,this),t.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(r){this._isDrawing=!0,this._startLatLng=r.latlng,L.DomEvent.on(t,"mouseup",this._onMouseUp,this).on(t,"touchend",this._onMouseUp,this).preventDefault(r.originalEvent)},_onMouseMove:function(r){var a=r.latlng;this._tooltip.updatePosition(a),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(a))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(r,a){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,r,a)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(r){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!o(r.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(r){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,r)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,r),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var r=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,r)},_getTooltipText:function(){var r,a,u,h=L.Draw.SimpleShape.prototype._getTooltipText.call(this),d=this._shape,p=this.options.showArea;return d&&(r=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),a=L.GeometryUtil.geodesicArea(r),u=p?L.GeometryUtil.readableArea(a,this.options.metric):""),{text:h.text,subtext:u}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(r,a){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,r,a)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(r){var a=r.latlng;this._tooltip.updatePosition(a),this._mouseMarker.setLatLng(a),this._marker?(a=this._mouseMarker.getLatLng(),this._marker.setLatLng(a)):(this._marker=this._createMarker(a),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(r){return new L.Marker(r,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(r){this._onMouseMove(r),this._onClick()},_fireCreatedEvent:function(){var r=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,r)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(r,a){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,r,a)},_fireCreatedEvent:function(){var r=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,r)},_createMarker:function(r){return new L.CircleMarker(r,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(r,a){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,r,a)},_drawShape:function(r){if(L.GeometryUtil.isVersion07x())var a=this._startLatLng.distanceTo(r);else var a=this._map.distance(this._startLatLng,r);this._shape?this._shape.setRadius(a):(this._shape=new L.Circle(this._startLatLng,a,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var r=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,r)},_onMouseMove:function(r){var a,u=r.latlng,h=this.options.showRadius,d=this.options.metric;if(this._tooltip.updatePosition(u),this._isDrawing){this._drawShape(u),a=this._shape.getRadius().toFixed(1);var p="";h&&(p=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(a,d,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:p})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(r,a){this._marker=r,L.setOptions(this,a)},addHooks:function(){var r=this._marker;r.dragging.enable(),r.on("dragend",this._onDragEnd,r),this._toggleMarkerHighlight()},removeHooks:function(){var r=this._marker;r.dragging.disable(),r.off("dragend",this._onDragEnd,r),this._toggleMarkerHighlight()},_onDragEnd:function(r){var a=r.target;a.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:a})},_toggleMarkerHighlight:function(){var r=this._marker._icon;r&&(r.style.display="none",L.DomUtil.hasClass(r,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(r,"leaflet-edit-marker-selected"),this._offsetMarker(r,-4)):(L.DomUtil.addClass(r,"leaflet-edit-marker-selected"),this._offsetMarker(r,4)),r.style.display="")},_offsetMarker:function(r,a){var u=parseInt(r.style.marginTop,10)-a,h=parseInt(r.style.marginLeft,10)-a;r.style.marginTop=u+"px",r.style.marginLeft=h+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(r){this.latlngs=[r._latlngs],r._holes&&(this.latlngs=this.latlngs.concat(r._holes)),this._poly=r,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(r){for(var a=0;a<this._verticesHandlers.length;a++)r(this._verticesHandlers[a])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(r){r.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(r){r.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(r){r.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var r=0;r<this.latlngs.length;r++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[r],this._poly.options.poly))},_updateLatLngs:function(r){this.latlngs=[r.layer._latlngs],r.layer._holes&&(this.latlngs=this.latlngs.concat(r.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(r,a,u){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=r,u&&u.drawError&&(u.drawError=L.Util.extend({},this.options.drawError,u.drawError)),this._latlngs=a,L.setOptions(this,u)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var r=this._poly,a=r._path;r instanceof L.Polygon||(r.options.fill=!1,r.options.editing&&(r.options.editing.fill=!1)),a&&r.options.editing&&r.options.editing.className&&(r.options.original.className&&r.options.original.className.split(" ").forEach(function(u){L.DomUtil.removeClass(a,u)}),r.options.editing.className.split(" ").forEach(function(u){L.DomUtil.addClass(a,u)})),r.setStyle(r.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var r=this._poly,a=r._path;a&&r.options.editing&&r.options.editing.className&&(r.options.editing.className.split(" ").forEach(function(u){L.DomUtil.removeClass(a,u)}),r.options.original.className&&r.options.original.className.split(" ").forEach(function(u){L.DomUtil.addClass(a,u)})),r.setStyle(r.options.original),r._map&&(r._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var r,a,u,h,d=this._defaultShape();for(r=0,u=d.length;r<u;r++)h=this._createMarker(d[r],r),h.on("click",this._onMarkerClick,this),h.on("contextmenu",this._onContextMenu,this),this._markers.push(h);var p,y;for(r=0,a=u-1;r<u;a=r++)(r!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(p=this._markers[a],y=this._markers[r],this._createMiddleMarker(p,y),this._updatePrevNext(p,y))},_createMarker:function(r,a){var u=new L.Marker.Touch(r,{draggable:!0,icon:this.options.icon});return u._origLatLng=r,u._index=a,u.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(u),u},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var r=this._defaultShape(),a=[].splice.apply(r,arguments);return this._poly._convertLatLngs(r,!0),this._poly.redraw(),a},_removeMarker:function(r){var a=r._index;this._markerGroup.removeLayer(r),this._markers.splice(a,1),this._spliceLatLngs(a,1),this._updateIndexes(a,-1),r.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(r){var a=r.target,u=this._poly,h=L.LatLngUtil.cloneLatLng(a._origLatLng);if(L.extend(a._origLatLng,a._latlng),u.options.poly){var d=u._map._editTooltip;if(!u.options.poly.allowIntersection&&u.intersects()){L.extend(a._origLatLng,h),a.setLatLng(h);var p=u.options.color;u.setStyle({color:this.options.drawError.color}),d&&d.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){u.setStyle({color:p}),d&&d.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}a._middleLeft&&a._middleLeft.setLatLng(this._getMiddleLatLng(a._prev,a)),a._middleRight&&a._middleRight.setLatLng(this._getMiddleLatLng(a,a._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var y=this._poly.getLatLngs();this._poly._convertLatLngs(y,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(r){var a=L.Polygon&&this._poly instanceof L.Polygon?4:3,u=r.target;this._defaultShape().length<a||(this._removeMarker(u),this._updatePrevNext(u._prev,u._next),u._middleLeft&&this._markerGroup.removeLayer(u._middleLeft),u._middleRight&&this._markerGroup.removeLayer(u._middleRight),u._prev&&u._next?this._createMiddleMarker(u._prev,u._next):u._prev?u._next||(u._prev._middleRight=null):u._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(r){var a=r.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:a,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(r){var a=this._map.mouseEventToLayerPoint(r.originalEvent.touches[0]),u=this._map.layerPointToLatLng(a),h=r.target;L.extend(h._origLatLng,u),h._middleLeft&&h._middleLeft.setLatLng(this._getMiddleLatLng(h._prev,h)),h._middleRight&&h._middleRight.setLatLng(this._getMiddleLatLng(h,h._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(r,a){this._markerGroup.eachLayer(function(u){u._index>r&&(u._index+=a)})},_createMiddleMarker:function(r,a){var u,h,d,p=this._getMiddleLatLng(r,a),y=this._createMarker(p);y.setOpacity(.6),r._middleRight=a._middleLeft=y,h=function(){y.off("touchmove",h,this);var m=a._index;y._index=m,y.off("click",u,this).on("click",this._onMarkerClick,this),p.lat=y.getLatLng().lat,p.lng=y.getLatLng().lng,this._spliceLatLngs(m,0,p),this._markers.splice(m,0,y),y.setOpacity(1),this._updateIndexes(m,1),a._index++,this._updatePrevNext(r,y),this._updatePrevNext(y,a),this._poly.fire("editstart")},d=function(){y.off("dragstart",h,this),y.off("dragend",d,this),y.off("touchmove",h,this),this._createMiddleMarker(r,y),this._createMiddleMarker(y,a)},u=function(){h.call(this),d.call(this),this._fireEdit()},y.on("click",u,this).on("dragstart",h,this).on("dragend",d,this).on("touchmove",h,this),this._markerGroup.addLayer(y)},_updatePrevNext:function(r,a){r&&(r._next=a),a&&(a._prev=r)},_getMiddleLatLng:function(r,a){var u=this._poly._map,h=u.project(r.getLatLng()),d=u.project(a.getLatLng());return u.unproject(h._add(d)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(r,a){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=r,L.Util.setOptions(this,a)},addHooks:function(){var r=this._shape;this._shape._map&&(this._map=this._shape._map,r.setStyle(r.options.editing),r._map&&(this._map=r._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var r=this._shape;if(r.setStyle(r.options.original),r._map){this._unbindMarker(this._moveMarker);for(var a=0,u=this._resizeMarkers.length;a<u;a++)this._unbindMarker(this._resizeMarkers[a]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(r,a){var u=new L.Marker.Touch(r,{draggable:!0,icon:a,zIndexOffset:10});return this._bindMarker(u),this._markerGroup.addLayer(u),u},_bindMarker:function(r){r.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(r){r.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(r){r.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(r){var a=r.target,u=a.getLatLng();a===this._moveMarker?this._move(u):this._resize(u),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(r){r.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(r){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,r),typeof this._getCorners=="function"){var a=this._getCorners(),u=r.target,h=u._cornerIndex;u.setOpacity(0),this._oppositeCorner=a[(h+2)%4],this._toggleCornerMarkers(0,h)}this._shape.fire("editstart")},_onTouchMove:function(r){var a=this._map.mouseEventToLayerPoint(r.originalEvent.touches[0]),u=this._map.layerPointToLatLng(a);return r.target===this._moveMarker?this._move(u):this._resize(u),this._shape.redraw(),!1},_onTouchEnd:function(r){r.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var r=this._shape.getBounds(),a=r.getCenter();this._moveMarker=this._createMarker(a,this.options.moveIcon)},_createResizeMarker:function(){var r=this._getCorners();this._resizeMarkers=[];for(var a=0,u=r.length;a<u;a++)this._resizeMarkers.push(this._createMarker(r[a],this.options.resizeIcon)),this._resizeMarkers[a]._cornerIndex=a},_onMarkerDragStart:function(r){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,r);var a=this._getCorners(),u=r.target,h=u._cornerIndex;this._oppositeCorner=a[(h+2)%4],this._toggleCornerMarkers(0,h)},_onMarkerDragEnd:function(r){var a,u,h=r.target;h===this._moveMarker&&(a=this._shape.getBounds(),u=a.getCenter(),h.setLatLng(u)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,r)},_move:function(r){for(var a,u=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),h=this._shape.getBounds(),d=h.getCenter(),p=[],y=0,m=u.length;y<m;y++)a=[u[y].lat-d.lat,u[y].lng-d.lng],p.push([r.lat+a[0],r.lng+a[1]]);this._shape.setLatLngs(p),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(r){var a;this._shape.setBounds(L.latLngBounds(r,this._oppositeCorner)),a=this._shape.getBounds(),this._moveMarker.setLatLng(a.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var r=this._shape.getBounds();return[r.getNorthWest(),r.getNorthEast(),r.getSouthEast(),r.getSouthWest()]},_toggleCornerMarkers:function(r){for(var a=0,u=this._resizeMarkers.length;a<u;a++)this._resizeMarkers[a].setOpacity(r)},_repositionCornerMarkers:function(){for(var r=this._getCorners(),a=0,u=this._resizeMarkers.length;a<u;a++)this._resizeMarkers[a].setLatLng(r[a])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var r=this._shape.getLatLng();this._moveMarker=this._createMarker(r,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(r){if(this._resizeMarkers.length){var a=this._getResizeMarkerPoint(r);this._resizeMarkers[0].setLatLng(a)}this._shape.setLatLng(r),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var r=this._shape.getLatLng(),a=this._getResizeMarkerPoint(r);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(a,this.options.resizeIcon))},_getResizeMarkerPoint:function(r){var a=this._shape._radius*Math.cos(Math.PI/4),u=this._map.project(r);return this._map.unproject([u.x+a,u.y-a])},_resize:function(r){var a=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=a.distanceTo(r):radius=this._map.distance(a,r),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(r,a){var u={};if(r.touches!==void 0){if(!r.touches.length)return;u=r.touches[0]}else if(r.pointerType!=="touch"||(u=r,!this._filterClick(r)))return;var h=this._map.mouseEventToContainerPoint(u),d=this._map.mouseEventToLayerPoint(u),p=this._map.layerPointToLatLng(d);this._map.fire(a,{latlng:p,layerPoint:d,containerPoint:h,pageX:u.pageX,pageY:u.pageY,originalEvent:r})},_filterClick:function(r){var a=r.timeStamp||r.originalEvent.timeStamp,u=L.DomEvent._lastClick&&a-L.DomEvent._lastClick;return u&&u>100&&u<500||r.target._simulatedClick&&!r._simulated?(L.DomEvent.stop(r),!1):(L.DomEvent._lastClick=a,!0)},_onTouchStart:function(r){this._map._loaded&&this._touchEvent(r,"touchstart")},_onTouchEnd:function(r){this._map._loaded&&this._touchEvent(r,"touchend")},_onTouchCancel:function(r){if(this._map._loaded){var a="touchcancel";this._detectIE()&&(a="pointercancel"),this._touchEvent(r,a)}},_onTouchLeave:function(r){this._map._loaded&&this._touchEvent(r,"touchleave")},_onTouchMove:function(r){this._map._loaded&&this._touchEvent(r,"touchmove")},_detectIE:function(){var r=e.navigator.userAgent,a=r.indexOf("MSIE ");if(a>0)return parseInt(r.substring(a+5,r.indexOf(".",a)),10);if(r.indexOf("Trident/")>0){var u=r.indexOf("rv:");return parseInt(r.substring(u+3,r.indexOf(".",u)),10)}var h=r.indexOf("Edge/");return h>0&&parseInt(r.substring(h+5,r.indexOf(".",h)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var r=this._icon,a=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?a.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):a.concat(["touchcancel"]),L.DomUtil.addClass(r,"leaflet-clickable"),L.DomEvent.on(r,"click",this._onMouseClick,this),L.DomEvent.on(r,"keypress",this._onKeyPress,this);for(var u=0;u<a.length;u++)L.DomEvent.on(r,a[u],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var r=e.navigator.userAgent,a=r.indexOf("MSIE ");if(a>0)return parseInt(r.substring(a+5,r.indexOf(".",a)),10);if(r.indexOf("Trident/")>0){var u=r.indexOf("rv:");return parseInt(r.substring(u+3,r.indexOf(".",u)),10)}var h=r.indexOf("Edge/");return h>0&&parseInt(r.substring(h+5,r.indexOf(".",h)),10)}}),L.LatLngUtil={cloneLatLngs:function(r){for(var a=[],u=0,h=r.length;u<h;u++)Array.isArray(r[u])?a.push(L.LatLngUtil.cloneLatLngs(r[u])):a.push(this.cloneLatLng(r[u]));return a},cloneLatLng:function(r){return L.latLng(r.lat,r.lng)}},function(){var r={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(a){var u,h,d=a.length,p=0,y=Math.PI/180;if(d>2){for(var m=0;m<d;m++)u=a[m],h=a[(m+1)%d],p+=(h.lng-u.lng)*y*(2+Math.sin(u.lat*y)+Math.sin(h.lat*y));p=6378137*p*6378137/2}return Math.abs(p)},formattedNumber:function(a,u){var h=parseFloat(a).toFixed(u),d=L.drawLocal.format&&L.drawLocal.format.numeric,p=d&&d.delimiters,y=p&&p.thousands,m=p&&p.decimal;if(y||m){var g=h.split(".");h=y?g[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+y):g[0],m=m||".",g.length>1&&(h=h+m+g[1])}return h},readableArea:function(a,u,y){var d,p,y=L.Util.extend({},r,y);return u?(p=["ha","m"],type=typeof u,type==="string"?p=[u]:type!=="boolean"&&(p=u),d=a>=1e6&&p.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*a,y.km)+" km":a>=1e4&&p.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*a,y.ha)+" ha":L.GeometryUtil.formattedNumber(a,y.m)+" m"):(a/=.836127,d=a>=3097600?L.GeometryUtil.formattedNumber(a/3097600,y.mi)+" mi":a>=4840?L.GeometryUtil.formattedNumber(a/4840,y.ac)+" acres":L.GeometryUtil.formattedNumber(a,y.yd)+" yd"),d},readableDistance:function(a,u,h,d,m){var y,m=L.Util.extend({},r,m);switch(u?typeof u=="string"?u:"metric":h?"feet":d?"nauticalMile":"yards"){case"metric":y=a>1e3?L.GeometryUtil.formattedNumber(a/1e3,m.km)+" km":L.GeometryUtil.formattedNumber(a,m.m)+" m";break;case"feet":a*=3.28083,y=L.GeometryUtil.formattedNumber(a,m.ft)+" ft";break;case"nauticalMile":a*=.53996,y=L.GeometryUtil.formattedNumber(a/1e3,m.nm)+" nm";break;case"yards":default:a*=1.09361,y=a>1760?L.GeometryUtil.formattedNumber(a/1760,m.mi)+" miles":L.GeometryUtil.formattedNumber(a,m.yd)+" yd"}return y},isVersion07x:function(){var a=L.version.split(".");return parseInt(a[0],10)===0&&parseInt(a[1],10)===7}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(r,a,u,h){return this._checkCounterclockwise(r,u,h)!==this._checkCounterclockwise(a,u,h)&&this._checkCounterclockwise(r,a,u)!==this._checkCounterclockwise(r,a,h)},_checkCounterclockwise:function(r,a,u){return(u.y-r.y)*(a.x-r.x)>(a.y-r.y)*(u.x-r.x)}}),L.Polyline.include({intersects:function(){var r,a,u,h=this._getProjectedPoints(),d=h?h.length:0;if(this._tooFewPointsForIntersection())return!1;for(r=d-1;r>=3;r--)if(a=h[r-1],u=h[r],this._lineSegmentsIntersectsRange(a,u,r-2))return!0;return!1},newLatLngIntersects:function(r,a){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(r),a)},newPointIntersects:function(r,a){var u=this._getProjectedPoints(),h=u?u.length:0,d=u?u[h-1]:null,p=h-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(d,r,p,a?1:0)},_tooFewPointsForIntersection:function(r){var a=this._getProjectedPoints(),u=a?a.length:0;return u+=r||0,!a||u<=3},_lineSegmentsIntersectsRange:function(r,a,u,h){var d,p,y=this._getProjectedPoints();h=h||0;for(var m=u;m>h;m--)if(d=y[m-1],p=y[m],L.LineUtil.segmentsIntersect(r,a,d,p))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var r=[],a=this._defaultShape(),u=0;u<a.length;u++)r.push(this._map.latLngToLayerPoint(a[u]));return r}}),L.Polygon.include({intersects:function(){var r,a,u,h,d=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(r=d.length,a=d[0],u=d[r-1],h=r-2,this._lineSegmentsIntersectsRange(u,a,h,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(r){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,r);var a;this._toolbars={},L.DrawToolbar&&this.options.draw&&(a=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=a,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(a=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=a,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(r){var a,u=L.DomUtil.create("div","leaflet-draw"),h=!1;for(var d in this._toolbars)this._toolbars.hasOwnProperty(d)&&(a=this._toolbars[d].addToolbar(r))&&(h||(L.DomUtil.hasClass(a,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(a.childNodes[0],"leaflet-draw-toolbar-top"),h=!0),u.appendChild(a));return u},onRemove:function(){for(var r in this._toolbars)this._toolbars.hasOwnProperty(r)&&this._toolbars[r].removeToolbar()},setDrawingOptions:function(r){for(var a in this._toolbars)this._toolbars[a]instanceof L.DrawToolbar&&this._toolbars[a].setOptions(r)},_toolbarEnabled:function(r){var a=r.target;for(var u in this._toolbars)this._toolbars[u]!==a&&this._toolbars[u].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(r){L.setOptions(this,r),this._modes={},this._actionButtons=[],this._activeMode=null;var a=L.version.split(".");parseInt(a[0],10)===1&&parseInt(a[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(r){var a,u=L.DomUtil.create("div","leaflet-draw-section"),h=0,d=this._toolbarClass||"",p=this.getModeHandlers(r);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=r,a=0;a<p.length;a++)p[a].enabled&&this._initModeHandler(p[a].handler,this._toolbarContainer,h++,d,p[a].title);if(h)return this._lastButtonIndex=--h,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),u.appendChild(this._toolbarContainer),u.appendChild(this._actionsContainer),u},removeToolbar:function(){for(var r in this._modes)this._modes.hasOwnProperty(r)&&(this._disposeButton(this._modes[r].button,this._modes[r].handler.enable,this._modes[r].handler),this._modes[r].handler.disable(),this._modes[r].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var a=0,u=this._actionButtons.length;a<u;a++)this._disposeButton(this._actionButtons[a].button,this._actionButtons[a].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(r,a,u,h,d){var p=r.type;this._modes[p]={},this._modes[p].handler=r,this._modes[p].button=this._createButton({type:p,title:d,className:h+"-"+p,container:a,callback:this._modes[p].handler.enable,context:this._modes[p].handler}),this._modes[p].buttonIndex=u,this._modes[p].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!e.MSStream},_createButton:function(r){var a=L.DomUtil.create("a",r.className||"",r.container),u=L.DomUtil.create("span","sr-only",r.container);a.href="#",a.appendChild(u),r.title&&(a.title=r.title,u.innerHTML=r.title),r.text&&(a.innerHTML=r.text,u.innerHTML=r.text);var h=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(a,"click",L.DomEvent.stopPropagation).on(a,"mousedown",L.DomEvent.stopPropagation).on(a,"dblclick",L.DomEvent.stopPropagation).on(a,"touchstart",L.DomEvent.stopPropagation).on(a,"click",L.DomEvent.preventDefault).on(a,h,r.callback,r.context),a},_disposeButton:function(r,a){var u=this._detectIOS()?"touchstart":"click";L.DomEvent.off(r,"click",L.DomEvent.stopPropagation).off(r,"mousedown",L.DomEvent.stopPropagation).off(r,"dblclick",L.DomEvent.stopPropagation).off(r,"touchstart",L.DomEvent.stopPropagation).off(r,"click",L.DomEvent.preventDefault).off(r,u,a)},_handlerActivated:function(r){this.disable(),this._activeMode=this._modes[r.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(r){var a,u,h,d,p=this._actionsContainer,y=this.getActions(r),m=y.length;for(u=0,h=this._actionButtons.length;u<h;u++)this._disposeButton(this._actionButtons[u].button,this._actionButtons[u].callback);for(this._actionButtons=[];p.firstChild;)p.removeChild(p.firstChild);for(var g=0;g<m;g++)"enabled"in y[g]&&!y[g].enabled||(a=L.DomUtil.create("li","",p),d=this._createButton({title:y[g].title,text:y[g].text,container:a,callback:y[g].callback,context:y[g].context}),this._actionButtons.push({button:d,callback:y[g].callback}))},_showActionsToolbar:function(){var r=this._activeMode.buttonIndex,a=this._lastButtonIndex,u=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=u+"px",r===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),r===a&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(r){this._map=r,this._popupPane=r._panes.popupPane,this._visible=!1,this._container=r.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(r){return this._container?(r.subtext=r.subtext||"",r.subtext.length!==0||this._singleLineLabel?r.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(r.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+r.subtext+"</span><br />":"")+"<span>"+r.text+"</span>",r.text||r.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(r){var a=this._map.latLngToLayerPoint(r),u=this._container;return this._container&&(this._visible&&(u.style.visibility="inherit"),L.DomUtil.setPosition(u,a)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(r){for(var a in this.options)this.options.hasOwnProperty(a)&&r[a]&&(r[a]=L.extend({},this.options[a],r[a]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,r)},getModeHandlers:function(r){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(r,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(r,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(r,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(r,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(r,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(r,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(r){return[{enabled:r.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:r.completeShape,context:r},{enabled:r.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:r.deleteLastVertex,context:r},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(r){L.setOptions(this,r);for(var a in this._modes)this._modes.hasOwnProperty(a)&&r.hasOwnProperty(a)&&this._modes[a].handler.setOptions(r[a])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(r){r.edit&&(r.edit.selectedPathOptions===void 0&&(r.edit.selectedPathOptions=this.options.edit.selectedPathOptions),r.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,r.edit.selectedPathOptions)),r.remove&&(r.remove=L.extend({},this.options.remove,r.remove)),r.poly&&(r.poly=L.extend({},this.options.poly,r.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,r),this._selectedFeatureCount=0},getModeHandlers:function(r){var a=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(r,{featureGroup:a,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(r,{featureGroup:a}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(r){var a=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return r.removeAllLayers&&a.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),a},addToolbar:function(r){var a=L.Toolbar.prototype.addToolbar.call(this,r);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),a},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var r,a=this.options.featureGroup,u=a.getLayers().length!==0;this.options.edit&&(r=this._modes[L.EditToolbar.Edit.TYPE].button,u?L.DomUtil.removeClass(r,"leaflet-disabled"):L.DomUtil.addClass(r,"leaflet-disabled"),r.setAttribute("title",u?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(r=this._modes[L.EditToolbar.Delete.TYPE].button,u?L.DomUtil.removeClass(r,"leaflet-disabled"):L.DomUtil.addClass(r,"leaflet-disabled"),r.setAttribute("title",u?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(r,a){if(L.Handler.prototype.initialize.call(this,r),L.setOptions(this,a),this._featureGroup=a.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var u=L.version.split(".");parseInt(u[0],10)===1&&parseInt(u[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var r=this._map;r&&(r.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),r._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(r){this._revertLayer(r)},this)},save:function(){var r=new L.LayerGroup;this._featureGroup.eachLayer(function(a){a.edited&&(r.addLayer(a),a.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:r})},_backupLayer:function(r){var a=L.Util.stamp(r);this._uneditedLayerProps[a]||(r instanceof L.Polyline||r instanceof L.Polygon||r instanceof L.Rectangle?this._uneditedLayerProps[a]={latlngs:L.LatLngUtil.cloneLatLngs(r.getLatLngs())}:r instanceof L.Circle?this._uneditedLayerProps[a]={latlng:L.LatLngUtil.cloneLatLng(r.getLatLng()),radius:r.getRadius()}:(r instanceof L.Marker||r instanceof L.CircleMarker)&&(this._uneditedLayerProps[a]={latlng:L.LatLngUtil.cloneLatLng(r.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(r){var a=L.Util.stamp(r);r.edited=!1,this._uneditedLayerProps.hasOwnProperty(a)&&(r instanceof L.Polyline||r instanceof L.Polygon||r instanceof L.Rectangle?r.setLatLngs(this._uneditedLayerProps[a].latlngs):r instanceof L.Circle?(r.setLatLng(this._uneditedLayerProps[a].latlng),r.setRadius(this._uneditedLayerProps[a].radius)):(r instanceof L.Marker||r instanceof L.CircleMarker)&&r.setLatLng(this._uneditedLayerProps[a].latlng),r.fire("revert-edited",{layer:r}))},_enableLayerEdit:function(r){var a,u,h=r.layer||r.target||r;this._backupLayer(h),this.options.poly&&(u=L.Util.extend({},this.options.poly),h.options.poly=u),this.options.selectedPathOptions&&(a=L.Util.extend({},this.options.selectedPathOptions),a.maintainColor&&(a.color=h.options.color,a.fillColor=h.options.fillColor),h.options.original=L.extend({},h.options),h.options.editing=a),h instanceof L.Marker?(h.editing&&h.editing.enable(),h.dragging.enable(),h.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):h.editing.enable()},_disableLayerEdit:function(r){var a=r.layer||r.target||r;a.edited=!1,a.editing&&a.editing.disable(),delete a.options.editing,delete a.options.original,this._selectedPathOptions&&(a instanceof L.Marker?this._toggleMarkerHighlight(a):(a.setStyle(a.options.previousOptions),delete a.options.previousOptions)),a instanceof L.Marker?(a.dragging.disable(),a.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):a.editing.disable()},_onMouseMove:function(r){this._tooltip.updatePosition(r.latlng)},_onMarkerDragEnd:function(r){var a=r.target;a.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:a})},_onTouchMove:function(r){var a=r.originalEvent.changedTouches[0],u=this._map.mouseEventToLayerPoint(a),h=this._map.layerPointToLatLng(u);r.target.setLatLng(h)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(r,a){if(L.Handler.prototype.initialize.call(this,r),L.Util.setOptions(this,a),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var u=L.version.split(".");parseInt(u[0],10)===1&&parseInt(u[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var r=this._map;r&&(r.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(r){this._deletableLayers.addLayer(r),r.fire("revert-deleted",{layer:r})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(r){this._removeLayer({layer:r})},this),this.save()},_enableLayerDelete:function(r){(r.layer||r.target||r).on("click",this._removeLayer,this)},_disableLayerDelete:function(r){var a=r.layer||r.target||r;a.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(a)},_removeLayer:function(r){var a=r.layer||r.target||r;this._deletableLayers.removeLayer(a),this._deletedLayers.addLayer(a),a.fire("deleted")},_onMouseMove:function(r){this._tooltip.updatePosition(r.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);const Ry={},gd=e=>{let t;const i=new Set,o=(y,m)=>{const g=typeof y=="function"?y(t):y;if(!Object.is(g,t)){const S=t;t=m??(typeof g!="object"||g===null)?g:Object.assign({},t,g),i.forEach(C=>C(t,S))}},r=()=>t,d={setState:o,getState:r,getInitialState:()=>p,subscribe:y=>(i.add(y),()=>i.delete(y)),destroy:()=>{(Ry?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},p=t=e(o,r,d);return d},Ay=e=>e?gd(e):gd;var am={exports:{}},lm={},um={exports:{}},cm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Di=F;function jy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var By=typeof Object.is=="function"?Object.is:jy,Fy=Di.useState,Hy=Di.useEffect,Zy=Di.useLayoutEffect,Uy=Di.useDebugValue;function Wy(e,t){var i=t(),o=Fy({inst:{value:i,getSnapshot:t}}),r=o[0].inst,a=o[1];return Zy(function(){r.value=i,r.getSnapshot=t,Ha(r)&&a({inst:r})},[e,i,t]),Hy(function(){return Ha(r)&&a({inst:r}),e(function(){Ha(r)&&a({inst:r})})},[e]),Uy(i),i}function Ha(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!By(e,i)}catch{return!0}}function Gy(e,t){return t()}var Vy=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Gy:Wy;cm.useSyncExternalStore=Di.useSyncExternalStore!==void 0?Di.useSyncExternalStore:Vy;um.exports=cm;var $y=um.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Os=F,Yy=$y;function Ky(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qy=typeof Object.is=="function"?Object.is:Ky,Xy=Yy.useSyncExternalStore,qy=Os.useRef,Jy=Os.useEffect,e0=Os.useMemo,t0=Os.useDebugValue;lm.useSyncExternalStoreWithSelector=function(e,t,i,o,r){var a=qy(null);if(a.current===null){var u={hasValue:!1,value:null};a.current=u}else u=a.current;a=e0(function(){function d(S){if(!p){if(p=!0,y=S,S=o(S),r!==void 0&&u.hasValue){var C=u.value;if(r(C,S))return m=C}return m=S}if(C=m,Qy(y,S))return C;var P=o(S);return r!==void 0&&r(C,P)?(y=S,C):(y=S,m=P)}var p=!1,y,m,g=i===void 0?null:i;return[function(){return d(t())},g===null?void 0:function(){return d(g())}]},[t,i,o,r]);var h=Xy(e,a[0],a[1]);return Jy(function(){u.hasValue=!0,u.value=h},[h]),t0(h),h};am.exports=lm;var n0=am.exports;const i0=Xl(n0),hm={},{useDebugValue:r0}=ki,{useSyncExternalStoreWithSelector:o0}=i0;let vd=!1;const s0=e=>e;function a0(e,t=s0,i){(hm?"production":void 0)!=="production"&&i&&!vd&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),vd=!0);const o=o0(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,i);return r0(o),o}const yd=e=>{(hm?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Ay(e):e,i=(o,r)=>a0(t,o,r);return Object.assign(i,t),i},l0=e=>e?yd(e):yd;let Mo=null;const Ur=l0((e,t)=>({activeTool:null,features:[],error:null,setActiveTool:i=>{const o=t().activeTool;console.log(` Store: Setting active tool from ${o} to ${i}`),Mo&&clearTimeout(Mo),Mo=setTimeout(()=>{e({activeTool:i,error:null}),Mo=null},10)},isToolActive:i=>t().activeTool===i,addFeature:i=>{console.log(` Store: Adding feature ${i.properties.type}`),e(o=>({features:[...o.features,i],error:null}))},removeFeature:i=>e(o=>({features:o.features.filter(r=>r.properties.id!==i)})),removeLastFeature:()=>{const i=t().features;if(i.length>0){const o=i[i.length-1];console.log(` Store: Removing last feature (${o.properties.type})`),e(r=>({features:r.features.slice(0,-1),error:null}))}else console.log(" Store: No features to remove")},updateFeature:(i,o)=>e(r=>({features:r.features.map(a=>a.properties.id===i?{...a,...o}:a)})),setError:i=>{console.log(" Store: Setting error:",i),e({error:i})},clearAllFeatures:()=>{console.log(" Store: Clearing all features"),e({features:[],error:null})}}));var Je=63710088e-1,u0={centimeters:Je*100,centimetres:Je*100,degrees:Je/111325,feet:Je*3.28084,inches:Je*39.37,kilometers:Je/1e3,kilometres:Je/1e3,meters:Je,metres:Je,miles:Je/1609.344,millimeters:Je*1e3,millimetres:Je*1e3,nauticalmiles:Je/1852,radians:1,yards:Je*1.0936};function Ni(e,t,i){i===void 0&&(i={});var o={type:"Feature"};return(i.id===0||i.id)&&(o.id=i.id),i.bbox&&(o.bbox=i.bbox),o.properties=t||{},o.geometry=e,o}function Zl(e,t,i){if(i===void 0&&(i={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!wd(e[0])||!wd(e[1]))throw new Error("coordinates must contain numbers");var o={type:"Point",coordinates:e};return Ni(o,t,i)}function dm(e,t,i){i===void 0&&(i={});for(var o=0,r=e;o<r.length;o++){var a=r[o];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var u=0;u<a[a.length-1].length;u++)if(a[a.length-1][u]!==a[0][u])throw new Error("First and last Position are not equivalent.")}var h={type:"Polygon",coordinates:e};return Ni(h,t,i)}function c0(e,t,i){if(i===void 0&&(i={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");var o={type:"LineString",coordinates:e};return Ni(o,t,i)}function fm(e,t){t===void 0&&(t={});var i={type:"FeatureCollection"};return t.id&&(i.id=t.id),t.bbox&&(i.bbox=t.bbox),i.features=e,i}function pm(e,t,i){i===void 0&&(i={});var o={type:"MultiPolygon",coordinates:e};return Ni(o,t,i)}function h0(e,t){t===void 0&&(t="kilometers");var i=u0[t];if(!i)throw new Error(t+" units is invalid");return e*i}function To(e){var t=e%360;return t*Math.PI/180}function wd(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function Ir(e,t,i){if(e!==null)for(var o,r,a,u,h,d,p,y=0,m=0,g,S=e.type,C=S==="FeatureCollection",P=S==="Feature",D=C?e.features.length:1,w=0;w<D;w++){p=C?e.features[w].geometry:P?e.geometry:e,g=p?p.type==="GeometryCollection":!1,h=g?p.geometries.length:1;for(var x=0;x<h;x++){var k=0,T=0;if(u=g?p.geometries[x]:p,u!==null){d=u.coordinates;var N=u.type;switch(y=0,N){case null:break;case"Point":if(t(d,m,w,k,T)===!1)return!1;m++,k++;break;case"LineString":case"MultiPoint":for(o=0;o<d.length;o++){if(t(d[o],m,w,k,T)===!1)return!1;m++,N==="MultiPoint"&&k++}N==="LineString"&&k++;break;case"Polygon":case"MultiLineString":for(o=0;o<d.length;o++){for(r=0;r<d[o].length-y;r++){if(t(d[o][r],m,w,k,T)===!1)return!1;m++}N==="MultiLineString"&&k++,N==="Polygon"&&T++}N==="Polygon"&&k++;break;case"MultiPolygon":for(o=0;o<d.length;o++){for(T=0,r=0;r<d[o].length;r++){for(a=0;a<d[o][r].length-y;a++){if(t(d[o][r][a],m,w,k,T)===!1)return!1;m++}T++}k++}break;case"GeometryCollection":for(o=0;o<u.geometries.length;o++)if(Ir(u.geometries[o],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function d0(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var i=0;i<e.features.length&&t(e.features[i],i)!==!1;i++);}function mm(e,t){var i,o,r,a,u,h,d,p,y,m,g=0,S=e.type==="FeatureCollection",C=e.type==="Feature",P=S?e.features.length:1;for(i=0;i<P;i++){for(h=S?e.features[i].geometry:C?e.geometry:e,p=S?e.features[i].properties:C?e.properties:{},y=S?e.features[i].bbox:C?e.bbox:void 0,m=S?e.features[i].id:C?e.id:void 0,d=h?h.type==="GeometryCollection":!1,u=d?h.geometries.length:1,r=0;r<u;r++){if(a=d?h.geometries[r]:h,a===null){if(t(null,g,p,y,m)===!1)return!1;continue}switch(a.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(a,g,p,y,m)===!1)return!1;break}case"GeometryCollection":{for(o=0;o<a.geometries.length;o++)if(t(a.geometries[o],g,p,y,m)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}g++}}function f0(e,t,i){var o=i;return mm(e,function(r,a,u,h,d){o=t(o,r,a,u,h,d)}),o}function _m(e,t){mm(e,function(i,o,r,a,u){var h=i===null?null:i.type;switch(h){case null:case"Point":case"LineString":case"Polygon":return t(Ni(i,r,{bbox:a,id:u}),o,0)===!1?!1:void 0}var d;switch(h){case"MultiPoint":d="Point";break;case"MultiLineString":d="LineString";break;case"MultiPolygon":d="Polygon";break}for(var p=0;p<i.coordinates.length;p++){var y=i.coordinates[p],m={type:d,coordinates:y};if(t(Ni(m,r),o,p)===!1)return!1}})}function p0(e,t){_m(e,function(i,o,r){var a=0;if(i.geometry){var u=i.geometry.type;if(!(u==="Point"||u==="MultiPoint")){var h,d=0,p=0,y=0;if(Ir(i,function(m,g,S,C,P){if(h===void 0||o>d||C>p||P>y){h=m,d=o,p=C,y=P,a=0;return}var D=c0([h,m],i.properties);if(t(D,o,r,P,a)===!1)return!1;a++,h=m})===!1)return!1}}})}function m0(e,t,i){var o=i,r=!1;return p0(e,function(a,u,h,d,p){r===!1&&i===void 0?o=a:o=t(o,a,u,h,d,p),r=!0}),o}function fs(e){var t=[1/0,1/0,-1/0,-1/0];return Ir(e,function(i){t[0]>i[0]&&(t[0]=i[0]),t[1]>i[1]&&(t[1]=i[1]),t[2]<i[0]&&(t[2]=i[0]),t[3]<i[1]&&(t[3]=i[1])}),t}fs.default=fs;function Ul(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return e.geometry.coordinates;if(e.type==="Point")return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Rr(e){return e.type==="Feature"?e.geometry:e}const Kt=11102230246251565e-32,He=134217729,_0=(3+8*Kt)*Kt;function Za(e,t,i,o,r){let a,u,h,d,p=t[0],y=o[0],m=0,g=0;y>p==y>-p?(a=p,p=t[++m]):(a=y,y=o[++g]);let S=0;if(m<e&&g<i)for(y>p==y>-p?(u=p+a,h=a-(u-p),p=t[++m]):(u=y+a,h=a-(u-y),y=o[++g]),a=u,h!==0&&(r[S++]=h);m<e&&g<i;)y>p==y>-p?(u=a+p,d=u-a,h=a-(u-d)+(p-d),p=t[++m]):(u=a+y,d=u-a,h=a-(u-d)+(y-d),y=o[++g]),a=u,h!==0&&(r[S++]=h);for(;m<e;)u=a+p,d=u-a,h=a-(u-d)+(p-d),p=t[++m],a=u,h!==0&&(r[S++]=h);for(;g<i;)u=a+y,d=u-a,h=a-(u-d)+(y-d),y=o[++g],a=u,h!==0&&(r[S++]=h);return(a!==0||S===0)&&(r[S++]=a),S}function g0(e,t){let i=t[0];for(let o=1;o<e;o++)i+=t[o];return i}function Wr(e){return new Float64Array(e)}const v0=(3+16*Kt)*Kt,y0=(2+12*Kt)*Kt,w0=(9+64*Kt)*Kt*Kt,ri=Wr(4),xd=Wr(8),Ld=Wr(12),kd=Wr(16),Ge=Wr(4);function x0(e,t,i,o,r,a,u){let h,d,p,y,m,g,S,C,P,D,w,x,k,T,N,R,A,j;const $=e-r,G=i-r,Q=t-a,ne=o-a;T=$*ne,g=He*$,S=g-(g-$),C=$-S,g=He*ne,P=g-(g-ne),D=ne-P,N=C*D-(T-S*P-C*P-S*D),R=Q*G,g=He*Q,S=g-(g-Q),C=Q-S,g=He*G,P=g-(g-G),D=G-P,A=C*D-(R-S*P-C*P-S*D),w=N-A,m=N-w,ri[0]=N-(w+m)+(m-A),x=T+w,m=x-T,k=T-(x-m)+(w-m),w=k-R,m=k-w,ri[1]=k-(w+m)+(m-R),j=x+w,m=j-x,ri[2]=x-(j-m)+(w-m),ri[3]=j;let xe=g0(4,ri),U=y0*u;if(xe>=U||-xe>=U||(m=e-$,h=e-($+m)+(m-r),m=i-G,p=i-(G+m)+(m-r),m=t-Q,d=t-(Q+m)+(m-a),m=o-ne,y=o-(ne+m)+(m-a),h===0&&d===0&&p===0&&y===0)||(U=w0*u+_0*Math.abs(xe),xe+=$*y+ne*h-(Q*p+G*d),xe>=U||-xe>=U))return xe;T=h*ne,g=He*h,S=g-(g-h),C=h-S,g=He*ne,P=g-(g-ne),D=ne-P,N=C*D-(T-S*P-C*P-S*D),R=d*G,g=He*d,S=g-(g-d),C=d-S,g=He*G,P=g-(g-G),D=G-P,A=C*D-(R-S*P-C*P-S*D),w=N-A,m=N-w,Ge[0]=N-(w+m)+(m-A),x=T+w,m=x-T,k=T-(x-m)+(w-m),w=k-R,m=k-w,Ge[1]=k-(w+m)+(m-R),j=x+w,m=j-x,Ge[2]=x-(j-m)+(w-m),Ge[3]=j;const ae=Za(4,ri,4,Ge,xd);T=$*y,g=He*$,S=g-(g-$),C=$-S,g=He*y,P=g-(g-y),D=y-P,N=C*D-(T-S*P-C*P-S*D),R=Q*p,g=He*Q,S=g-(g-Q),C=Q-S,g=He*p,P=g-(g-p),D=p-P,A=C*D-(R-S*P-C*P-S*D),w=N-A,m=N-w,Ge[0]=N-(w+m)+(m-A),x=T+w,m=x-T,k=T-(x-m)+(w-m),w=k-R,m=k-w,Ge[1]=k-(w+m)+(m-R),j=x+w,m=j-x,Ge[2]=x-(j-m)+(w-m),Ge[3]=j;const re=Za(ae,xd,4,Ge,Ld);T=h*y,g=He*h,S=g-(g-h),C=h-S,g=He*y,P=g-(g-y),D=y-P,N=C*D-(T-S*P-C*P-S*D),R=d*p,g=He*d,S=g-(g-d),C=d-S,g=He*p,P=g-(g-p),D=p-P,A=C*D-(R-S*P-C*P-S*D),w=N-A,m=N-w,Ge[0]=N-(w+m)+(m-A),x=T+w,m=x-T,k=T-(x-m)+(w-m),w=k-R,m=k-w,Ge[1]=k-(w+m)+(m-R),j=x+w,m=j-x,Ge[2]=x-(j-m)+(w-m),Ge[3]=j;const je=Za(re,Ld,4,Ge,kd);return kd[je-1]}function L0(e,t,i,o,r,a){const u=(t-a)*(i-r),h=(e-r)*(o-a),d=u-h,p=Math.abs(u+h);return Math.abs(d)>=v0*p?d:-x0(e,t,i,o,r,a,p)}function k0(e,t,i){if(i===void 0&&(i={}),!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");var o=Ul(e),r=Rr(t),a=r.type,u=t.bbox,h=r.coordinates;if(u&&E0(o,u)===!1)return!1;a==="Polygon"&&(h=[h]);for(var d=!1,p=0;p<h.length&&!d;p++)if(Ed(o,h[p][0],i.ignoreBoundary)){for(var y=!1,m=1;m<h[p].length&&!y;)Ed(o,h[p][m],!i.ignoreBoundary)&&(y=!0),m++;y||(d=!0)}return d}function Ed(e,t,i){var o=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var r=0,a=t.length-1;r<t.length;a=r++){var u=t[r][0],h=t[r][1],d=t[a][0],p=t[a][1],y=e[1]*(u-d)+h*(d-e[0])+p*(e[0]-u)===0&&(u-e[0])*(d-e[0])<=0&&(h-e[1])*(p-e[1])<=0;if(y)return!i;var m=h>e[1]!=p>e[1]&&e[0]<(d-u)*(e[1]-h)/(p-h)+u;m&&(o=!o)}return o}function E0(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}function S0(e,t,i){i===void 0&&(i={});var o=Ul(e),r=Ul(t),a=To(r[1]-o[1]),u=To(r[0]-o[0]),h=To(o[1]),d=To(r[1]),p=Math.pow(Math.sin(a/2),2)+Math.pow(Math.sin(u/2),2)*Math.cos(h)*Math.cos(d);return h0(2*Math.atan2(Math.sqrt(p),Math.sqrt(1-p)),i.units)}function gm(e,t){t===void 0&&(t={});var i=fs(e),o=(i[0]+i[2])/2,r=(i[1]+i[3])/2;return Zl([o,r],t.properties,t)}function P0(e){var t=[];return e.type==="FeatureCollection"?d0(e,function(i){Ir(i,function(o){t.push(Zl(o,i.properties))})}):Ir(e,function(i){t.push(Zl(i,e.properties))}),fm(t)}var Sd=6378137;function ps(e){return f0(e,function(t,i){return t+C0(i)},0)}function C0(e){var t=0,i;switch(e.type){case"Polygon":return Pd(e.coordinates);case"MultiPolygon":for(i=0;i<e.coordinates.length;i++)t+=Pd(e.coordinates[i]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function Pd(e){var t=0;if(e&&e.length>0){t+=Math.abs(Cd(e[0]));for(var i=1;i<e.length;i++)t-=Math.abs(Cd(e[i]))}return t}function Cd(e){var t,i,o,r,a,u,h,d=0,p=e.length;if(p>2){for(h=0;h<p;h++)h===p-2?(r=p-2,a=p-1,u=0):h===p-1?(r=p-1,a=0,u=1):(r=h,a=h+1,u=h+2),t=e[r],i=e[a],o=e[u],d+=(Ua(o[0])-Ua(t[0]))*Math.sin(Ua(i[1]));d=d*Sd*Sd/2}return d}function Ua(e){return e*Math.PI/180}function Md(e,t){return t===void 0&&(t={}),m0(e,function(i,o){var r=o.geometry.coordinates;return i+S0(r[0],r[1],t)},0)}function M0(e){if(!e)throw new Error("geojson is required");var t=[];return _m(e,function(i){t.push(i)}),fm(t)}class Sn{constructor(t,i){this.next=null,this.key=t,this.data=i,this.left=null,this.right=null}}function T0(e,t){return e>t?1:e<t?-1:0}function cn(e,t,i){const o=new Sn(null,null);let r=o,a=o;for(;;){const u=i(e,t.key);if(u<0){if(t.left===null)break;if(i(e,t.left.key)<0){const h=t.left;if(t.left=h.right,h.right=t,t=h,t.left===null)break}a.left=t,a=t,t=t.left}else if(u>0){if(t.right===null)break;if(i(e,t.right.key)>0){const h=t.right;if(t.right=h.left,h.left=t,t=h,t.right===null)break}r.right=t,r=t,t=t.right}else break}return r.right=t.left,a.left=t.right,t.left=o.right,t.right=o.left,t}function Wa(e,t,i,o){const r=new Sn(e,t);if(i===null)return r.left=r.right=null,r;i=cn(e,i,o);const a=o(e,i.key);return a<0?(r.left=i.left,r.right=i,i.left=null):a>=0&&(r.right=i.right,r.left=i,i.right=null),r}function Td(e,t,i){let o=null,r=null;if(t){t=cn(e,t,i);const a=i(t.key,e);a===0?(o=t.left,r=t.right):a<0?(r=t.right,t.right=null,o=t):(o=t.left,t.left=null,r=t)}return{left:o,right:r}}function b0(e,t,i){return t===null?e:(e===null||(t=cn(e.key,t,i),t.left=e),t)}function Wl(e,t,i,o,r){if(e){o(`${t}${i?" ":" "}${r(e)}
`);const a=t+(i?"    ":"   ");e.left&&Wl(e.left,a,!1,o,r),e.right&&Wl(e.right,a,!0,o,r)}}class Xu{constructor(t=T0){this._root=null,this._size=0,this._comparator=t}insert(t,i){return this._size++,this._root=Wa(t,i,this._root,this._comparator)}add(t,i){const o=new Sn(t,i);this._root===null&&(o.left=o.right=null,this._size++,this._root=o);const r=this._comparator,a=cn(t,this._root,r),u=r(t,a.key);return u===0?this._root=a:(u<0?(o.left=a.left,o.right=a,a.left=null):u>0&&(o.right=a.right,o.left=a,a.right=null),this._size++,this._root=o),this._root}remove(t){this._root=this._remove(t,this._root,this._comparator)}_remove(t,i,o){let r;return i===null?null:(i=cn(t,i,o),o(t,i.key)===0?(i.left===null?r=i.right:(r=cn(t,i.left,o),r.right=i.right),this._size--,r):i)}pop(){let t=this._root;if(t){for(;t.left;)t=t.left;return this._root=cn(t.key,this._root,this._comparator),this._root=this._remove(t.key,this._root,this._comparator),{key:t.key,data:t.data}}return null}findStatic(t){let i=this._root;const o=this._comparator;for(;i;){const r=o(t,i.key);if(r===0)return i;r<0?i=i.left:i=i.right}return null}find(t){return this._root&&(this._root=cn(t,this._root,this._comparator),this._comparator(t,this._root.key)!==0)?null:this._root}contains(t){let i=this._root;const o=this._comparator;for(;i;){const r=o(t,i.key);if(r===0)return!0;r<0?i=i.left:i=i.right}return!1}forEach(t,i){let o=this._root;const r=[];let a=!1;for(;!a;)o!==null?(r.push(o),o=o.left):r.length!==0?(o=r.pop(),t.call(i,o),o=o.right):a=!0;return this}range(t,i,o,r){const a=[],u=this._comparator;let h=this._root,d;for(;a.length!==0||h;)if(h)a.push(h),h=h.left;else{if(h=a.pop(),d=u(h.key,i),d>0)break;if(u(h.key,t)>=0&&o.call(r,h))return this;h=h.right}return this}keys(){const t=[];return this.forEach(({key:i})=>{t.push(i)}),t}values(){const t=[];return this.forEach(({data:i})=>{t.push(i)}),t}min(){return this._root?this.minNode(this._root).key:null}max(){return this._root?this.maxNode(this._root).key:null}minNode(t=this._root){if(t)for(;t.left;)t=t.left;return t}maxNode(t=this._root){if(t)for(;t.right;)t=t.right;return t}at(t){let i=this._root,o=!1,r=0;const a=[];for(;!o;)if(i)a.push(i),i=i.left;else if(a.length>0){if(i=a.pop(),r===t)return i;r++,i=i.right}else o=!0;return null}next(t){let i=this._root,o=null;if(t.right){for(o=t.right;o.left;)o=o.left;return o}const r=this._comparator;for(;i;){const a=r(t.key,i.key);if(a===0)break;a<0?(o=i,i=i.left):i=i.right}return o}prev(t){let i=this._root,o=null;if(t.left!==null){for(o=t.left;o.right;)o=o.right;return o}const r=this._comparator;for(;i;){const a=r(t.key,i.key);if(a===0)break;a<0?i=i.left:(o=i,i=i.right)}return o}clear(){return this._root=null,this._size=0,this}toList(){return N0(this._root)}load(t,i=[],o=!1){let r=t.length;const a=this._comparator;if(o&&$l(t,i,0,r-1,a),this._root===null)this._root=Gl(t,i,0,r),this._size=r;else{const u=z0(this.toList(),D0(t,i),a);r=this._size+r,this._root=Vl({head:u},0,r)}return this}isEmpty(){return this._root===null}get size(){return this._size}get root(){return this._root}toString(t=i=>String(i.key)){const i=[];return Wl(this._root,"",!0,o=>i.push(o),t),i.join("")}update(t,i,o){const r=this._comparator;let{left:a,right:u}=Td(t,this._root,r);r(t,i)<0?u=Wa(i,o,u,r):a=Wa(i,o,a,r),this._root=b0(a,u,r)}split(t){return Td(t,this._root,this._comparator)}*[Symbol.iterator](){let t=this._root;const i=[];let o=!1;for(;!o;)t!==null?(i.push(t),t=t.left):i.length!==0?(t=i.pop(),yield t,t=t.right):o=!0}}function Gl(e,t,i,o){const r=o-i;if(r>0){const a=i+Math.floor(r/2),u=e[a],h=t[a],d=new Sn(u,h);return d.left=Gl(e,t,i,a),d.right=Gl(e,t,a+1,o),d}return null}function D0(e,t){const i=new Sn(null,null);let o=i;for(let r=0;r<e.length;r++)o=o.next=new Sn(e[r],t[r]);return o.next=null,i.next}function N0(e){let t=e;const i=[];let o=!1;const r=new Sn(null,null);let a=r;for(;!o;)t?(i.push(t),t=t.left):i.length>0?(t=a=a.next=i.pop(),t=t.right):o=!0;return a.next=null,r.next}function Vl(e,t,i){const o=i-t;if(o>0){const r=t+Math.floor(o/2),a=Vl(e,t,r),u=e.head;return u.left=a,e.head=e.head.next,u.right=Vl(e,r+1,i),u}return null}function z0(e,t,i){const o=new Sn(null,null);let r=o,a=e,u=t;for(;a!==null&&u!==null;)i(a.key,u.key)<0?(r.next=a,a=a.next):(r.next=u,u=u.next),r=r.next;return a!==null?r.next=a:u!==null&&(r.next=u),o.next}function $l(e,t,i,o,r){if(i>=o)return;const a=e[i+o>>1];let u=i-1,h=o+1;for(;;){do u++;while(r(e[u],a)<0);do h--;while(r(e[h],a)>0);if(u>=h)break;let d=e[u];e[u]=e[h],e[h]=d,d=t[u],t[u]=t[h],t[h]=d}$l(e,t,i,h,r),$l(e,t,h+1,o,r)}var vm={};const rr=(e,t)=>e.ll.x<=t.x&&t.x<=e.ur.x&&e.ll.y<=t.y&&t.y<=e.ur.y,Yl=(e,t)=>{if(t.ur.x<e.ll.x||e.ur.x<t.ll.x||t.ur.y<e.ll.y||e.ur.y<t.ll.y)return null;const i=e.ll.x<t.ll.x?t.ll.x:e.ll.x,o=e.ur.x<t.ur.x?e.ur.x:t.ur.x,r=e.ll.y<t.ll.y?t.ll.y:e.ll.y,a=e.ur.y<t.ur.y?e.ur.y:t.ur.y;return{ll:{x:i,y:r},ur:{x:o,y:a}}};let fn=Number.EPSILON;fn===void 0&&(fn=Math.pow(2,-52));const O0=fn*fn,bd=(e,t)=>{if(-fn<e&&e<fn&&-fn<t&&t<fn)return 0;const i=e-t;return i*i<O0*e*t?0:e<t?-1:1};class I0{constructor(){this.reset()}reset(){this.xRounder=new Dd,this.yRounder=new Dd}round(t,i){return{x:this.xRounder.round(t),y:this.yRounder.round(i)}}}class Dd{constructor(){this.tree=new Xu,this.round(0)}round(t){const i=this.tree.add(t),o=this.tree.prev(i);if(o!==null&&bd(i.key,o.key)===0)return this.tree.remove(t),o.key;const r=this.tree.next(i);return r!==null&&bd(i.key,r.key)===0?(this.tree.remove(t),r.key):t}}const Ar=new I0,Zo=(e,t)=>e.x*t.y-e.y*t.x,ym=(e,t)=>e.x*t.x+e.y*t.y,Nd=(e,t,i)=>{const o=L0(e.x,e.y,t.x,t.y,i.x,i.y);return o>0?-1:o<0?1:0},ms=e=>Math.sqrt(ym(e,e)),R0=(e,t,i)=>{const o={x:t.x-e.x,y:t.y-e.y},r={x:i.x-e.x,y:i.y-e.y};return Zo(r,o)/ms(r)/ms(o)},A0=(e,t,i)=>{const o={x:t.x-e.x,y:t.y-e.y},r={x:i.x-e.x,y:i.y-e.y};return ym(r,o)/ms(r)/ms(o)},zd=(e,t,i)=>t.y===0?null:{x:e.x+t.x/t.y*(i-e.y),y:i},Od=(e,t,i)=>t.x===0?null:{x:i,y:e.y+t.y/t.x*(i-e.x)},j0=(e,t,i,o)=>{if(t.x===0)return Od(i,o,e.x);if(o.x===0)return Od(e,t,i.x);if(t.y===0)return zd(i,o,e.y);if(o.y===0)return zd(e,t,i.y);const r=Zo(t,o);if(r==0)return null;const a={x:i.x-e.x,y:i.y-e.y},u=Zo(a,t)/r,h=Zo(a,o)/r,d=e.x+h*t.x,p=i.x+u*o.x,y=e.y+h*t.y,m=i.y+u*o.y,g=(d+p)/2,S=(y+m)/2;return{x:g,y:S}};class pt{static compare(t,i){const o=pt.comparePoints(t.point,i.point);return o!==0?o:(t.point!==i.point&&t.link(i),t.isLeft!==i.isLeft?t.isLeft?1:-1:Ln.compare(t.segment,i.segment))}static comparePoints(t,i){return t.x<i.x?-1:t.x>i.x?1:t.y<i.y?-1:t.y>i.y?1:0}constructor(t,i){t.events===void 0?t.events=[this]:t.events.push(this),this.point=t,this.isLeft=i}link(t){if(t.point===this.point)throw new Error("Tried to link already linked events");const i=t.point.events;for(let o=0,r=i.length;o<r;o++){const a=i[o];this.point.events.push(a),a.point=this.point}this.checkForConsuming()}checkForConsuming(){const t=this.point.events.length;for(let i=0;i<t;i++){const o=this.point.events[i];if(o.segment.consumedBy===void 0)for(let r=i+1;r<t;r++){const a=this.point.events[r];a.consumedBy===void 0&&o.otherSE.point.events===a.otherSE.point.events&&o.segment.consume(a.segment)}}}getAvailableLinkedEvents(){const t=[];for(let i=0,o=this.point.events.length;i<o;i++){const r=this.point.events[i];r!==this&&!r.segment.ringOut&&r.segment.isInResult()&&t.push(r)}return t}getLeftmostComparator(t){const i=new Map,o=r=>{const a=r.otherSE;i.set(r,{sine:R0(this.point,t.point,a.point),cosine:A0(this.point,t.point,a.point)})};return(r,a)=>{i.has(r)||o(r),i.has(a)||o(a);const{sine:u,cosine:h}=i.get(r),{sine:d,cosine:p}=i.get(a);return u>=0&&d>=0?h<p?1:h>p?-1:0:u<0&&d<0?h<p?-1:h>p?1:0:d<u?-1:d>u?1:0}}}let B0=0;class Ln{static compare(t,i){const o=t.leftSE.point.x,r=i.leftSE.point.x,a=t.rightSE.point.x,u=i.rightSE.point.x;if(u<o)return 1;if(a<r)return-1;const h=t.leftSE.point.y,d=i.leftSE.point.y,p=t.rightSE.point.y,y=i.rightSE.point.y;if(o<r){if(d<h&&d<p)return 1;if(d>h&&d>p)return-1;const m=t.comparePoint(i.leftSE.point);if(m<0)return 1;if(m>0)return-1;const g=i.comparePoint(t.rightSE.point);return g!==0?g:-1}if(o>r){if(h<d&&h<y)return-1;if(h>d&&h>y)return 1;const m=i.comparePoint(t.leftSE.point);if(m!==0)return m;const g=t.comparePoint(i.rightSE.point);return g<0?1:g>0?-1:1}if(h<d)return-1;if(h>d)return 1;if(a<u){const m=i.comparePoint(t.rightSE.point);if(m!==0)return m}if(a>u){const m=t.comparePoint(i.rightSE.point);if(m<0)return 1;if(m>0)return-1}if(a!==u){const m=p-h,g=a-o,S=y-d,C=u-r;if(m>g&&S<C)return 1;if(m<g&&S>C)return-1}return a>u?1:a<u||p<y?-1:p>y?1:t.id<i.id?-1:t.id>i.id?1:0}constructor(t,i,o,r){this.id=++B0,this.leftSE=t,t.segment=this,t.otherSE=i,this.rightSE=i,i.segment=this,i.otherSE=t,this.rings=o,this.windings=r}static fromRing(t,i,o){let r,a,u;const h=pt.comparePoints(t,i);if(h<0)r=t,a=i,u=1;else if(h>0)r=i,a=t,u=-1;else throw new Error(`Tried to create degenerate segment at [${t.x}, ${t.y}]`);const d=new pt(r,!0),p=new pt(a,!1);return new Ln(d,p,[o],[u])}replaceRightSE(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const t=this.leftSE.point.y,i=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<i?t:i},ur:{x:this.rightSE.point.x,y:t>i?t:i}}}vector(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}isAnEndpoint(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}comparePoint(t){if(this.isAnEndpoint(t))return 0;const i=this.leftSE.point,o=this.rightSE.point,r=this.vector();if(i.x===o.x)return t.x===i.x?0:t.x<i.x?1:-1;const a=(t.y-i.y)/r.y,u=i.x+a*r.x;if(t.x===u)return 0;const h=(t.x-i.x)/r.x,d=i.y+h*r.y;return t.y===d?0:t.y<d?-1:1}getIntersection(t){const i=this.bbox(),o=t.bbox(),r=Yl(i,o);if(r===null)return null;const a=this.leftSE.point,u=this.rightSE.point,h=t.leftSE.point,d=t.rightSE.point,p=rr(i,h)&&this.comparePoint(h)===0,y=rr(o,a)&&t.comparePoint(a)===0,m=rr(i,d)&&this.comparePoint(d)===0,g=rr(o,u)&&t.comparePoint(u)===0;if(y&&p)return g&&!m?u:!g&&m?d:null;if(y)return m&&a.x===d.x&&a.y===d.y?null:a;if(p)return g&&u.x===h.x&&u.y===h.y?null:h;if(g&&m)return null;if(g)return u;if(m)return d;const S=j0(a,this.vector(),h,t.vector());return S===null||!rr(r,S)?null:Ar.round(S.x,S.y)}split(t){const i=[],o=t.events!==void 0,r=new pt(t,!0),a=new pt(t,!1),u=this.rightSE;this.replaceRightSE(a),i.push(a),i.push(r);const h=new Ln(r,u,this.rings.slice(),this.windings.slice());return pt.comparePoints(h.leftSE.point,h.rightSE.point)>0&&h.swapEvents(),pt.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),o&&(r.checkForConsuming(),a.checkForConsuming()),i}swapEvents(){const t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let i=0,o=this.windings.length;i<o;i++)this.windings[i]*=-1}consume(t){let i=this,o=t;for(;i.consumedBy;)i=i.consumedBy;for(;o.consumedBy;)o=o.consumedBy;const r=Ln.compare(i,o);if(r!==0){if(r>0){const a=i;i=o,o=a}if(i.prev===o){const a=i;i=o,o=a}for(let a=0,u=o.rings.length;a<u;a++){const h=o.rings[a],d=o.windings[a],p=i.rings.indexOf(h);p===-1?(i.rings.push(h),i.windings.push(d)):i.windings[p]+=d}o.rings=null,o.windings=null,o.consumedBy=i,o.leftSE.consumedBy=i.leftSE,o.rightSE.consumedBy=i.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{const t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;const t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};const i=this._afterState.rings,o=this._afterState.windings,r=this._afterState.multiPolys;for(let h=0,d=this.rings.length;h<d;h++){const p=this.rings[h],y=this.windings[h],m=i.indexOf(p);m===-1?(i.push(p),o.push(y)):o[m]+=y}const a=[],u=[];for(let h=0,d=i.length;h<d;h++){if(o[h]===0)continue;const p=i[h],y=p.poly;if(u.indexOf(y)===-1)if(p.isExterior)a.push(y);else{u.indexOf(y)===-1&&u.push(y);const m=a.indexOf(p.poly);m!==-1&&a.splice(m,1)}}for(let h=0,d=a.length;h<d;h++){const p=a[h].multiPoly;r.indexOf(p)===-1&&r.push(p)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;const t=this.beforeState().multiPolys,i=this.afterState().multiPolys;switch(Ct.type){case"union":{const o=t.length===0,r=i.length===0;this._isInResult=o!==r;break}case"intersection":{let o,r;t.length<i.length?(o=t.length,r=i.length):(o=i.length,r=t.length),this._isInResult=r===Ct.numMultiPolys&&o<r;break}case"xor":{const o=Math.abs(t.length-i.length);this._isInResult=o%2===1;break}case"difference":{const o=r=>r.length===1&&r[0].isSubject;this._isInResult=o(t)!==o(i);break}default:throw new Error(`Unrecognized operation type found ${Ct.type}`)}return this._isInResult}}class Id{constructor(t,i,o){if(!Array.isArray(t)||t.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=i,this.isExterior=o,this.segments=[],typeof t[0][0]!="number"||typeof t[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const r=Ar.round(t[0][0],t[0][1]);this.bbox={ll:{x:r.x,y:r.y},ur:{x:r.x,y:r.y}};let a=r;for(let u=1,h=t.length;u<h;u++){if(typeof t[u][0]!="number"||typeof t[u][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let d=Ar.round(t[u][0],t[u][1]);d.x===a.x&&d.y===a.y||(this.segments.push(Ln.fromRing(a,d,this)),d.x<this.bbox.ll.x&&(this.bbox.ll.x=d.x),d.y<this.bbox.ll.y&&(this.bbox.ll.y=d.y),d.x>this.bbox.ur.x&&(this.bbox.ur.x=d.x),d.y>this.bbox.ur.y&&(this.bbox.ur.y=d.y),a=d)}(r.x!==a.x||r.y!==a.y)&&this.segments.push(Ln.fromRing(a,r,this))}getSweepEvents(){const t=[];for(let i=0,o=this.segments.length;i<o;i++){const r=this.segments[i];t.push(r.leftSE),t.push(r.rightSE)}return t}}class F0{constructor(t,i){if(!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Id(t[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let o=1,r=t.length;o<r;o++){const a=new Id(t[o],this,!1);a.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=a.bbox.ll.x),a.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=a.bbox.ll.y),a.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=a.bbox.ur.x),a.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=a.bbox.ur.y),this.interiorRings.push(a)}this.multiPoly=i}getSweepEvents(){const t=this.exteriorRing.getSweepEvents();for(let i=0,o=this.interiorRings.length;i<o;i++){const r=this.interiorRings[i].getSweepEvents();for(let a=0,u=r.length;a<u;a++)t.push(r[a])}return t}}class Rd{constructor(t,i){if(!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof t[0][0][0]=="number"&&(t=[t])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(let o=0,r=t.length;o<r;o++){const a=new F0(t[o],this);a.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=a.bbox.ll.x),a.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=a.bbox.ll.y),a.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=a.bbox.ur.x),a.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=a.bbox.ur.y),this.polys.push(a)}this.isSubject=i}getSweepEvents(){const t=[];for(let i=0,o=this.polys.length;i<o;i++){const r=this.polys[i].getSweepEvents();for(let a=0,u=r.length;a<u;a++)t.push(r[a])}return t}}class _s{static factory(t){const i=[];for(let o=0,r=t.length;o<r;o++){const a=t[o];if(!a.isInResult()||a.ringOut)continue;let u=null,h=a.leftSE,d=a.rightSE;const p=[h],y=h.point,m=[];for(;u=h,h=d,p.push(h),h.point!==y;)for(;;){const g=h.getAvailableLinkedEvents();if(g.length===0){const P=p[0].point,D=p[p.length-1].point;throw new Error(`Unable to complete output ring starting at [${P.x}, ${P.y}]. Last matching segment found ends at [${D.x}, ${D.y}].`)}if(g.length===1){d=g[0].otherSE;break}let S=null;for(let P=0,D=m.length;P<D;P++)if(m[P].point===h.point){S=P;break}if(S!==null){const P=m.splice(S)[0],D=p.splice(P.index);D.unshift(D[0].otherSE),i.push(new _s(D.reverse()));continue}m.push({index:p.length,point:h.point});const C=h.getLeftmostComparator(u);d=g.sort(C)[0].otherSE;break}i.push(new _s(p))}return i}constructor(t){this.events=t;for(let i=0,o=t.length;i<o;i++)t[i].segment.ringOut=this;this.poly=null}getGeom(){let t=this.events[0].point;const i=[t];for(let p=1,y=this.events.length-1;p<y;p++){const m=this.events[p].point,g=this.events[p+1].point;Nd(m,t,g)!==0&&(i.push(m),t=m)}if(i.length===1)return null;const o=i[0],r=i[1];Nd(o,t,r)===0&&i.shift(),i.push(i[0]);const a=this.isExteriorRing()?1:-1,u=this.isExteriorRing()?0:i.length-1,h=this.isExteriorRing()?i.length:-1,d=[];for(let p=u;p!=h;p+=a)d.push([i[p].x,i[p].y]);return d}isExteriorRing(){if(this._isExteriorRing===void 0){const t=this.enclosingRing();this._isExteriorRing=t?!t.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let t=this.events[0];for(let r=1,a=this.events.length;r<a;r++){const u=this.events[r];pt.compare(t,u)>0&&(t=u)}let i=t.segment.prevInResult(),o=i?i.prevInResult():null;for(;;){if(!i)return null;if(!o)return i.ringOut;if(o.ringOut!==i.ringOut)return o.ringOut.enclosingRing()!==i.ringOut?i.ringOut:i.ringOut.enclosingRing();i=o.prevInResult(),o=i?i.prevInResult():null}}}class Ad{constructor(t){this.exteriorRing=t,t.poly=this,this.interiorRings=[]}addInterior(t){this.interiorRings.push(t),t.poly=this}getGeom(){const t=[this.exteriorRing.getGeom()];if(t[0]===null)return null;for(let i=0,o=this.interiorRings.length;i<o;i++){const r=this.interiorRings[i].getGeom();r!==null&&t.push(r)}return t}}class H0{constructor(t){this.rings=t,this.polys=this._composePolys(t)}getGeom(){const t=[];for(let i=0,o=this.polys.length;i<o;i++){const r=this.polys[i].getGeom();r!==null&&t.push(r)}return t}_composePolys(t){const i=[];for(let o=0,r=t.length;o<r;o++){const a=t[o];if(!a.poly)if(a.isExteriorRing())i.push(new Ad(a));else{const u=a.enclosingRing();u.poly||i.push(new Ad(u)),u.poly.addInterior(a)}}return i}}class Z0{constructor(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ln.compare;this.queue=t,this.tree=new Xu(i),this.segments=[]}process(t){const i=t.segment,o=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(i),o;const r=t.isLeft?this.tree.add(i):this.tree.find(i);if(!r)throw new Error(`Unable to find segment #${i.id} [${i.leftSE.point.x}, ${i.leftSE.point.y}] -> [${i.rightSE.point.x}, ${i.rightSE.point.y}] in SweepLine tree.`);let a=r,u=r,h,d;for(;h===void 0;)a=this.tree.prev(a),a===null?h=null:a.key.consumedBy===void 0&&(h=a.key);for(;d===void 0;)u=this.tree.next(u),u===null?d=null:u.key.consumedBy===void 0&&(d=u.key);if(t.isLeft){let p=null;if(h){const m=h.getIntersection(i);if(m!==null&&(i.isAnEndpoint(m)||(p=m),!h.isAnEndpoint(m))){const g=this._splitSafely(h,m);for(let S=0,C=g.length;S<C;S++)o.push(g[S])}}let y=null;if(d){const m=d.getIntersection(i);if(m!==null&&(i.isAnEndpoint(m)||(y=m),!d.isAnEndpoint(m))){const g=this._splitSafely(d,m);for(let S=0,C=g.length;S<C;S++)o.push(g[S])}}if(p!==null||y!==null){let m=null;p===null?m=y:y===null?m=p:m=pt.comparePoints(p,y)<=0?p:y,this.queue.remove(i.rightSE),o.push(i.rightSE);const g=i.split(m);for(let S=0,C=g.length;S<C;S++)o.push(g[S])}o.length>0?(this.tree.remove(i),o.push(t)):(this.segments.push(i),i.prev=h)}else{if(h&&d){const p=h.getIntersection(d);if(p!==null){if(!h.isAnEndpoint(p)){const y=this._splitSafely(h,p);for(let m=0,g=y.length;m<g;m++)o.push(y[m])}if(!d.isAnEndpoint(p)){const y=this._splitSafely(d,p);for(let m=0,g=y.length;m<g;m++)o.push(y[m])}}}this.tree.remove(i)}return o}_splitSafely(t,i){this.tree.remove(t);const o=t.rightSE;this.queue.remove(o);const r=t.split(i);return r.push(o),t.consumedBy===void 0&&this.tree.add(t),r}}const jd=typeof process<"u"&&vm.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,U0=typeof process<"u"&&vm.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6;class W0{run(t,i,o){Ct.type=t,Ar.reset();const r=[new Rd(i,!0)];for(let m=0,g=o.length;m<g;m++)r.push(new Rd(o[m],!1));if(Ct.numMultiPolys=r.length,Ct.type==="difference"){const m=r[0];let g=1;for(;g<r.length;)Yl(r[g].bbox,m.bbox)!==null?g++:r.splice(g,1)}if(Ct.type==="intersection")for(let m=0,g=r.length;m<g;m++){const S=r[m];for(let C=m+1,P=r.length;C<P;C++)if(Yl(S.bbox,r[C].bbox)===null)return[]}const a=new Xu(pt.compare);for(let m=0,g=r.length;m<g;m++){const S=r[m].getSweepEvents();for(let C=0,P=S.length;C<P;C++)if(a.insert(S[C]),a.size>jd)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big).")}const u=new Z0(a);let h=a.size,d=a.pop();for(;d;){const m=d.key;if(a.size===h){const S=m.segment;throw new Error(`Unable to pop() ${m.isLeft?"left":"right"} SweepEvent [${m.point.x}, ${m.point.y}] from segment #${S.id} [${S.leftSE.point.x}, ${S.leftSE.point.y}] -> [${S.rightSE.point.x}, ${S.rightSE.point.y}] from queue.`)}if(a.size>jd)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big).");if(u.segments.length>U0)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments).");const g=u.process(m);for(let S=0,C=g.length;S<C;S++){const P=g[S];P.consumedBy===void 0&&a.insert(P)}h=a.size,d=a.pop()}Ar.reset();const p=_s.factory(u.segments);return new H0(p).getGeom()}}const Ct=new W0,G0=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return Ct.run("union",e,i)},V0=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return Ct.run("intersection",e,i)},$0=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return Ct.run("xor",e,i)},Y0=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return Ct.run("difference",e,i)};var wm={union:G0,intersection:V0,xor:$0,difference:Y0};function K0(e,t){var i=Rr(e),o=Rr(t),r=e.properties||{},a=wm.difference(i.coordinates,o.coordinates);return a.length===0?null:a.length===1?dm(a[0],r):pm(a,r)}function Q0(e,t,i){i===void 0&&(i={});var o=Rr(e),r=Rr(t),a=wm.intersection(o.coordinates,r.coordinates);return a.length===0?null:a.length===1?dm(a[0],i.properties):pm(a,i.properties)}const Ga=e=>`${e}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,Va=e=>({polygon:"#3388ff",rectangle:"#ff7800",circle:"#ff0000",lineString:"#00ff00"})[e],gs=(e,t)=>{try{return P0(t).features.every(r=>k0(r,e))}catch(i){return console.error("Error checking polygon enclosure:",i),!1}},X0=(e,t)=>{try{const i=Q0(e,t);return i!==null&&ps(i)>0}catch(i){return console.error("Error checking polygon overlap:",i),!1}},q0=(e,t)=>{let i=e;try{for(const o of t)if(i&&X0(i,o)){if(gs(o,i))return null;if(gs(i,o))continue;const r=K0(i,o);if(!r)return null;if(r.geometry.type==="Polygon")i=r;else if(r.geometry.type==="MultiPolygon"){const a=M0(r);if(a.features.length===0||(i=a.features.reduce((u,h)=>{if(h.geometry.type==="Polygon"){const d=ps(h),p=u?ps(u):0;return d>p?h:u}return u},null),!i))return null}else return null}}catch(o){return console.error("Error trimming polygon overlaps:",o),null}return i},J0=e=>e.filter(t=>["polygon","rectangle","circle"].includes(t.properties.type)).map(t=>(t.properties.type==="polygon",t)),ew=e=>{const{addFeature:t,setError:i,activeTool:o,setActiveTool:r,features:a}=Ur(),u=F.useRef(null),h=F.useRef(!1),d=F.useRef(!1),p=F.useCallback(C=>{if(!d.current){d.current=!0,console.log(" Shape drawn:",C.layerType),console.log(" Draw event:",C),console.log(" Layer:",C.layer);try{const P=C.layer,D=C.layerType;let w;if(D==="rectangle"){if(console.log(" Processing rectangle..."),console.log(" Rectangle layer:",P),!P.getBounds){console.error(" Rectangle layer does not have getBounds method"),d.current=!1;return}const k=P.getBounds(),T=k.getSouthWest(),N=k.getNorthEast();console.log(" Rectangle bounds:",{sw:T,ne:N}),w={type:"Feature",geometry:{type:"Polygon",coordinates:[[[T.lng,T.lat],[T.lng,N.lat],[N.lng,N.lat],[N.lng,T.lat],[T.lng,T.lat]]]},properties:{id:Ga("rectangle"),type:"rectangle",color:Va("rectangle"),order:a.length+1}},console.log(" Rectangle feature created:",w)}else if(D==="circle"){const k=P.getLatLng(),T=P.getRadius(),N=[],R=32;for(let A=0;A<R;A++){const j=A*360/R*Math.PI/180,$=k.lat+T/111320*Math.cos(j),G=k.lng+T/(111320*Math.cos(k.lat*Math.PI/180))*Math.sin(j);N.push([G,$])}N.push(N[0]),w={type:"Feature",geometry:{type:"Polygon",coordinates:[N]},properties:{id:Ga("circle"),type:"circle",color:Va("circle"),order:a.length+1}}}else{w=P.toGeoJSON();let T="polygon";D==="polyline"?T="lineString":D==="polygon"&&(T="polygon"),w.properties={id:Ga(T),type:T,color:Va(T),order:a.length+1}}if(console.log(" Feature created:",w.properties.type),["polygon","rectangle","circle"].includes(w.properties.type)){console.log(" Checking overlap constraints for polygonal feature...");const k=J0(a),T=w;if(k.some(j=>gs(T,j))){console.log(" New polygon fully encloses an existing polygon - blocking"),i(" Cannot create a polygon that fully encloses another polygon. Please draw in a different area."),d.current=!1,setTimeout(()=>{i(null)},5e3),setTimeout(()=>{r(null)},50);return}if(k.some(j=>gs(j,T))){console.log(" New polygon is fully enclosed by an existing polygon - blocking"),i(" Cannot create a polygon inside another polygon. Please draw in a different area."),d.current=!1,setTimeout(()=>{i(null)},5e3),setTimeout(()=>{r(null)},50);return}const A=q0(T,k);if(!A){console.log(" Polygon was completely trimmed away - blocking"),i(" The drawn area overlaps too much with existing polygons. Please draw in a different area."),d.current=!1,setTimeout(()=>{i(null)},5e3),setTimeout(()=>{r(null)},50);return}A!==T&&(console.log(" Polygon was auto-trimmed to remove overlaps"),i(" Polygon auto-trimmed to remove overlaps with existing shapes."),setTimeout(()=>{i(null)},3e3),w={...w,geometry:A.geometry})}else console.log(" Line string feature - no overlap constraints applied");if(t(w),console.log(" Starting proper tool cleanup sequence"),u.current){try{u.current.disable(),console.log(" Handler disabled")}catch(k){console.log(" Error disabling handler:",k)}u.current=null}const x=e.getContainer();x&&(x.classList.remove("leaflet-draw-drawing"),x.classList.remove("leaflet-draw-drawing-polygon"),x.classList.remove("leaflet-draw-drawing-rectangle"),x.classList.remove("leaflet-draw-drawing-circle"),x.classList.remove("leaflet-draw-drawing-polyline")),setTimeout(()=>{r(null),d.current=!1,console.log(" Tool cleanup sequence completed")},50)}catch(P){console.error(" Error creating feature:",P),i("Failed to create feature. Please try again."),d.current=!1}}},[t,i,r,e,a]),y=F.useCallback(()=>{console.log(" Force cleaning up current tool");const C=e.getContainer();if(C.classList.remove("rectangle-drawing","circle-drawing","polygon-drawing","line-drawing"),u.current){try{u.current.disable()}catch(P){console.log(" Error during force cleanup:",P)}u.current=null}C&&(C.classList.remove("leaflet-draw-drawing"),C.classList.remove("leaflet-draw-drawing-polygon"),C.classList.remove("leaflet-draw-drawing-rectangle"),C.classList.remove("leaflet-draw-drawing-circle"),C.classList.remove("leaflet-draw-drawing-polyline")),e.off("draw:drawstart"),e.off("draw:drawstop"),e.off("draw:cancelled"),console.log(" Force cleanup completed")},[e]),m=F.useCallback(C=>d.current?(console.log(" Tool processing in progress, skipping enable"),!1):(console.log(` Enabling ${C} tool`),y(),setTimeout(()=>{try{let P=null;switch(C){case"polygon":if(P=new $e.Draw.Polygon(e,{allowIntersection:!1,shapeOptions:{color:"#3b82f6",fillColor:"#3b82f6",fillOpacity:.3,weight:3}}),P){const k=P.enable,T=P.disable;P.enable=function(){return e.getContainer().classList.add("polygon-drawing"),k.call(this)},P.disable=function(){return e.getContainer().classList.remove("polygon-drawing"),T.call(this)}}break;case"rectangle":console.log(" Creating custom rectangle handler...");let D=null,w=null;P={_enabled:!1,_clickHandler:null,_mouseMoveHandler:null,enable(){this._enabled=!0,console.log(" Custom rectangle handler enabled"),e.getContainer().classList.add("rectangle-drawing");const T=N=>{if(D){const R=N.latlng;console.log(" Rectangle end point:",R),w&&(e.removeLayer(w),w=null),this._mouseMoveHandler&&(e.off("mousemove",this._mouseMoveHandler),this._mouseMoveHandler=null);const A=$e.latLngBounds([D.lat,D.lng],[R.lat,R.lng]),j=$e.rectangle(A,{color:"#10b981",fillColor:"#10b981",fillOpacity:.3,weight:3});e.fire("draw:created",{layer:j,layerType:"rectangle"}),D=null,this.disable()}else{D=N.latlng,console.log(" Rectangle start point:",D);const R=$e.latLngBounds([D.lat,D.lng],[D.lat,D.lng]);w=$e.rectangle(R,{color:"#10b981",fillColor:"#10b981",fillOpacity:.3,weight:3,dashArray:"5, 5"}).addTo(e);const A=j=>{if(w&&D){const $=$e.latLngBounds([D.lat,D.lng],[j.latlng.lat,j.latlng.lng]);w.setBounds($)}};e.on("mousemove",A),this._mouseMoveHandler=A}};e.on("click",T),this._clickHandler=T},disable(){this._enabled=!1,console.log(" Custom rectangle handler disabled"),e.getContainer().classList.remove("rectangle-drawing"),this._clickHandler&&(e.off("click",this._clickHandler),this._clickHandler=null),this._mouseMoveHandler&&(e.off("mousemove",this._mouseMoveHandler),this._mouseMoveHandler=null),w&&(e.removeLayer(w),w=null),D=null}},console.log(" Custom rectangle handler created");break;case"circle":if(P=new $e.Draw.Circle(e,{shapeOptions:{color:"#ef4444",fillColor:"#ef4444",fillOpacity:.3,weight:3}}),P){const k=P.enable,T=P.disable;P.enable=function(){return e.getContainer().classList.add("circle-drawing"),k.call(this)},P.disable=function(){return e.getContainer().classList.remove("circle-drawing"),T.call(this)}}break;case"lineString":if(P=new $e.Draw.Polyline(e,{shapeOptions:{color:"#8b5cf6",weight:4,opacity:.8}}),P){const k=P.enable,T=P.disable;P.enable=function(){return e.getContainer().classList.add("line-drawing"),k.call(this)},P.disable=function(){return e.getContainer().classList.remove("line-drawing"),T.call(this)}}break}if(P){u.current=P;try{P.enable(),console.log(` ${C} tool enabled successfully`),C==="rectangle"&&(console.log(" Rectangle handler enabled, checking state..."),console.log(" Handler enabled state:",P._enabled),console.log(" Handler methods:",Object.getOwnPropertyNames(P)))}catch(D){console.error(` Error enabling ${C} tool:`,D)}}else console.error(` Failed to create ${C} handler`)}catch(P){console.error(` Failed to enable ${C} tool:`,P),i(`Failed to enable ${C} tool`)}},100),!0),[e,i,y]),g=F.useCallback(()=>{if(!h.current){console.log(" Initializing drawing system...");try{e.on("draw:created",p),h.current=!0,console.log(" Drawing system initialized successfully")}catch(C){console.error(" Failed to initialize drawing system:",C),i("Failed to initialize drawing tools. Please refresh the page.")}}},[p,e,i]),S=F.useCallback(()=>{console.log(" Cleaning up drawing system...");try{y(),e.off("draw:created",p),h.current=!1,console.log(" Drawing system cleaned up")}catch(C){console.error(" Error during cleanup:",C)}},[y,e,p]);return F.useEffect(()=>{console.log(` Tool state changed to: ${o}`),o?m(o):y()},[o]),F.useEffect(()=>(g(),S),[g,S]),{enableTool:m,forceCleanupTool:y,cleanup:S}},tw=e=>e>=1e6?`${(e/1e6).toFixed(2)} km`:`${Math.round(e)} m`,Bd=e=>e>=1e3?`${(e/1e3).toFixed(2)} km`:`${Math.round(e)} m`,Kl=(e,t)=>`${e.toFixed(6)}, ${t.toFixed(6)}`,nw=e=>{const[t,i,o,r]=e;return`SW: ${Kl(i,t)} | NE: ${Kl(r,o)}`},xm=e=>{try{const{geometry:t}=e,i={center:"",boundingBox:""},o=gm(e),[r,a]=o.geometry.coordinates;i.center=Kl(a,r);const u=fs(e);if(i.boundingBox=nw(u),t.type==="Polygon"){const h=ps(e);i.area=tw(h);const d=Md(e,{units:"meters"});i.perimeter=Bd(d)}else if(t.type==="LineString"){const h=Md(e,{units:"meters"});i.length=Bd(h)}return i}catch(t){return console.error("Error calculating measurements:",t),{center:"Error calculating",boundingBox:"Error calculating"}}},Lm=e=>{const t=xm(e),{properties:i}=e;if(i.type==="lineString")return t.length?`Length: ${t.length}`:"";{const o=[];return t.area&&o.push(`Area: ${t.area}`),t.perimeter&&o.push(`Perimeter: ${t.perimeter}`),o.join(" | ")}},Ql=(e,t)=>{var h;if((h=e.properties.customName)!=null&&h.trim())return e.properties.customName.trim();const i=e.properties.type,o=km(i),u=t.filter(d=>d.properties.type===i).sort((d,p)=>(d.properties.order||0)-(p.properties.order||0)).findIndex(d=>d.properties.id===e.properties.id)+1;return`${o} ${u}`},iw=(e,t)=>{var h;if((h=e.properties.customName)!=null&&h.trim())return e.properties.customName.trim();const i=e.properties.type,a=t.filter(d=>d.properties.type===i).sort((d,p)=>(d.properties.order||0)-(p.properties.order||0)).findIndex(d=>d.properties.id===e.properties.id)+1;return`${{polygon:"P",rectangle:"R",circle:"C",lineString:"L"}[i]}${a}`},km=e=>({polygon:"Polygon",rectangle:"Rectangle",circle:"Circle",lineString:"Line"})[e],rw=()=>{const{features:e}=Ur();console.log(" FeatureLayer rendering with features:",e.length),console.log(" Features data:",e);const t=o=>{var h,d;const r=(h=o==null?void 0:o.properties)==null?void 0:h.type,a=((d=o==null?void 0:o.properties)==null?void 0:d.color)||"#3388ff",u={weight:3,opacity:.9,fillOpacity:.4};switch(r){case"polygon":return{...u,color:"#3b82f6",fillColor:"#3b82f6",weight:3,dashArray:"",fillOpacity:.3};case"rectangle":return{...u,color:"#10b981",fillColor:"#10b981",weight:3,dashArray:"",fillOpacity:.3};case"circle":return{...u,color:"#ef4444",fillColor:"#ef4444",weight:3,dashArray:"",fillOpacity:.3};case"lineString":return{...u,color:"#8b5cf6",weight:4,opacity:.8,dashArray:""};default:return{...u,color:a,fillColor:a}}},i=(o,r)=>Yu.divIcon({html:`<div class="shape-label" style="background-color: ${r}; color: white;">${o}</div>`,className:"shape-label-marker",iconSize:[30,20],iconAnchor:[15,10]});return e.length===0?(console.log(" No features to render"),null):(console.log(" Rendering",e.length,"features"),v.jsx(v.Fragment,{children:e.map((o,r)=>{console.log(` Rendering feature ${r}:`,o);const a=iw(o,e),u=t(o).color,h=gm(o),[d,p]=h.geometry.coordinates;return v.jsxs(ki.Fragment,{children:[v.jsx(Dy,{data:o,style:()=>t(o),onEachFeature:(y,m)=>{const g=Lm(o);g&&m.bindTooltip(`${a}: ${g}`,{permanent:!1,direction:"top",offset:[0,-10],className:"measurement-tooltip"}),m.on("mouseover",function(S){S.target.setStyle({weight:5,opacity:1,fillOpacity:.6})}),m.on("mouseout",function(S){const C=S.target,P=t(y);C.setStyle(P)})}},`feature-${o.properties.id}-${r}`),v.jsx(Oy,{position:[p,d],icon:i(a,u)},`label-${o.properties.id}-${r}`)]},`feature-group-${o.properties.id}-${r}`)})}))},ow=()=>{const e=sm(),{cleanup:t}=ew(e);return F.useEffect(()=>()=>{console.log(" MapComponent unmounting, cleaning up"),t()},[t]),v.jsx(rw,{})},sw=e=>{const t={type:"FeatureCollection",features:e.map(i=>({type:"Feature",geometry:i.geometry,properties:{id:i.properties.id,type:i.properties.type,name:i.properties.name||`Untitled ${i.properties.type}`,color:i.properties.color}}))};return JSON.stringify(t,null,2)},aw=e=>{const t=sw(e),i=new Blob([t],{type:"application/json"}),o=URL.createObjectURL(i),r=document.createElement("a");r.href=o,r.download=`map-features-${Date.now()}.geojson`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(o)},lw=()=>{const{activeTool:e,features:t,clearAllFeatures:i,removeLastFeature:o,error:r,setActiveTool:a,isToolActive:u}=Ur(),[h,d]=F.useState(!1),[p,y]=F.useState(!1),[m,g]=F.useState(!1),[S,C]=F.useState(!1),[P,D]=F.useState(!1),[w,x]=F.useState(""),k=U=>{if(h){console.log(" Tool change in progress, ignoring click");return}console.log(` Tool button clicked: ${U}`),d(!0),u(U)?(console.log(` Deactivating ${U} tool`),a(null)):(console.log(` Activating ${U} tool`),a(U)),setTimeout(()=>{d(!1)},200)},T=()=>{if(t.length===0){x("No features to export"),D(!0);return}aw(t)},N=()=>{C(!0)},R=()=>{i(),C(!1)},A=()=>{C(!1)},j=()=>{o(),y(!0),setTimeout(()=>y(!1),500)};F.useEffect(()=>{const U=ae=>{(ae.ctrlKey||ae.metaKey)&&ae.key==="z"&&!ae.shiftKey&&(ae.preventDefault(),t.length>0&&j()),(ae.ctrlKey||ae.metaKey)&&ae.key==="t"&&(ae.preventDefault(),g(!m))};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[t.length,m]);const $=U=>t.filter(ae=>ae.properties.type===U).length,Q={polygon:$("polygon"),rectangle:$("rectangle"),circle:$("circle"),lineString:$("lineString")},ne=Object.values(Q).reduce((U,ae)=>U+ae,0),xe=[{type:"polygon",name:"Polygon",icon:v.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[v.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z"}),v.jsx("path",{d:"M2 17L12 22L22 17"}),v.jsx("path",{d:"M2 12L12 17L22 12"})]}),color:"#3b82f6"},{type:"rectangle",name:"Rectangle",icon:v.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:v.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"})}),color:"#10b981"},{type:"circle",name:"Circle",icon:v.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:v.jsx("circle",{cx:"12",cy:"12",r:"10"})}),color:"#ef4444"},{type:"lineString",name:"Line String",icon:v.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:v.jsx("path",{d:"M3 12H21M3 6H21M3 18H21"})}),color:"#8b5cf6"}];return v.jsxs(v.Fragment,{children:[v.jsx("button",{className:`toolbar-toggle ${m?"collapsed":"expanded"}`,onClick:()=>g(!m),title:m?"Show Toolbar (Ctrl+T)":"Hide Toolbar (Ctrl+T)",children:v.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:`toggle-icon ${m?"rotated":""}`,children:v.jsx("polyline",{points:"15,18 9,12 15,6"})})}),v.jsxs("div",{className:`modern-toolbar ${m?"collapsed":"expanded"}`,children:[v.jsxs("div",{className:"toolbar-header",children:[v.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"toolbar-icon",children:[v.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z"}),v.jsx("path",{d:"M2 17L12 22L22 17"}),v.jsx("path",{d:"M2 12L12 17L22 12"})]}),v.jsx("h2",{className:"toolbar-title",children:"Drawing Tools"})]}),v.jsx("div",{className:"tools-grid",children:xe.map(U=>{const ae=$(U.type);return v.jsxs("button",{className:`tool-button ${u(U.type)?"active":""} ${h?"changing":""}`,onClick:()=>k(U.type),disabled:h,style:{"--tool-color":U.color,background:u(U.type)?`linear-gradient(135deg, ${U.color}20, ${U.color}40)`:void 0},children:[v.jsx("div",{className:"tool-icon",children:U.icon}),v.jsx("span",{className:"tool-name",children:U.name}),v.jsx("div",{className:"shape-counter",style:{color:U.color},children:ae}),u(U.type)&&v.jsx("div",{className:"active-indicator"})]},U.type)})}),v.jsx("div",{className:"toolbar-divider"}),v.jsxs("div",{className:"actions-section",children:[v.jsx("h3",{className:"section-title",children:"Actions"}),v.jsxs("div",{className:"action-buttons",children:[v.jsxs("button",{className:"action-button export-button",onClick:T,disabled:t.length===0,children:[v.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[v.jsx("path",{d:"M21 15V19A2 2 0 0 1 19 21H5A2 2 0 0 1 3 19V15"}),v.jsx("polyline",{points:"7,10 12,15 17,10"}),v.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Export GeoJSON"]}),v.jsxs("button",{className:`action-button undo-button ${p?"undo-used":""}`,onClick:j,disabled:t.length===0,title:"Remove last drawn shape (Ctrl+Z)",children:[v.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[v.jsx("path",{d:"M3 7V3H7"}),v.jsx("path",{d:"M21 17A9 9 0 0 0 3 7L7 11"})]}),"Undo Last"]}),v.jsxs("button",{className:`action-button clear-button ${t.length>0?"has-features":""}`,onClick:N,disabled:t.length===0,children:[v.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[v.jsx("polyline",{points:"3,6 5,6 21,6"}),v.jsx("path",{d:"M19,6V20A2,2 0 0,1 17,20H7A2,2 0 0,1 5,20V6M8,6V4A2,2 0 0,1 10,4H14A2,2 0 0,1 16,4V6"})]}),"Clear All ",t.length>0&&`(${t.length})`,t.length>0&&v.jsx("div",{className:"clear-pulse"})]})]})]}),v.jsx("div",{className:"toolbar-stats",children:v.jsxs("div",{className:"stat-item",children:[v.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"stat-icon",children:[v.jsx("path",{d:"M3 3V21H21V9L15 3H3Z"}),v.jsx("path",{d:"M9 9H15M9 13H15M9 17H13"})]}),v.jsxs("div",{className:"stat-content",children:[v.jsx("div",{className:"stat-label",children:"Total Features"}),v.jsx("div",{className:"stat-value",children:t.length})]})]})}),t.length>0&&v.jsxs("div",{className:"feature-list-section",children:[v.jsx("h3",{className:"section-title",children:"Drawn Shapes"}),v.jsxs("div",{className:"feature-list",children:[t.slice(-5).reverse().map(U=>{const ae=Ql(U,t),re=xe.find(je=>je.type===U.properties.type);return v.jsxs("div",{className:"feature-list-item",children:[v.jsx("div",{className:"feature-icon",style:{color:re==null?void 0:re.color},children:re==null?void 0:re.icon}),v.jsxs("div",{className:"feature-info",children:[v.jsx("div",{className:"feature-name",children:ae}),v.jsx("div",{className:"feature-type",children:re==null?void 0:re.name})]}),v.jsxs("div",{className:"feature-order",children:["#",U.properties.order||0]})]},U.properties.id)}),t.length>5&&v.jsxs("div",{className:"feature-list-more",children:["+",t.length-5," more shapes"]})]})]}),ne>0?v.jsxs("div",{className:"shape-stats-section",children:[v.jsx("h3",{className:"section-title",children:"Shape Usage"}),v.jsx("div",{className:"shape-stats-grid",children:xe.map(U=>{const ae=$(U.type),re=ne>0?Math.round(ae/ne*100):0;return v.jsxs("div",{className:`shape-stat-item ${ae>0?"has-shapes":""}`,style:{"--shape-color":U.color},children:[v.jsxs("div",{className:"shape-stat-header",children:[v.jsx("div",{className:"shape-stat-icon",style:{color:U.color},children:U.icon}),v.jsxs("div",{className:"shape-stat-info",children:[v.jsx("div",{className:"shape-stat-name",children:U.name}),v.jsxs("div",{className:"shape-stat-count",children:[v.jsx("span",{className:"count-number",children:ae}),ae>0&&v.jsxs("span",{className:"count-percentage",children:["(",re,"%)"]})]})]})]}),ae>0&&v.jsx("div",{className:"shape-stat-bar",children:v.jsx("div",{className:"shape-stat-fill",style:{width:`${re}%`,backgroundColor:U.color}})})]},U.type)})}),v.jsxs("div",{className:"usage-summary",children:[v.jsxs("div",{className:"summary-item",children:[v.jsx("span",{className:"summary-label",children:"Most Used:"}),v.jsx("span",{className:"summary-value",children:(()=>{var je,z;const U=Math.max(...Object.values(Q));if(U===0)return"None";const ae=(je=Object.entries(Q).find(([Y,B])=>B===U))==null?void 0:je[0];return`${((z=xe.find(Y=>Y.type===ae))==null?void 0:z.name)||ae} (${U})`})()})]}),t.length>0&&v.jsxs("div",{className:"summary-item",children:[v.jsx("span",{className:"summary-label",children:"Last Drawn:"}),v.jsx("span",{className:"summary-value",children:(()=>{const U=t[t.length-1];return U?Ql(U,t):"None"})()})]})]})]}):v.jsxs("div",{className:"no-shapes-message",children:[v.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"no-shapes-icon",children:[v.jsx("path",{d:"M3 3V21H21V9L15 3H3Z"}),v.jsx("path",{d:"M9 9H15M9 13H15M9 17H13"})]}),v.jsxs("div",{className:"no-shapes-text",children:[v.jsx("div",{className:"no-shapes-title",children:"No shapes drawn yet"}),v.jsx("div",{className:"no-shapes-subtitle",children:"Start drawing to see usage statistics"})]})]}),e&&v.jsxs("div",{className:"active-tool-info",children:[v.jsxs("div",{className:"info-header",children:[v.jsx("div",{className:"info-pulse"}),v.jsxs("span",{className:"info-title",children:["Drawing: ",e]})]}),v.jsxs("div",{className:"info-instructions",children:[e==="polygon"&&"Click to place points, double-click to finish",e==="rectangle"&&"Click and drag to draw rectangle",e==="circle"&&"Click and drag to draw circle",e==="lineString"&&"Click to place points, double-click to finish"]}),["polygon","rectangle","circle"].includes(e)&&v.jsxs("div",{className:"constraint-info",children:[v.jsxs("div",{className:"constraint-title",children:[v.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[v.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),v.jsx("circle",{cx:"12",cy:"16",r:"1"}),v.jsx("path",{d:"M7 11V7A5 5 0 0 1 17 7V11"})]}),"Non-overlap Rule:"]}),v.jsx("div",{className:"constraint-text",children:"Polygonal shapes cannot overlap. Overlaps will be auto-trimmed."})]}),e==="lineString"&&v.jsxs("div",{className:"constraint-info",children:[v.jsxs("div",{className:"constraint-title",children:[v.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[v.jsx("path",{d:"M21 16V8A2 2 0 0 0 19 6H5A2 2 0 0 0 3 8V16A2 2 0 0 0 5 18H19A2 2 0 0 0 21 16Z"}),v.jsx("path",{d:"M7 10H17M7 14H17"})]}),"Line Freedom:"]}),v.jsx("div",{className:"constraint-text",children:"Lines can freely cross or overlap any shapes."})]})]}),r&&v.jsxs("div",{className:`error-card ${r.includes("trimmed")?"info-card":""}`,children:[v.jsx("div",{className:"error-icon",children:v.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.includes("trimmed")?v.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z"}):v.jsx("path",{d:"M10.29 3.86L1.82 18A2 2 0 0 0 3.54 21H20.46A2 2 0 0 0 22.18 18L13.71 3.86A2 2 0 0 0 10.29 3.86Z"}),v.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),v.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}),v.jsx("div",{className:"error-message",children:r})]}),S&&v.jsx("div",{className:"modal-overlay",children:v.jsxs("div",{className:"modal-dialog",children:[v.jsxs("div",{className:"modal-header",children:[v.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[v.jsx("path",{d:"M10.29 3.86L1.82 18A2 2 0 0 0 3.54 21H20.46A2 2 0 0 0 22.18 18L13.71 3.86A2 2 0 0 0 10.29 3.86Z"}),v.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),v.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),v.jsx("h3",{children:"Confirm Action"})]}),v.jsx("div",{className:"modal-body",children:v.jsx("p",{children:"Are you sure you want to clear all features?"})}),v.jsxs("div",{className:"modal-actions",children:[v.jsx("button",{className:"modal-button cancel-button",onClick:A,children:"Cancel"}),v.jsx("button",{className:"modal-button confirm-button",onClick:R,children:"Clear All"})]})]})}),P&&v.jsx("div",{className:"modal-overlay",children:v.jsxs("div",{className:"modal-dialog",children:[v.jsxs("div",{className:"modal-header",children:[v.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[v.jsx("circle",{cx:"12",cy:"12",r:"10"}),v.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),v.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),v.jsx("h3",{children:"Information"})]}),v.jsx("div",{className:"modal-body",children:v.jsx("p",{children:w})}),v.jsx("div",{className:"modal-actions",children:v.jsx("button",{className:"modal-button confirm-button",onClick:()=>D(!1),children:"OK"})})]})})]})]})},uw=({onLocationSelect:e})=>{const[t,i]=F.useState(""),[o,r]=F.useState([]),[a,u]=F.useState(!1),[h,d]=F.useState(!1),p=F.useRef(null),y=F.useRef(null),m=F.useCallback(async D=>{const w=D.trim().toLowerCase();if(w.length<2){r([]),d(!1),u(!1);return}y.current&&y.current.abort(),y.current=new AbortController,u(!0);try{const x=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(w)}&limit=5&addressdetails=1`,{signal:y.current.signal});if(!x.ok)throw new Error("Search failed");const k=await x.json();r(k),console.log(" Search results received:",k)}catch(x){x.name!=="AbortError"&&(console.error("Search error:",x),r([]))}finally{u(!1),y.current=null}},[]);F.useEffect(()=>(p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{m(t)},500),()=>{p.current&&clearTimeout(p.current)}),[t,m]);const g=D=>{const w=D.target.value;i(w),w.trim().length>=2&&u(!0)},S=D=>{const w=parseFloat(D.lat),x=parseFloat(D.lon);if(isNaN(w)||isNaN(x)){console.error(" Invalid coordinates:",{lat:D.lat,lon:D.lon});return}e(w,x,D.display_name),i(""),r([]),u(!1)},C=D=>{D.key==="Enter"&&o.length>0&&S(o[0]),D.key==="Escape"&&d(!1)},P=()=>{i(""),r([]),d(!1),u(!1),y.current&&y.current.abort()};return v.jsxs("div",{style:{backgroundColor:"#ffffff",border:"2px solid #1a73e8",borderRadius:"24px",padding:"6px",width:"280px",maxWidth:"90vw",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15), 0 4px 12px rgba(26, 115, 232, 0.1)",position:"relative",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",backgroundColor:"#f8f9fa",borderRadius:"20px",padding:"2px",border:"1px solid #dadce0",minHeight:"40px",transition:"all 0.3s ease"},children:[v.jsx("div",{style:{padding:"8px 12px",color:"#5f6368",display:"flex",alignItems:"center",justifyContent:"center"},children:a?v.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid #e8eaed",borderTop:"2px solid #1a73e8",borderRadius:"50%",animation:"spin 1s linear infinite"}}):v.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[v.jsx("circle",{cx:"11",cy:"11",r:"8"}),v.jsx("path",{d:"m21 21-4.35-4.35"})]})}),v.jsx("input",{type:"text",value:t,onChange:g,onKeyDown:C,placeholder:"Search cities, countries, places...",style:{flex:"1",border:"none",outline:"none",padding:"8px 4px",fontSize:"14px",fontWeight:"400",backgroundColor:"transparent",color:"#202124",fontFamily:"inherit"}}),t&&v.jsx("button",{onClick:P,style:{padding:"6px",border:"none",backgroundColor:"#fee2e2",color:"#dc2626",cursor:"pointer",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"4px",width:"24px",height:"24px",transition:"all 0.3s ease"},onMouseOver:D=>{D.currentTarget.style.backgroundColor="#fecaca",D.currentTarget.style.transform="scale(1.1)"},onMouseOut:D=>{D.currentTarget.style.backgroundColor="#fee2e2",D.currentTarget.style.transform="scale(1)"},children:v.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[v.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),v.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),t.length>0&&t.length<2&&v.jsx("div",{style:{fontSize:"11px",color:"#5f6368",marginTop:"4px",padding:"4px 8px",backgroundColor:"#e3f2fd",borderRadius:"12px",textAlign:"center",border:"1px solid #bbdefb"},children:"Type 2+ characters"}),o.length>0&&v.jsx("div",{style:{position:"absolute",top:"100%",left:"0",right:"0",backgroundColor:"#ffffff",borderRadius:"16px",boxShadow:"0 12px 32px rgba(0, 0, 0, 0.2), 0 6px 16px rgba(26, 115, 232, 0.15)",border:"2px solid #1a73e8",zIndex:"1000",maxHeight:"300px",overflowY:"auto",marginTop:"8px",padding:"8px"},children:o.map(D=>v.jsxs("div",{onClick:()=>S(D),style:{display:"flex",alignItems:"center",gap:"12px",padding:"8px 12px",cursor:"pointer",borderRadius:"8px",marginBottom:"2px",backgroundColor:"#f8f9fa",border:"1px solid #e8eaed",transition:"all 0.2s ease"},onMouseOver:w=>{w.currentTarget.style.backgroundColor="#e3f2fd",w.currentTarget.style.borderColor="#1a73e8",w.currentTarget.style.transform="translateX(2px)"},onMouseOut:w=>{w.currentTarget.style.backgroundColor="#f8f9fa",w.currentTarget.style.borderColor="#e8eaed",w.currentTarget.style.transform="translateX(0)"},children:[v.jsx("div",{style:{fontSize:"16px",color:"#1a73e8"},children:""}),v.jsxs("div",{style:{flex:"1",minWidth:"0"},children:[v.jsx("div",{style:{fontWeight:"500",color:"#202124",fontSize:"14px",marginBottom:"1px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:D.display_name.split(",")[0]}),v.jsx("div",{style:{color:"#5f6368",fontSize:"12px",lineHeight:"1.2",fontWeight:"400",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:D.display_name})]})]},D.place_id))}),h&&o.length===0&&t.length>=2&&!a&&v.jsxs("div",{style:{position:"absolute",top:"100%",left:"0",right:"0",backgroundColor:"#ffffff",borderRadius:"16px",boxShadow:"0 12px 32px rgba(0, 0, 0, 0.2), 0 6px 16px rgba(26, 115, 232, 0.15)",border:"2px solid #1a73e8",zIndex:"1000",marginTop:"8px",padding:"20px 16px",textAlign:"center"},children:[v.jsx("div",{style:{fontSize:"24px",marginBottom:"8px",color:"#dadce0"},children:""}),v.jsx("div",{style:{color:"#202124",fontSize:"14px",fontWeight:"400",marginBottom:"2px"},children:"No results found"}),v.jsx("div",{style:{fontSize:"12px",color:"#5f6368",fontWeight:"400"},children:"Try different keywords"})]}),v.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})},cw=({searchLocation:e})=>{const t=sm(),{setError:i}=Ur(),[o,r]=F.useState(null);return F.useEffect(()=>{if(e){if(isNaN(e.lat)||isNaN(e.lon)){i("Invalid location coordinates");return}try{o&&t.removeLayer(o);const a=[e.lat,e.lon],u=$e.divIcon({html:`
            <div style="
              background: #3b82f6;
              border: 2px solid white;
              border-radius: 50%;
              width: 20px;
              height: 20px;
              box-shadow: 0 2px 8px rgba(59, 130, 246, 0.4);
            "></div>
          `,className:"search-marker",iconSize:[20,20],iconAnchor:[10,10]}),h=$e.marker(a,{icon:u}).addTo(t);h.bindPopup(` ${e.name.split(",")[0]}`,{closeButton:!1,className:"search-popup"}).openPopup(),r(h),t.setView(a,13),setTimeout(()=>{h&&t.hasLayer(h)&&(t.removeLayer(h),r(null))},3e3)}catch(a){console.error(" Error navigating to location:",a),i("Failed to navigate to selected location")}}},[e,t,i,o]),F.useEffect(()=>()=>{o&&t.hasLayer(o)&&t.removeLayer(o)},[o,t]),null},hw=()=>{const{features:e,updateFeature:t}=Ur(),[i,o]=F.useState(null),[r,a]=F.useState(""),[u,h]=F.useState(!1);F.useEffect(()=>{const g=S=>{(S.ctrlKey||S.metaKey)&&S.key==="m"&&(S.preventDefault(),h(!u))};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[u]);const d=g=>{o(g.properties.id),a(g.properties.customName||"")},p=g=>{const S=e.find(C=>C.properties.id===g);S&&t(g,{properties:{...S.properties,customName:r.trim()}}),o(null),a("")},y=()=>{o(null),a("")},m=(g,S)=>{g.key==="Enter"?p(S):g.key==="Escape"&&y()};return e.length===0?null:v.jsxs(v.Fragment,{children:[v.jsx("button",{className:`measurements-toggle ${u?"collapsed":"expanded"}`,onClick:()=>h(!u),title:u?"Show Measurements Panel (Ctrl+M)":"Hide Measurements Panel (Ctrl+M)",children:v.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:`measurements-toggle-icon ${u?"rotated":""}`,children:v.jsx("polyline",{points:"9,18 15,12 9,6"})})}),v.jsxs("div",{className:`measurements-panel ${u?"hidden":""}`,children:[v.jsxs("div",{className:"measurements-header",children:[v.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[v.jsx("path",{d:"M3 3V21H21V9L15 3H3Z"}),v.jsx("path",{d:"M9 9H15M9 13H15M9 17H13"})]}),v.jsx("h3",{children:"Measurements & Stats"})]}),v.jsx("div",{className:"measurements-content",children:e.map((g,S)=>{const C=xm(g),P=Lm(g),{type:D}=g.properties,w=Ql(g,e),x=i===g.properties.id;return v.jsxs("div",{className:"measurement-item",children:[v.jsxs("div",{className:"measurement-title",children:[v.jsxs("span",{className:`shape-icon shape-${D}`,children:[D==="polygon"&&v.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:v.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z"})}),D==="rectangle"&&v.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:v.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"})}),D==="circle"&&v.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:v.jsx("circle",{cx:"12",cy:"12",r:"10"})}),D==="lineString"&&v.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:v.jsx("path",{d:"M3 12H21M3 6H21M3 18H21"})})]}),v.jsx("div",{className:"shape-name-container",children:x?v.jsxs("div",{className:"name-edit-container",children:[v.jsx("input",{type:"text",value:r,onChange:k=>a(k.target.value),onBlur:()=>p(g.properties.id),onKeyDown:k=>m(k,g.properties.id),className:"name-edit-input",placeholder:`${km(D)} ${S+1}`,autoFocus:!0,maxLength:30}),v.jsxs("div",{className:"name-edit-buttons",children:[v.jsx("button",{className:"name-save-btn",onClick:()=>p(g.properties.id),title:"Save name"}),v.jsx("button",{className:"name-cancel-btn",onClick:y,title:"Cancel"})]})]}):v.jsxs("span",{className:"shape-name editable-name",onClick:()=>d(g),title:"Click to edit name",children:[w,v.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"edit-icon",children:[v.jsx("path",{d:"M11 4H4A2 2 0 0 0 2 6V20A2 2 0 0 0 4 22H18A2 2 0 0 0 20 20V13"}),v.jsx("path",{d:"M18.5 2.5A2.121 2.121 0 0 1 21 5L12 14L8 15L9 11L18.5 2.5Z"})]})]})})]}),P&&v.jsx("div",{className:"measurement-summary",children:P}),v.jsxs("div",{className:"measurement-details",children:[v.jsxs("div",{className:"measurement-row",children:[v.jsxs("span",{className:"measurement-label",children:[v.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[v.jsx("path",{d:"M21 10C21 17 12 23 12 23S3 17 3 10A9 9 0 0 1 21 10Z"}),v.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),"Center:"]}),v.jsx("span",{className:"measurement-value",children:C.center})]}),v.jsxs("div",{className:"measurement-row",children:[v.jsxs("span",{className:"measurement-label",children:[v.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[v.jsx("circle",{cx:"12",cy:"12",r:"10"}),v.jsx("path",{d:"M2 12H22"}),v.jsx("path",{d:"M12 2A15.3 15.3 0 0 1 4 6"}),v.jsx("path",{d:"M12 2A15.3 15.3 0 0 0 20 6"})]}),"Bounds:"]}),v.jsx("span",{className:"measurement-value",children:C.boundingBox})]})]})]},g.properties.id)})})]})]})},dw=({onEnter:e,isTransitioning:t})=>{const[i,o]=F.useState(!1),[r,a]=F.useState(0);F.useEffect(()=>{o(!0);const h=setInterval(()=>{a(d=>(d+1)%4)},3e3);return()=>clearInterval(h)},[]);const u=[{icon:v.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[v.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z"}),v.jsx("path",{d:"M2 17L12 22L22 17"}),v.jsx("path",{d:"M2 12L12 17L22 12"})]}),title:"Draw Polygons",description:"Create complex shapes with precision"},{icon:v.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:v.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"})}),title:"Draw Rectangles",description:"Perfect geometric shapes made easy"},{icon:v.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:v.jsx("circle",{cx:"12",cy:"12",r:"10"})}),title:"Draw Circles",description:"Smooth circular shapes and areas"},{icon:v.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:v.jsx("path",{d:"M3 12H21M3 6H21M3 18H21"})}),title:"Draw Lines",description:"Connect points with flowing lines"}];return v.jsxs("div",{className:`landing-page ${i?"loaded":""} ${t?"slide-out":""}`,children:[v.jsxs("div",{className:"landing-background",children:[v.jsx("div",{className:"bg-shape shape-1"}),v.jsx("div",{className:"bg-shape shape-2"}),v.jsx("div",{className:"bg-shape shape-3"}),v.jsx("div",{className:"bg-shape shape-4"}),v.jsx("div",{className:"bg-particles",children:Array.from({length:20}).map((h,d)=>v.jsx("div",{className:`particle particle-${d+1}`},d))})]}),v.jsxs("div",{className:"landing-content",children:[v.jsx("header",{className:"landing-header",children:v.jsxs("div",{className:"logo-container",children:[v.jsx("div",{className:"logo-icon",children:v.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[v.jsx("path",{d:"M21 10C21 17 12 23 12 23S3 17 3 10A9 9 0 0 1 21 10Z"}),v.jsx("circle",{cx:"12",cy:"10",r:"3"})]})}),v.jsx("h1",{className:"logo-text",children:"MapDraw"})]})}),v.jsxs("main",{className:"hero-section",children:[v.jsxs("div",{className:"hero-content",children:[v.jsxs("h2",{className:"hero-title",children:["Create Beautiful",v.jsx("span",{className:"gradient-text",children:" Geographic Shapes"})]}),v.jsx("p",{className:"hero-description",children:"Professional mapping tool for drawing, measuring, and analyzing geometric shapes on interactive maps. Perfect for urban planning, land surveying, and geographic analysis."}),v.jsx("div",{className:"feature-showcase",children:v.jsxs("div",{className:"feature-card active",children:[v.jsx("div",{className:"feature-icon",children:u[r].icon}),v.jsxs("div",{className:"feature-content",children:[v.jsx("h3",{children:u[r].title}),v.jsx("p",{children:u[r].description})]})]})}),v.jsx("div",{className:"feature-indicators",children:u.map((h,d)=>v.jsx("button",{className:`indicator ${d===r?"active":""}`,onClick:()=>a(d)},d))}),v.jsxs("button",{className:"cta-button",onClick:e,children:[v.jsx("span",{children:"Start Drawing"}),v.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[v.jsx("path",{d:"M5 12H19"}),v.jsx("path",{d:"M12 5L19 12L12 19"})]})]})]}),v.jsx("div",{className:"preview-container",children:v.jsxs("div",{className:"preview-map",children:[v.jsxs("div",{className:"preview-shapes",children:[v.jsx("div",{className:"preview-shape polygon"}),v.jsx("div",{className:"preview-shape rectangle"}),v.jsx("div",{className:"preview-shape circle"}),v.jsx("div",{className:"preview-shape line"})]}),v.jsx("div",{className:"preview-grid"})]})})]}),v.jsxs("section",{className:"features-grid",children:[v.jsxs("div",{className:"feature-item",children:[v.jsx("div",{className:"feature-item-icon",children:v.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[v.jsx("path",{d:"M3 3V21H21V9L15 3H3Z"}),v.jsx("path",{d:"M9 9H15M9 13H15M9 17H13"})]})}),v.jsx("h4",{children:"Real-time Measurements"}),v.jsx("p",{children:"Get instant area, perimeter, and coordinate data"})]}),v.jsxs("div",{className:"feature-item",children:[v.jsx("div",{className:"feature-item-icon",children:v.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[v.jsx("path",{d:"M21 15V19A2 2 0 0 1 19 21H5A2 2 0 0 1 3 19V15"}),v.jsx("polyline",{points:"7,10 12,15 17,10"}),v.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}),v.jsx("h4",{children:"Export Data"}),v.jsx("p",{children:"Download your shapes as GeoJSON files"})]}),v.jsxs("div",{className:"feature-item",children:[v.jsx("div",{className:"feature-item-icon",children:v.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[v.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z"}),v.jsx("path",{d:"M2 17L12 22L22 17"}),v.jsx("path",{d:"M2 12L12 17L22 12"})]})}),v.jsx("h4",{children:"Multiple Shapes"}),v.jsx("p",{children:"Draw polygons, rectangles, circles, and lines"})]})]})]})]})},fw=[28.6139,77.209],pw=13;delete Yu.Icon.Default.prototype._getIconUrl;Yu.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});function mw(){const[e,t]=F.useState(null),[i,o]=F.useState(!1),[r,a]=F.useState(!1),[u,h]=F.useState(!0),[d,p]=F.useState(!1),y=(C,P,D)=>{t({lat:C,lon:P,name:D}),setTimeout(()=>{t(null)},1e3)},m=()=>{p(!0),setTimeout(()=>{h(!1)},900)},g=()=>{console.log(" Tiles started loading")},S=()=>{console.log(" Tiles loaded"),a(!0)};return F.useEffect(()=>{if(d){const C=setTimeout(()=>{o(!0)},600);return()=>clearTimeout(C)}},[d]),F.useEffect(()=>{if(r){const C=setTimeout(()=>{o(!0)},200);return()=>clearTimeout(C)}},[r]),v.jsxs("div",{className:"app",children:[v.jsxs("div",{className:`main-app ${d?"slide-in":""}`,children:[d&&!i&&v.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:9999,color:"white"},children:[v.jsx("div",{style:{width:"50px",height:"50px",border:"3px solid rgba(255, 255, 255, 0.3)",borderTop:"3px solid white",borderRadius:"50%",animation:"spin 0.8s linear infinite",marginBottom:"20px"}}),v.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:"22px",fontWeight:"600"},children:"Loading Map"}),v.jsx("p",{style:{margin:0,opacity:.9,fontSize:"14px"},children:"Preparing your mapping experience..."})]}),v.jsx(lw,{}),v.jsx(hw,{}),v.jsx("div",{className:"search-overlay",children:v.jsx(uw,{onLocationSelect:y})}),v.jsxs(zy,{center:fw,zoom:pw,style:{height:"100vh",width:"100vw"},preferCanvas:!0,zoomControl:!0,scrollWheelZoom:!0,doubleClickZoom:!0,touchZoom:!0,attributionControl:!1,children:[v.jsx(Iy,{attribution:"",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",maxZoom:19,minZoom:3,tileSize:256,zoomOffset:0,crossOrigin:!0,keepBuffer:4,updateWhenIdle:!0,updateWhenZooming:!1,updateInterval:200,eventHandlers:{loading:g,load:S}}),v.jsx(ow,{}),v.jsx(cw,{searchLocation:e})]})]}),u&&v.jsx(dw,{onEnter:m,isTransitioning:d})]})}$a.createRoot(document.getElementById("root")).render(v.jsx(ki.StrictMode,{children:v.jsx(mw,{})}));
